{"version":3,"sources":["webpack:///static/js/5.f6844b66fe549e13b488.js","webpack:///./src/components/system/add_notice.vue","webpack:///src/components/system/add_notice.vue","webpack:///./src/components/system/add_notice.vue?eefd"],"names":["webpackJsonp","HlXq","module","__webpack_exports__","__webpack_require__","injectStyle","context","Object","defineProperty","value","add_notice","data","ruleForm","adminName","title","menuId","delivery","type","order","content","editorOption","modules","toolbar","header","list","script","indent","direction","size","font","color","background","align","keyboard","bindings","tab","key","handler","val","custom","shiftKey","range","editKey","layedit","rules","required","message","trigger","min","methods","submitForm","formName","_this2","this","$refs","validate","valid","url","$route","name","$message","$ajax","res","returnCode","msg","getNoticeById","_this3","noticeid","params","id","releaseDate","resetForm","onEditorChange","editor","html","text","onEditorReady","created","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator-class","to","_v","_s","show-icon","ref","model","label-width","label","prop","placeholder","callback","$$v","$set","expression","options","on","change","$event","ready","click","staticRenderFns","component_normalizer","__vue_styles__","Component","VkQR","exports"],"mappings":"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","file":"static/js/5.f6844b66fe549e13b488.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ \"HlXq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=script&index=0!./src/components/system/add_notice.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var add_notice = ({\n  data: function data() {\n    var _this = this;\n\n    var validateContent = function validateContent(rule, value, callback) {\n      if (_this.$http.trim(value).length < 1) {\n        callback(new Error('请添加详情内容！'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      ruleForm: {\n        adminName: '', // 发布人\n        title: '', // 标题\n        menuId: '',\n        //          date1: new Date(), //发布时间\n        delivery: false,\n        type: [],\n        order: 1,\n        content: '' // 公告内容\n      },\n      editorOption: {\n        modules: {\n          toolbar: [['bold', 'italic', 'underline', 'strike'], ['blockquote', 'code-block'], [{ 'header': 1 }, { 'header': 2 }], [{ 'list': 'ordered' }, { 'list': 'bullet' }], [{ 'script': 'sub' }, { 'script': 'super' }], [{ 'indent': '-1' }, { 'indent': '+1' }], [{ 'direction': 'rtl' }], [{ 'size': ['small', false, 'large', 'huge'] }], [{ 'header': [1, 2, 3, 4, 5, 6, false] }], [{ 'font': [] }], [{ 'color': [] }, { 'background': [] }], [{ 'align': [] }], ['clean'], ['link', 'image']]\n        },\n        keyboard: {\n          bindings: {\n            tab: {\n              key: 9,\n              handler: function handler(val) {}\n            },\n            custom: {\n              key: 'B',\n              shiftKey: true,\n              handler: function handler(range, context) {}\n            }\n          }\n        }\n      },\n      editKey: null,\n      layedit: null,\n      rules: {\n        menuId: { required: true, message: '请选取类型', trigger: 'blur' },\n        title: [{ required: true, message: '请输入活动名称', trigger: 'blur' }, { min: 3, message: '长度不可少于3个字符', trigger: 'blur' }],\n        adminName: [{ required: true, message: '请填写发布人', trigger: 'blur' }],\n        type: [{ type: 'array', required: true, message: '请至少选择一个活动性质', trigger: 'change' }],\n        content: [{ required: true, message: '请填写活动形式', trigger: 'blur' }]\n      }\n    };\n  },\n\n  methods: {\n    submitForm: function submitForm(formName) {\n      var _this2 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        var url = '/admin/addPublishanotice';\n        if (_this2.$route.name === 'sysEditNotice') {\n          url = '/admin/updatePublishanotice';\n        }\n        if (valid) {\n          _this2.$ajax(url, _this2.ruleForm, function (res) {\n            if (res.returnCode === 200) {\n              _this2.$message({ message: res.msg, type: 'success' });\n              if (_this2.$route.name === 'sysEditNotice') {\n                _this2.getNoticeById();\n              }\n            }\n          });\n        } else {\n          _this2.$message({ message: '请完善信息后提交！', type: 'warning' });\n          return false;\n        }\n      });\n    },\n    getNoticeById: function getNoticeById() {\n      var _this3 = this;\n\n      this.$ajax('/admin/sys-getNoticeById', {\n        noticeid: this.$route.params.id\n      }, function (res) {\n        if (res.returnCode === 200) {\n          delete res.data.releaseDate;\n          _this3.ruleForm = res.data;\n        }\n      }, 'get');\n    },\n    resetForm: function resetForm() {\n      this.getNoticeById();\n    },\n    onEditorChange: function onEditorChange(editor, html, text) {\n      //\n    },\n    onEditorReady: function onEditorReady(editor) {\n      //\n    }\n  },\n  created: function created() {\n    if (this.$route.name === 'sysEditNotice') {\n      this.getNoticeById();\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-57eae384\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/system/add_notice.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sys-notice-wrap\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":\"/system/notice\"}},[_vm._v(\"新闻公告\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.$route.name=='sysEditNotice'?'编辑公告':'新增公告'))])],1),_vm._v(\" \"),_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('div',[_vm._v(\"\\n      可根据需求添加相应类型的公告通知\\n    \")])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"所属类型\",\"prop\":\"region\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择活动区域\"},model:{value:(_vm.ruleForm.menuId),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"menuId\", $$v)},expression:\"ruleForm.menuId\"}},[_c('el-option',{attrs:{\"label\":\"首页公告\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"滚动公告\",\"value\":2}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"福利公告\",\"value\":3}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"标    题\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.ruleForm.title),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"title\", $$v)},expression:\"ruleForm.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"发布人\",\"prop\":\"adminName\"}},[_c('el-input',{model:{value:(_vm.ruleForm.adminName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"adminName\", $$v)},expression:\"ruleForm.adminName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"内容详情\",\"prop\":\"content\"}},[_c('pre',[_vm._v(\"         \"),_c('quill-editor',{ref:\"myTextEditor\",attrs:{\"options\":_vm.editorOption},on:{\"change\":function($event){_vm.onEditorChange($event)},\"ready\":function($event){_vm.onEditorReady($event)}},model:{value:(_vm.ruleForm.content),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"content\", $$v)},expression:\"ruleForm.content\"}},[_vm._v(\"\\n         \")]),_vm._v(\"\\n       \")],1)]),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"立即创建\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\n// EXTERNAL MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer.js\nvar component_normalizer = __webpack_require__(\"18Nq\");\n\n// CONCATENATED MODULE: ./src/components/system/add_notice.vue\nfunction injectStyle (context) {\n  __webpack_require__(\"VkQR\")\n}\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\n\nvar Component = Object(component_normalizer[\"a\" /* default */])(\n  add_notice,\n  render,\n  staticRenderFns,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var system_add_notice = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"VkQR\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/5.f6844b66fe549e13b488.js","function injectStyle (context) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=styles&index=0!./add_notice.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./add_notice.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./add_notice.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-57eae384\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=template&index=0!./add_notice.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/system/add_notice.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"sys-notice-wrap\">\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item to=\"/system/notice\">新闻公告</el-breadcrumb-item>\n      <el-breadcrumb-item >{{$route.name=='sysEditNotice'?'编辑公告':'新增公告'}}</el-breadcrumb-item>\n    </el-breadcrumb>\n    \n    <el-alert\n      title=\"操作说明\"\n      type=\"info\"\n      show-icon>\n      <div>\n        可根据需求添加相应类型的公告通知\n      </div>\n    </el-alert>\n    <el-row class=\"mbt20\">\n      <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\n        <el-form-item label=\"所属类型\" prop=\"region\">\n          <el-select v-model=\"ruleForm.menuId\" placeholder=\"请选择活动区域\">\n            <el-option label=\"首页公告\" :value=\"1\"></el-option>\n            <el-option label=\"滚动公告\" :value=\"2\"></el-option>\n            <el-option label=\"福利公告\" :value=\"3\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"标    题\" prop=\"title\">\n          <el-input v-model=\"ruleForm.title\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"发布人\" prop=\"adminName\">\n          <el-input v-model=\"ruleForm.adminName\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"内容详情\" prop=\"content\">\n         <pre>\n           <quill-editor\n               ref=\"myTextEditor\"\n               v-model=\"ruleForm.content\"\n               :options=\"editorOption\"\n               @change=\"onEditorChange($event)\"\n               @ready=\"onEditorReady($event)\">\n           </quill-editor>\n         </pre>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">立即创建</el-button>\n         \n        </el-form-item>\n      </el-form>\n    </el-row>\n  </div>\n</template>\n<script type=\"text/ecmascript-6\">\n  export default{\n    data() {\n      var validateContent = (rule, value, callback) => {\n        if (this.$http.trim(value).length < 1) {\n          callback(new Error('请添加详情内容！'))\n        } else {\n          callback()\n        }\n      }\n      return {\n        ruleForm: {\n          adminName: '', // 发布人\n          title: '', // 标题\n          menuId: '',\n//          date1: new Date(), //发布时间\n          delivery: false,\n          type: [],\n          order: 1,\n          content: '' // 公告内容\n        },\n        editorOption: {\n          modules: {\n            toolbar: [\n              ['bold', 'italic', 'underline', 'strike'],\n              ['blockquote', 'code-block'],\n              [{ 'header': 1 }, { 'header': 2 }],\n              [{ 'list': 'ordered' }, { 'list': 'bullet' }],\n              [{ 'script': 'sub' }, { 'script': 'super' }],\n              [{ 'indent': '-1' }, { 'indent': '+1' }],\n              [{ 'direction': 'rtl' }],\n              [{ 'size': ['small', false, 'large', 'huge'] }],\n              [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n              [{ 'font': [] }],\n              [{ 'color': [] }, { 'background': [] }],\n              [{ 'align': [] }],\n              ['clean'],\n              ['link', 'image']\n            ]\n          },\n          keyboard: {\n            bindings: {\n              tab: {\n                key: 9,\n                handler: function(val) {\n                }\n              },\n              custom: {\n                key: 'B',\n                shiftKey: true,\n                handler: function(range, context) {\n                }\n              }\n            }\n          }\n        },\n        editKey: null,\n        layedit: null,\n        rules: {\n          menuId: { required: true, message: '请选取类型', trigger: 'blur' },\n          title: [\n            { required: true, message: '请输入活动名称', trigger: 'blur' },\n            { min: 3, message: '长度不可少于3个字符', trigger: 'blur' }\n          ],\n          adminName: [\n            { required: true, message: '请填写发布人', trigger: 'blur' }\n          ],\n          type: [\n            { type: 'array', required: true, message: '请至少选择一个活动性质', trigger: 'change' }\n          ],\n          content: [\n            { required: true, message: '请填写活动形式', trigger: 'blur' }\n          ]\n        }\n      }\n  },\n    methods: {\n      submitForm(formName) {\n        this.$refs[formName].validate((valid) => {\n          let url = '/admin/addPublishanotice'\n          if (this.$route.name === 'sysEditNotice') {\n            url = '/admin/updatePublishanotice'\n          }\n          if (valid) {\n            this.$ajax(url, this.ruleForm, res => {\n              if (res.returnCode === 200) {\n                this.$message({ message: res.msg, type: 'success' })\n                if (this.$route.name === 'sysEditNotice') {\n                  this.getNoticeById()\n                }\n              }\n            })\n          } else {\n            this.$message({ message: '请完善信息后提交！', type: 'warning' })\n            return false\n          }\n        })\n      },\n  \n      getNoticeById() {\n        this.$ajax('/admin/sys-getNoticeById', {\n          noticeid: this.$route.params.id\n        }, res => {\n          if (res.returnCode === 200) {\n            delete res.data.releaseDate\n            this.ruleForm = res.data\n          }\n        }, 'get')\n      },\n      resetForm() {\n        this.getNoticeById()\n      },\n      onEditorChange(editor, html, text) {\n//\n      },\n      onEditorReady(editor) {\n//\n      }\n    },\n    created() {\n      if (this.$route.name === 'sysEditNotice') {\n        this.getNoticeById()\n      }\n    }\n  \n  }\n</script>\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n.sys-notice-wrap\n  pre\n    line-height 0\n.ql-editor\n  height 600px!important\n.ql-toolbar\n  line-height 1.2\n  \n.ql-toolbar\n  .ql-picker\n    &.ql-expanded\n      .ql-picker-options\n        margin-top 1px!important\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/system/add_notice.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sys-notice-wrap\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":\"/system/notice\"}},[_vm._v(\"新闻公告\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(_vm._s(_vm.$route.name=='sysEditNotice'?'编辑公告':'新增公告'))])],1),_vm._v(\" \"),_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('div',[_vm._v(\"\\n      可根据需求添加相应类型的公告通知\\n    \")])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"所属类型\",\"prop\":\"region\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择活动区域\"},model:{value:(_vm.ruleForm.menuId),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"menuId\", $$v)},expression:\"ruleForm.menuId\"}},[_c('el-option',{attrs:{\"label\":\"首页公告\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"滚动公告\",\"value\":2}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"福利公告\",\"value\":3}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"标    题\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.ruleForm.title),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"title\", $$v)},expression:\"ruleForm.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"发布人\",\"prop\":\"adminName\"}},[_c('el-input',{model:{value:(_vm.ruleForm.adminName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"adminName\", $$v)},expression:\"ruleForm.adminName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"内容详情\",\"prop\":\"content\"}},[_c('pre',[_vm._v(\"         \"),_c('quill-editor',{ref:\"myTextEditor\",attrs:{\"options\":_vm.editorOption},on:{\"change\":function($event){_vm.onEditorChange($event)},\"ready\":function($event){_vm.onEditorReady($event)}},model:{value:(_vm.ruleForm.content),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"content\", $$v)},expression:\"ruleForm.content\"}},[_vm._v(\"\\n         \")]),_vm._v(\"\\n       \")],1)]),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"立即创建\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-57eae384\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/system/add_notice.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}