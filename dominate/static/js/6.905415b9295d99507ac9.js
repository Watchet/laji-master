webpackJsonp([6],{"Is/Q":function(e,t){},"c4/Y":function(e,t,s){"use strict";function a(e){s("Is/Q")}Object.defineProperty(t,"__esModule",{value:!0});var r={data:function(){return{searchForm:{},defaultValue:null,pickerOptions:{shortcuts:[{text:"本月",onClick:function(e){var t=new Date,s=new Date;s.setDate(1),e.$emit("pick",[s,t])}}],disabledDate:function(e){return e.getTime()>Date.now()}},subscribeCommentList:{},keywords:"",selectType:"bookName",multipleSelection:[],userInfo:{},date:""}},methods:{getSubscribeStatisticList:function(){var e=this;if(this.searchForm={},this.searchForm.page=this.$route.params.page,this.$route.params.uid&&(this.searchForm.userId=this.$route.params.uid),this.selectType&&this.keywords){if(("bookId"===this.selectType||"userId"===this.selectType)&&!Number(this.keywords))return this.$message({message:"ID必需为数字",type:"warning"}),!1;this.searchForm[this.selectType]=this.keywords}this.date&&(this.searchForm.startdate=this.date[0]+" 00:00:00",this.searchForm.enddate=this.date[1]+" 23:59:59"),this.$ajax("/admin/getAdminSubscriptionList",this.searchForm,function(t){200===t.returnCode?e.subscribeCommentList=t.data:t.data||(e.subscribeCommentList={})})},searchReplyCom:function(){1==this.$route.params.page?this.getSubscribeStatisticList():this.$router.push({params:{page:1}})},handleCurrentChange:function(e){this.$router.push({params:{page:e}})},getUserInfo:function(){var e=this;this.$route.params.uid&&this.$ajax("/person-SimplifyUserInfo",{puserid:this.$route.params.uid},function(t){200===t.returnCode&&(e.userInfo=t.data)})}},created:function(){"staUserSubscribe"===this.$route.name&&(this.date=[this.$formTime(new Date((new Date).setDate(1)),"sort"),this.$formTime(new Date,"sort")]),this.getSubscribeStatisticList(),this.getUserInfo()},watch:{$route:function(){this.getSubscribeStatisticList()},date:function(e,t){""!==t&&this.getSubscribeStatisticList()}}},o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"reply-comment-wrap"},[s("el-alert",{attrs:{title:"操作说明",type:"info","show-icon":""}},[s("div",[s("p",[e._v("\n        此表为\n        "),s("span",{staticClass:"red"},[e._v(e._s("staUserReward"==e.$route.name?e.userInfo.pseudonym:"全站"))]),e._v("\n        的订阅统计，您可以通过相应类型进行精确搜索\n      ")])])]),e._v(" "),s("el-row",{staticClass:"mbt20"},[s("el-col",[s("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),e._v(" "),s("el-row",{staticClass:"mbt20"},[s("el-col",{attrs:{xs:20,sm:16,md:12,lg:9,xl:6}},[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.searchReplyCom(t):null}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}},["staUserSubscribe"==e.$route.name?s("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.selectType,callback:function(t){e.selectType=t},expression:"selectType"}},[s("el-option",{attrs:{label:"书  名",value:"bookName"}}),e._v(" "),s("el-option",{attrs:{label:"书籍ID",value:"bookid"}})],1):s("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.selectType,callback:function(t){e.selectType=t},expression:"selectType"}},[s("el-option",{attrs:{label:"书  名",value:"bookName"}}),e._v(" "),s("el-option",{attrs:{label:"用户名",value:"userName"}}),e._v(" "),s("el-option",{attrs:{label:"用户ID",value:"userId"}}),e._v(" "),s("el-option",{attrs:{label:"书籍ID",value:"bookid"}})],1),e._v(" "),s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchReplyCom},slot:"append"})],1)],1)],1),e._v(" "),s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.subscribeCommentList.list,border:""}},[s("el-table-column",{attrs:{type:"selection"}}),e._v(" "),s("el-table-column",{attrs:{prop:"bookId",width:"70",align:"center",label:"书籍ID"}}),e._v(" "),s("el-table-column",{attrs:{prop:"bookName",label:"书名"}}),e._v(" "),s("el-table-column",{attrs:{prop:"bookChapterName",label:"章节名"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n         "+e._s(t.row.bookChapterName)+"(id:"+e._s(t.row.bookChapterId)+")\n      ")]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"userId",label:"用户"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.userName)+"(id:"+e._s(t.row.userId)+")\n      ")]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"subscriptionPrice",width:"70",align:"center",label:"辣椒"}}),e._v(" "),s("el-table-column",{attrs:{label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e._f("time")(t.row.subscriptionDateTime,"long")))])]}}])})],1),e._v(" "),s("el-pagination",{staticClass:"mbt20",attrs:{background:"","current-page":e.subscribeCommentList.pageNum,"page-size":e.subscribeCommentList.pageSize,layout:"total, prev, pager, next, jumper",total:e.subscribeCommentList.total},on:{"current-change":e.handleCurrentChange}})],1)},i=[],l=s("18Nq"),n=a,c=Object(l.a)(r,o,i,!1,n,null,null);t.default=c.exports}});
//# sourceMappingURL=6.905415b9295d99507ac9.js.map