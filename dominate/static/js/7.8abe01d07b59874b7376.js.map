{"version":3,"sources":["webpack:///static/js/7.8abe01d07b59874b7376.js","webpack:///./src/components/statistics/reward.vue","webpack:///src/components/statistics/reward.vue","webpack:///./src/components/statistics/reward.vue?9f80"],"names":["webpackJsonp","S6IR","module","__webpack_exports__","__webpack_require__","injectStyle","context","Object","defineProperty","value","reward","data","searchForm","defaultValue","pickerOptions","shortcuts","text","onClick","picker","end","Date","start","setDate","$emit","disabledDate","time","getTime","now","rewardCommentList","keywords","selectType","multipleSelection","userInfo","date","methods","getRewardStatisticList","_this","this","page","$route","params","uid","userId","Number","$message","message","type","startdate","enddate","$ajax","res","returnCode","searchReplyCom","$router","push","handleCurrentChange","getUserInfo","_this2","puserid","created","name","$formTime","watch","val","old","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","show-icon","_v","_s","pseudonym","picker-options","value-format","range-separator","start-placeholder","end-placeholder","model","callback","$$v","expression","xs","sm","md","lg","xl","placeholder","nativeOn","keyup","$event","_k","keyCode","key","slot","label","icon","on","click","ref","staticStyle","width","list","border","prop","align","scopedSlots","_u","fn","scope","_f","row","giveDateTime","background","current-page","pageNum","page-size","pageSize","layout","total","current-change","staticRenderFns","component_normalizer","__vue_styles__","Component","hNby","exports"],"mappings":"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","file":"static/js/7.8abe01d07b59874b7376.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ \"S6IR\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=script&index=0!./src/components/statistics/reward.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var reward = ({\n  data: function data() {\n    return {\n      searchForm: {},\n      defaultValue: null,\n      pickerOptions: {\n        shortcuts: [{\n          text: '本月',\n          onClick: function onClick(picker) {\n            var end = new Date();\n            var start = new Date();\n            start.setDate(1);\n            picker.$emit('pick', [start, end]);\n          }\n        }],\n        disabledDate: function disabledDate(time) {\n          return time.getTime() > Date.now();\n        }\n      },\n      rewardCommentList: {},\n      keywords: '',\n      selectType: 'bookName',\n      multipleSelection: [],\n      userInfo: {},\n      date: ''\n    };\n  },\n\n  methods: {\n    getRewardStatisticList: function getRewardStatisticList() {\n      var _this = this;\n\n      this.searchForm = {};\n      this.searchForm.page = this.$route.params.page;\n      if (this.$route.params.uid) {\n        this.searchForm.userId = this.$route.params.uid;\n      }\n      if (this.selectType && this.keywords) {\n        if ((this.selectType === 'bookId' || this.selectType === 'userId') && !Number(this.keywords)) {\n          this.$message({ message: 'ID必需为数字', type: 'warning' });\n          return false;\n        }\n        this.searchForm[this.selectType] = this.keywords;\n      }\n      if (this.date) {\n        this.searchForm.startdate = this.date[0] + ' 00:00:00';\n        this.searchForm.enddate = this.date[1] + ' 23:59:59';\n      }\n      this.$ajax('/admin/getAdminSpicyirewardticketList', this.searchForm, function (res) {\n        if (res.returnCode === 200) {\n          _this.rewardCommentList = res.data;\n        } else if (!res.data) {\n          _this.rewardCommentList = {};\n        }\n      });\n    },\n    searchReplyCom: function searchReplyCom() {\n      if (this.$route.params.page == 1) {\n        this.getRewardStatisticList();\n      } else {\n        this.$router.push({ params: { page: 1 } });\n      }\n    },\n    handleCurrentChange: function handleCurrentChange(page) {\n      this.$router.push({ params: { page: page } });\n    },\n    getUserInfo: function getUserInfo() {\n      var _this2 = this;\n\n      if (this.$route.params.uid) {\n        this.$ajax('/person-SimplifyUserInfo', { puserid: this.$route.params.uid }, function (res) {\n          if (res.returnCode === 200) {\n            _this2.userInfo = res.data;\n          }\n        });\n      }\n    }\n  },\n  created: function created() {\n    if (this.$route.name === 'staUserReward') {\n      this.date = [this.$formTime(new Date(new Date().setDate(1)), 'sort'), this.$formTime(new Date(), 'sort')];\n    }\n    this.getRewardStatisticList();\n    this.getUserInfo();\n  },\n\n  watch: {\n    '$route': function $route() {\n      this.getRewardStatisticList();\n    },\n    'date': function date(val, old) {\n      if (old !== '') {\n        this.getRewardStatisticList();\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-1a2454ac\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/statistics/reward.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"reply-comment-wrap\"},[_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('div',[_c('p',[_vm._v(\"\\n        此表为\\n        \"),_c('span',{staticClass:\"red\"},[_vm._v(_vm._s(_vm.$route.name=='staUserReward'?_vm.userInfo.pseudonym:'全站'))]),_vm._v(\"\\n        的辣椒打赏统计，您可以通过相应类型进行精确搜索\\n      \")])])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-col',[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"picker-options\":_vm.pickerOptions,\"value-format\":\"yyyy-MM-dd\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-col',{attrs:{\"xs\":20,\"sm\":16,\"md\":12,\"lg\":9,\"xl\":6}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入内容\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchReplyCom($event)}},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}},[(_vm.$route.name=='staUserReward')?_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.selectType),callback:function ($$v) {_vm.selectType=$$v},expression:\"selectType\"}},[_c('el-option',{attrs:{\"label\":\"书  名\",\"value\":\"bookName\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"书籍ID\",\"value\":\"bookid\"}})],1):_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.selectType),callback:function ($$v) {_vm.selectType=$$v},expression:\"selectType\"}},[_c('el-option',{attrs:{\"label\":\"书  名\",\"value\":\"bookName\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"用户名\",\"value\":\"userName\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"用户ID\",\"value\":\"userId\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"书籍ID\",\"value\":\"bookid\"}})],1),_vm._v(\" \"),_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchReplyCom},slot:\"append\"})],1)],1)],1),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.rewardCommentList.list,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookid\",\"width\":\"70\",\"align\":\"center\",\"label\":\"书籍ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookName\",\"label\":\"书名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userId\",\"label\":\"用户ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"spicyiTicketCount\",\"width\":\"70\",\"align\":\"center\",\"label\":\"辣椒\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"replyCommentsContent\",\"label\":\"时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"time\")(scope.row.giveDateTime,'long')))])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{staticClass:\"mbt20\",attrs:{\"background\":\"\",\"current-page\":_vm.rewardCommentList.pageNum,\"page-size\":_vm.rewardCommentList.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.rewardCommentList.total},on:{\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\n\n// EXTERNAL MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer.js\nvar component_normalizer = __webpack_require__(\"18Nq\");\n\n// CONCATENATED MODULE: ./src/components/statistics/reward.vue\nfunction injectStyle (context) {\n  __webpack_require__(\"hNby\")\n}\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\n\nvar Component = Object(component_normalizer[\"a\" /* default */])(\n  reward,\n  render,\n  staticRenderFns,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var statistics_reward = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"hNby\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/7.8abe01d07b59874b7376.js","function injectStyle (context) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=styles&index=0!./reward.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./reward.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./reward.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1a2454ac\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=template&index=0!./reward.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/statistics/reward.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"reply-comment-wrap\">\n    <el-alert\n      title=\"操作说明\"\n      type=\"info\"\n      show-icon>\n      <div>\n        <p>\n          此表为\n          <span class=\"red\">{{$route.name=='staUserReward'?userInfo.pseudonym:'全站'}}</span>\n          的辣椒打赏统计，您可以通过相应类型进行精确搜索\n        </p>\n      </div>\n    </el-alert>\n    <el-row class=\"mbt20\">\n      <el-col>\n        <el-date-picker\n          v-model=\"date\"\n          type=\"daterange\"\n          :picker-options=\"pickerOptions\"\n          value-format=\"yyyy-MM-dd\"\n          range-separator=\"至\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\">\n        </el-date-picker>\n      </el-col>\n    </el-row>\n    \n    <el-row class=\"mbt20\">\n      <el-col :xs=\"20\" :sm=\"16\" :md=\"12\" :lg=\"9\" :xl=\"6\">\n        <el-input placeholder=\"请输入内容\" v-model=\"keywords\" class=\"input-with-select\" @keyup.enter.native=\"searchReplyCom\">\n          <el-select v-if=\"$route.name=='staUserReward'\" v-model=\"selectType\" slot=\"prepend\" placeholder=\"请选择\">\n            <el-option label=\"书  名\" value=\"bookName\"></el-option>\n            <el-option label=\"书籍ID\" value=\"bookid\"></el-option>\n          </el-select>\n          <el-select v-else v-model=\"selectType\" slot=\"prepend\" placeholder=\"请选择\">\n            <el-option label=\"书  名\" value=\"bookName\"></el-option>\n            <el-option label=\"用户名\" value=\"userName\"></el-option>\n            <el-option label=\"用户ID\" value=\"userId\"></el-option>\n            <el-option label=\"书籍ID\" value=\"bookid\"></el-option>\n          </el-select>\n          <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"searchReplyCom\"></el-button>\n        </el-input>\n      </el-col>\n    </el-row>\n    \n    <el-table\n      ref=\"multipleTable\"\n      :data=\"rewardCommentList.list\"\n      border\n      style=\"width: 100%\">\n      <el-table-column\n        type=\"selection\">\n      </el-table-column>\n      \n      <el-table-column\n        prop=\"bookid\"\n        width=\"70\"\n        align=\"center\"\n        label=\"书籍ID\">\n      </el-table-column>\n  \n      <el-table-column\n        prop=\"bookName\"\n        label=\"书名\">\n      </el-table-column>\n      \n      \n      \n      <el-table-column\n        prop=\"userId\"\n        \n        label=\"用户ID\">\n      </el-table-column>\n      \n      <el-table-column\n        prop=\"spicyiTicketCount\"\n        width=\"70\"\n        align=\"center\"\n        label=\"辣椒\"\n      >\n      </el-table-column>\n      \n      <el-table-column\n        prop=\"replyCommentsContent\"\n        label=\"时间\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row.giveDateTime|time('long')}}</span>\n        </template>\n      </el-table-column>\n      \n    </el-table>\n    \n    <el-pagination\n      class=\"mbt20\"\n      background\n      @current-change=\"handleCurrentChange\"\n      :current-page=\"rewardCommentList.pageNum\"\n      :page-size=\"rewardCommentList.pageSize\"\n      layout=\"total, prev, pager, next, jumper\"\n      :total=\"rewardCommentList.total\">\n    </el-pagination>\n  \n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  export default{\n    data() {\n      return {\n        searchForm: {\n        },\n        defaultValue: null,\n        pickerOptions: {\n          shortcuts: [{\n            text: '本月',\n            onClick(picker) {\n              const end = new Date()\n              const start = new Date()\n              start.setDate(1)\n              picker.$emit('pick', [start, end])\n            }\n          }],\n          disabledDate(time) {\n            return time.getTime() > Date.now()\n          }\n        },\n        rewardCommentList: {},\n        keywords: '',\n        selectType: 'bookName',\n        multipleSelection: [],\n        userInfo: {},\n        date: ''\n      }\n    },\n    methods: {\n      getRewardStatisticList() {\n        this.searchForm = {}\n        this.searchForm.page = this.$route.params.page\n        if (this.$route.params.uid) {\n          this.searchForm.userId = this.$route.params.uid\n        }\n        if (this.selectType && this.keywords) {\n          if ((this.selectType === 'bookId' || this.selectType === 'userId') && !Number(this.keywords)) {\n            this.$message({ message: 'ID必需为数字', type: 'warning' })\n            return false\n          }\n          this.searchForm[this.selectType] = this.keywords\n        }\n        if (this.date) {\n          this.searchForm.startdate\t = this.date[0] + ' 00:00:00'\n          this.searchForm.enddate\t = this.date[1] + ' 23:59:59'\n        }\n        this.$ajax('/admin/getAdminSpicyirewardticketList', this.searchForm, res => {\n          if (res.returnCode === 200) {\n            this.rewardCommentList = res.data\n          } else if (!res.data) {\n            this.rewardCommentList = {}\n          }\n        })\n      },\n      searchReplyCom() {\n        if (this.$route.params.page == 1) {\n          this.getRewardStatisticList()\n        } else {\n          this.$router.push({ params: { page: 1 }})\n        }\n      },\n      handleCurrentChange(page) {\n        this.$router.push({ params: { page: page }})\n      },\n      getUserInfo() {\n        if (this.$route.params.uid) {\n          this.$ajax('/person-SimplifyUserInfo', { puserid: this.$route.params.uid }, res => {\n            if (res.returnCode === 200) {\n              this.userInfo = res.data\n            }\n          })\n        }\n      }\n    },\n    created() {\n      if (this.$route.name === 'staUserReward') {\n        this.date = [this.$formTime(new Date(new Date().setDate(1)), 'sort'), this.$formTime(new Date(), 'sort')]\n      }\n      this.getRewardStatisticList()\n      this.getUserInfo()\n    },\n    watch: {\n      '$route': function() {\n        this.getRewardStatisticList()\n      },\n      'date': function(val, old) {\n        if (old !== '') {\n          this.getRewardStatisticList()\n        }\n      }\n    }\n  }\n</script>\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/statistics/reward.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"reply-comment-wrap\"},[_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('div',[_c('p',[_vm._v(\"\\n        此表为\\n        \"),_c('span',{staticClass:\"red\"},[_vm._v(_vm._s(_vm.$route.name=='staUserReward'?_vm.userInfo.pseudonym:'全站'))]),_vm._v(\"\\n        的辣椒打赏统计，您可以通过相应类型进行精确搜索\\n      \")])])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-col',[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"picker-options\":_vm.pickerOptions,\"value-format\":\"yyyy-MM-dd\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-col',{attrs:{\"xs\":20,\"sm\":16,\"md\":12,\"lg\":9,\"xl\":6}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入内容\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchReplyCom($event)}},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}},[(_vm.$route.name=='staUserReward')?_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.selectType),callback:function ($$v) {_vm.selectType=$$v},expression:\"selectType\"}},[_c('el-option',{attrs:{\"label\":\"书  名\",\"value\":\"bookName\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"书籍ID\",\"value\":\"bookid\"}})],1):_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.selectType),callback:function ($$v) {_vm.selectType=$$v},expression:\"selectType\"}},[_c('el-option',{attrs:{\"label\":\"书  名\",\"value\":\"bookName\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"用户名\",\"value\":\"userName\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"用户ID\",\"value\":\"userId\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"书籍ID\",\"value\":\"bookid\"}})],1),_vm._v(\" \"),_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchReplyCom},slot:\"append\"})],1)],1)],1),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.rewardCommentList.list,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookid\",\"width\":\"70\",\"align\":\"center\",\"label\":\"书籍ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookName\",\"label\":\"书名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userId\",\"label\":\"用户ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"spicyiTicketCount\",\"width\":\"70\",\"align\":\"center\",\"label\":\"辣椒\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"replyCommentsContent\",\"label\":\"时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"time\")(scope.row.giveDateTime,'long')))])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{staticClass:\"mbt20\",attrs:{\"background\":\"\",\"current-page\":_vm.rewardCommentList.pageNum,\"page-size\":_vm.rewardCommentList.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.rewardCommentList.total},on:{\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-1a2454ac\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/statistics/reward.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}