webpackJsonp([34],{Lqip:function(e,t){},yeUD:function(e,t,o){"use strict";function s(e){o("Lqip")}Object.defineProperty(t,"__esModule",{value:!0});var a={data:function(){return{bookListParams:{page:0,orderParemeter:"bookId"},serialise:0,bookType:0,keywords:"",selectType:"bookName"}},mounted:function(){this.bookListParams.page=this.$route.params.page,this.$store.dispatch("user/getBookInfoList",this.bookListParams)},methods:{handleCurrentChange:function(e){this.$router.push({params:{page:e}})},searchBook:function(e,t){if(e)"serialise"===e?(this.serialise=t,0===t?delete this.bookListParams.bookStatus:1===t?this.bookListParams.bookStatus=0:2===t&&(this.bookListParams.bookStatus=1)):"bookType"===e&&(this.bookType=t,0===t?delete this.bookListParams.bookCheckStatus:1===t?this.bookListParams.bookCheckStatus=0:2===t?this.bookListParams.bookCheckStatus=1:3===t&&(this.bookListParams.bookCheckStatus=2));else if(""!=this.keywords)switch(this.selectType){case"bookName":this.bookListParams.bookName=this.keywords;break;case"writerName":this.bookListParams.writerName=this.keywords;break;case"bookId":this.bookListParams.bookId=this.keywords;break;case"bookWriterId":this.bookListParams.bookWriterId=this.keywords;break;case"userPhone":this.bookListParams.userPhone=this.keywords}else delete this.bookListParams.bookName,delete this.bookListParams.writerName,delete this.bookListParams.bookId,delete this.bookListParams.bookWriterId,delete this.bookListParams.userPhone;this.$store.dispatch("user/getBookInfoList",this.bookListParams)}},computed:{tableData:function(){return this.$store.state.user.bookInfoObj}},watch:{$route:function(e){this.bookListParams.page=e.params.page,this.$store.dispatch("user/getBookInfoList",this.bookListParams)}}},i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"extend-book-list"},[o("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/bookdistribution"}}},[e._v("小说分销平台")]),e._v(" "),o("el-breadcrumb-item",[e._v("小说列表")])],1),e._v(" "),o("div",{staticClass:"search-box"},[o("el-input",{staticClass:"input-with-select",attrs:{placeholder:"关键字"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.searchBook()}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}},[o("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.selectType,callback:function(t){e.selectType=t},expression:"selectType"}},[o("el-option",{attrs:{label:"书  名",value:"bookName"}}),e._v(" "),o("el-option",{attrs:{label:"作 者",value:"writerName"}}),e._v(" "),o("el-option",{attrs:{label:"书籍ID",value:"bookId"}}),e._v(" "),o("el-option",{attrs:{label:"作者ID",value:"bookWriterId"}}),e._v(" "),o("el-option",{attrs:{label:"手机号",value:"userPhone"}})],1),e._v(" "),o("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){e.searchBook()}},slot:"append"})],1)],1),e._v(" "),o("ul",{staticClass:"search-term"},[o("li",[o("p",[e._v("连载状态：")]),e._v(" "),o("span",{class:{active:0===e.serialise},on:{click:function(t){e.searchBook("serialise",0)}}},[e._v("全部")]),e._v(" "),o("span",{class:{active:1===e.serialise},on:{click:function(t){e.searchBook("serialise",1)}}},[e._v("连载中")]),e._v(" "),o("span",{class:{active:2===e.serialise},on:{click:function(t){e.searchBook("serialise",2)}}},[e._v("已完结")])]),e._v(" "),o("li",[o("p",[e._v("书籍状态：")]),e._v(" "),o("span",{class:{active:0===e.bookType},on:{click:function(t){e.searchBook("bookType",0)}}},[e._v("全部")]),e._v(" "),o("span",{class:{active:1===e.bookType},on:{click:function(t){e.searchBook("bookType",1)}}},[e._v("未审核")]),e._v(" "),o("span",{class:{active:2===e.bookType},on:{click:function(t){e.searchBook("bookType",2)}}},[e._v("已审核")]),e._v(" "),o("span",{class:{active:3===e.bookType},on:{click:function(t){e.searchBook("bookType",3)}}},[e._v("已上架")])])]),e._v(" "),o("el-table",{staticClass:"table",attrs:{data:e.tableData.list,border:"",stripe:""}},[o("el-table-column",{attrs:{label:"封面",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("img",{attrs:{src:e.row.bookImage,alt:""}})]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("router-link",{staticClass:"book-name",attrs:{to:"/extend/chapterList/"+t.row.bookId}},[e._v(e._s(t.row.bookName))])]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"writerName",label:"作者名"}}),e._v(" "),o("el-table-column",{attrs:{label:"更新时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",[e._v(e._s(e._f("time")(t.row.lastUpdateTime,"long")))])]}}])})],1),e._v(" "),o("el-pagination",{attrs:{"current-page":e.tableData.pageNum,"page-size":e.tableData.pageSize,layout:"total, prev, pager, next, jumper",total:e.tableData.total},on:{"current-change":e.handleCurrentChange}})],1)},r=[],l=o("18Nq"),n=s,c=Object(l.a)(a,i,r,!1,n,null,null);t.default=c.exports}});
//# sourceMappingURL=34.ce2d1e1e6c99836c4bc1.js.map