{"version":3,"sources":["webpack:///static/js/17.5ca741d18dcfd84e7505.js","webpack:///./src/page/system/version.vue","webpack:///src/page/system/version.vue","webpack:///./src/page/system/version.vue?af3a"],"names":["webpackJsonp","DFvP","module","__webpack_exports__","__webpack_require__","injectStyle","context","Object","defineProperty","value","version","data","terminalList","label","versionData","versionTerminal","versionUpdateDataTime","Date","versionDescription","code","mounted","this","$store","dispatch","methods","beforeUpload","file","_this","name","indexOf","$message","message","type","$refs","upload","clearFiles","size","$confirm","confirmButtonText","cancelButtonText","then","formData","FormData","append","raw","res","returnCode","catch","handleRemove","fileList","beforeRemove","versionUpdate","_this2","FunWeekTime","getTime","nowDate","dateTiming","desc","val","replace","computed","versionTimeLine","state","system","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","show-icon","_v","directives","rawName","expression","element-loading-text","element-loading-spinner","staticStyle","margin","gutter","span","text-align","ref","action","auto-upload","on-change","on-remove","before-remove","slot","placeholder","model","callback","$$v","$set","_l","item","key","outline","round","on","click","$event","offset","id","tmp","index","_s","domProps","innerHTML","_f","staticRenderFns","component_normalizer","__vue_styles__","Component","sgrD","exports"],"mappings":"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","file":"static/js/17.5ca741d18dcfd84e7505.js","sourcesContent":["webpackJsonp([17],{\n\n/***/ \"DFvP\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=script&index=0!./src/page/system/version.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var version = ({\n    data: function data() {\n        return {\n            terminalList: [{ value: '安卓', label: '安卓' }, { value: 'IOS', label: 'IOS' }],\n            versionData: {\n                version: '',\n                versionTerminal: '',\n                versionUpdateDataTime: new Date(),\n                versionDescription: '',\n                code: '200'\n            }\n        };\n    },\n    mounted: function mounted() {\n        this.$store.dispatch('system/getVersionList');\n    },\n\n\n    methods: {\n        beforeUpload: function beforeUpload(file) {\n            var _this = this;\n\n            if (file.name.indexOf('.apk') === -1) {\n                this.$message({ message: '请上传apk文件！', type: 'warning' });\n                this.$refs.upload.clearFiles();\n            } else if (file.size > 419430400) {\n                this.$message({ message: '文件过大！请重新选择！', type: 'warning' });\n            } else {\n                this.$confirm('\\u786E\\u5B9A\\u4E0A\\u4F20 ' + file.name + '\\uFF1F', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(function () {\n                    var formData = new FormData();\n                    formData.append('file', file.raw);\n                    _this.$store.dispatch('system/appPackgetUpload', formData).then(function (res) {\n                        if (res.returnCode === 200) _this.$refs.upload.clearFiles();\n                    });\n                }).catch(function () {\n                    _this.$message({ type: 'info', message: '已取消删除' });\n                    _this.$refs.upload.clearFiles();\n                });\n            }\n        },\n        handleRemove: function handleRemove(file, fileList) {\n            this.file = null;\n        },\n        beforeRemove: function beforeRemove(file, fileList) {\n            return this.$confirm('\\u786E\\u5B9A\\u79FB\\u9664 ' + file.name + '\\uFF1F');\n        },\n        versionUpdate: function versionUpdate() {\n            var _this2 = this;\n\n            if (this.versionData.versionTerminal === '') {\n                this.$message({ message: '请选择设备！', type: 'warning' });\n            } else if (this.versionData.version === '') {\n                this.$message({ message: '请填写版本号！', type: 'warning' });\n            } else if (this.versionData.versionUpdateDataTime === '') {\n                this.$message({ message: '请选择版本更新时间！', type: 'warning' });\n            } else if (this.versionData.versionDescription === '') {\n                this.$message({ message: '请填写版本描述！！', type: 'warning' });\n            } else {\n                if (this.FunWeekTime(this.versionData.versionUpdateDataTime.getTime()) == this.FunWeekTime(new Date().getTime())) {\n                    this.versionData.versionUpdateDataTime = this.nowDate(this.versionData.versionUpdateDataTime.getTime());\n                } else {\n                    this.versionData.versionUpdateDataTime = this.dateTiming(this.versionData.versionUpdateDataTime, 'start');\n                }\n                this.$store.dispatch('system/addUpdate', this.versionData).then(function (res) {\n                    if (res.returnCode === 200) {\n                        _this2.versionData = {\n                            version: '',\n                            versionTerminal: '安卓',\n                            versionUpdateDataTime: new Date(),\n                            versionDescription: '',\n                            code: '200'\n                        };\n                    }\n                });\n            }\n        },\n        desc: function desc(val) {\n            return val.replace(/\\r\\n/g, \"<br />\");\n        }\n    },\n\n    computed: {\n        versionTimeLine: function versionTimeLine() {\n            return this.$store.state.system.versionTimeLine;\n        }\n    }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-9f23718c\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/page/system/version.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"version-update\"},[_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('div',[_c('span',[_vm._v(\"暂无\")])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(this.$store.state.system.loading),expression:\"this.$store.state.system.loading\"}],staticClass:\"version-contain\",attrs:{\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\"}},[_c('el-row',{staticStyle:{\"margin\":\"0\"},attrs:{\"gutter\":24}},[_c('el-col',{staticClass:\"version-info\",attrs:{\"span\":8}},[_c('el-row',{staticStyle:{\"margin\":\"20px 0\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":4}},[_c('p',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"上传APK文件\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18}},[_c('el-upload',{ref:\"upload\",attrs:{\"action\":\"\",\"auto-upload\":false,\"on-change\":_vm.beforeUpload,\"on-remove\":_vm.handleRemove,\"before-remove\":_vm.beforeRemove}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传apk文件\")])],1)],1)],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin\":\"20px 0\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":4}},[_c('p',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"设备\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.versionData.versionTerminal),callback:function ($$v) {_vm.$set(_vm.versionData, \"versionTerminal\", $$v)},expression:\"versionData.versionTerminal\"}},_vm._l((_vm.terminalList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin\":\"20px 0\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":4}},[_c('p',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"版本号\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18}},[_c('el-input',{model:{value:(_vm.versionData.version),callback:function ($$v) {_vm.$set(_vm.versionData, \"version\", $$v)},expression:\"versionData.version\"}})],1)],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin\":\"20px 0\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":4}},[_c('p',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"更新时间\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.versionData.versionUpdateDataTime),callback:function ($$v) {_vm.$set(_vm.versionData, \"versionUpdateDataTime\", $$v)},expression:\"versionData.versionUpdateDataTime\"}})],1)],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin\":\"20px 0\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":4}},[_c('p',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"版本号描述\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.versionData.versionDescription),callback:function ($$v) {_vm.$set(_vm.versionData, \"versionDescription\", $$v)},expression:\"versionData.versionDescription\"}})],1)],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin\":\"20px 0\"},attrs:{\"gutter\":20}},[_c('el-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":20}},[_c('el-button',{staticStyle:{\"outline\":\"none\"},attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":function($event){_vm.versionUpdate()}}},[_vm._v(\"更新版本\")])],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":14,\"offset\":1}},[_c('div',{staticClass:\"version-date\",attrs:{\"id\":\"version-date\"}},_vm._l((_vm.versionTimeLine),function(tmp,index){return _c('div',{key:index,staticClass:\"timeline-block\"},[_c('div',{staticClass:\"timeline-img\"},[_c('i',{staticClass:\"fa fa-clock-o\"})]),_vm._v(\" \"),_c('div',{staticClass:\"timeline-content\"},[_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(\"设备：\")]),_c('span',{staticClass:\"content\"},[_vm._v(_vm._s(tmp.versionTerminal))])]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(\"版本号：\")]),_c('span',{staticClass:\"content\"},[_vm._v(_vm._s(tmp.version))])]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(\"版本号ID：\")]),_c('span',{staticClass:\"content\"},[_vm._v(_vm._s(tmp.id))])]),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"title\"},[_vm._v(\"版本更新描述：\")]),_vm._v(\" \"),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.desc(tmp.versionDescription))}})]),_vm._v(\" \"),_c('span',{staticClass:\"cd-date\"},[_vm._v(_vm._s(_vm._f(\"time\")(tmp.versionUpdateDataTime,'long')))])])])}))])],1)],1)],1)}\nvar staticRenderFns = []\n\n// EXTERNAL MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer.js\nvar component_normalizer = __webpack_require__(\"18Nq\");\n\n// CONCATENATED MODULE: ./src/page/system/version.vue\nfunction injectStyle (context) {\n  __webpack_require__(\"sgrD\")\n}\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\n\nvar Component = Object(component_normalizer[\"a\" /* default */])(\n  version,\n  render,\n  staticRenderFns,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var system_version = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"sgrD\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/17.5ca741d18dcfd84e7505.js","function injectStyle (context) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=styles&index=0!./version.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./version.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./version.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9f23718c\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=template&index=0!./version.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/system/version.vue\n// module id = null\n// module chunks = ","<template>\n<div class=\"version-update\">\n    <el-alert title=\"操作说明\" type=\"info\" show-icon>\n        <div>\n            <span>暂无</span>\n        </div>\n    </el-alert>\n\n    <div class=\"version-contain\" v-loading=\"this.$store.state.system.loading\" element-loading-text=\"拼命加载中\" element-loading-spinner=\"el-icon-loading\">\n        <el-row :gutter=\"24\" style=\"margin: 0;\">\n            <el-col :span=\"8\" class=\"version-info\">\n\n                <el-row :gutter=\"20\" style=\"margin: 20px 0;\">\n                    <el-col :span=\"4\">\n                        <p style=\"text-align: right;\">上传APK文件</p>\n                    </el-col>\n                    <el-col :span=\"18\">\n                        <el-upload\n                            ref='upload'\n                            action=\"\"\n                            :auto-upload=\"false\"\n                            :on-change=\"beforeUpload\"\n                            :on-remove=\"handleRemove\"\n                            :before-remove=\"beforeRemove\">\n                            <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n                            <div slot=\"tip\" class=\"el-upload__tip\">只能上传apk文件</div>\n                        </el-upload>\n                    </el-col>\n                </el-row>\n\n                <el-row :gutter=\"20\" style=\"margin: 20px 0;\">\n                    <el-col :span=\"4\">\n                        <p style=\"text-align: right;\">设备</p>\n                    </el-col>\n                    <el-col :span=\"18\">\n                        <el-select v-model=\"versionData.versionTerminal\" placeholder=\"请选择\">\n                            <el-option v-for=\"item in terminalList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n                        </el-select>\n                    </el-col>\n                </el-row>\n                \n                <el-row :gutter=\"20\" style=\"margin: 20px 0;\">\n                    <el-col :span=\"4\">\n                        <p style=\"text-align: right;\">版本号</p>\n                    </el-col>\n                    <el-col :span=\"18\">\n                        <el-input v-model=\"versionData.version\"></el-input>\n                    </el-col>\n                </el-row>\n\n                <el-row :gutter=\"20\" style=\"margin: 20px 0;\">\n                    <el-col :span=\"4\">\n                        <p style=\"text-align: right;\">更新时间</p>\n                    </el-col>\n                    <el-col :span=\"18\">\n                        <el-date-picker v-model=\"versionData.versionUpdateDataTime\" type=\"date\" placeholder=\"选择日期\"></el-date-picker>\n                    </el-col>\n                </el-row>\n\n                <el-row :gutter=\"20\" style=\"margin: 20px 0;\">\n                    <el-col :span=\"4\">\n                        <p style=\"text-align: right;\">版本号描述</p>\n                    </el-col>\n                    <el-col :span=\"18\">\n                        <el-input type=\"textarea\" v-model=\"versionData.versionDescription\"></el-input>\n                    </el-col>\n                </el-row>\n\n                <el-row :gutter=\"20\" style=\"margin: 20px 0;\">\n                    <el-col :span=\"20\" style=\"text-align: right;\">\n                         <el-button type=\"primary\" round @click=\"versionUpdate()\" style=\"outline: none;\">更新版本</el-button>\n                    </el-col>\n                </el-row>\n            </el-col>\n\n            <el-col :span=\"14\" :offset=\"1\">\n                <div id=\"version-date\" class=\"version-date\">\n                    <div class=\"timeline-block\" v-for=\"(tmp, index) in versionTimeLine\" :key=\"index\">\n                        <div class=\"timeline-img\">\n                            <i class=\"fa fa-clock-o\"></i>\n                        </div>\n                        <div class=\"timeline-content\">\n                            <p><span class=\"title\">设备：</span><span class=\"content\">{{tmp.versionTerminal}}</span></p>\n                            <p><span class=\"title\">版本号：</span><span class=\"content\">{{tmp.version}}</span></p>\n                            <p><span class=\"title\">版本号ID：</span><span class=\"content\">{{tmp.id}}</span></p>\n                            <div>\n                                <span class=\"title\">版本更新描述：</span>\n                                <div class=\"content\" v-html=\"desc(tmp.versionDescription)\"></div>\n                            </div>\n                            <span class=\"cd-date\">{{tmp.versionUpdateDataTime | time('long')}}</span>\n                        </div>\n                    </div>\n                </div>\n            </el-col>\n        </el-row>\n    </div>\n</div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n    export default{\n        data() {\n            return {\n                terminalList: [{value: '安卓', label: '安卓'}, {value: 'IOS', label: 'IOS'}],\n                versionData: {\n                    version: '',\n                    versionTerminal: '',\n                    versionUpdateDataTime: new Date(),\n                    versionDescription: '',\n                    code: '200',\n                }\n            }\n        },\n\n        mounted() {\n            this.$store.dispatch('system/getVersionList')\n        },\n\n        methods: {\n\n            beforeUpload(file) {\n                if(file.name.indexOf('.apk') === -1){\n                    this.$message({ message: '请上传apk文件！', type: 'warning' })\n                    this.$refs.upload.clearFiles()\n                }else if(file.size > 419430400){\n                    this.$message({ message: '文件过大！请重新选择！', type: 'warning' })\n                }else {\n                    this.$confirm(`确定上传 ${ file.name }？`, '提示', {\n                        confirmButtonText: '确定',\n                        cancelButtonText: '取消',\n                        type: 'warning'\n                    }).then(() => {\n                        var formData = new FormData()\n                        formData.append('file', file.raw)\n                        this.$store.dispatch('system/appPackgetUpload', formData).then(res => {\n                            if(res.returnCode === 200) this.$refs.upload.clearFiles()\n                        })\n                    }).catch(() => {\n                        this.$message({ type: 'info', message: '已取消删除' })\n                        this.$refs.upload.clearFiles()\n                    })\n                }\n            },\n            \n            handleRemove(file, fileList) {\n                this.file = null\n            },\n\n            beforeRemove(file, fileList) {\n                return this.$confirm(`确定移除 ${ file.name }？`)\n            },\n            \n            versionUpdate() {\n                if(this.versionData.versionTerminal === '') {\n                    this.$message({ message: '请选择设备！', type: 'warning' })\n                }else if(this.versionData.version === ''){\n                    this.$message({ message: '请填写版本号！', type: 'warning' })\n                }else if(this.versionData.versionUpdateDataTime === '') {\n                    this.$message({ message: '请选择版本更新时间！', type: 'warning' })\n                }else if(this.versionData.versionDescription === '') {\n                    this.$message({ message: '请填写版本描述！！', type: 'warning' })\n                }else {\n                    if(this.FunWeekTime(this.versionData.versionUpdateDataTime.getTime()) == this.FunWeekTime(new Date().getTime())) {\n                        this.versionData.versionUpdateDataTime = this.nowDate(this.versionData.versionUpdateDataTime.getTime())\n                    }else {\n                        this.versionData.versionUpdateDataTime = this.dateTiming(this.versionData.versionUpdateDataTime, 'start')\n                    }\n                    this.$store.dispatch('system/addUpdate', this.versionData).then(res => {\n                        if(res.returnCode === 200) {\n                            this.versionData = {\n                                version: '',\n                                versionTerminal: '安卓',\n                                versionUpdateDataTime: new Date(),\n                                versionDescription: '',\n                                code: '200',\n                            }\n                        }\n                    })\n                }\n            },\n\n            desc(val) {\n                return val.replace(/\\r\\n/g, \"<br />\")\n            }\n        },\n\n        computed: {\n            versionTimeLine() {\n                return this.$store.state.system.versionTimeLine\n            }\n        }\n    }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n.version-contain\n    margin 40px 0\n    .version-info\n        background #fff\n    .version-date\n        position relative\n        padding 2em 0\n        .timeline-block\n            margin 4em 0\n            position relative\n            .timeline-img\n                position absolute\n                background #75ce66\n                top 0\n                border-radius 50%\n                box-shadow 0 0 0 4px white\n                width 60px\n                height 60px\n                left 50%\n                margin-left -30px\n                text-align center\n                line-height 78px\n                i\n                    font-size 45px\n                    color #fff\n            .timeline-content\n                position relative\n                background #fff\n                width 45%\n                padding 1.6em\n                border-radius 0.25em\n                box-shadow 0 3px 0 #d7e4ed\n                .title\n                    text-align right\n                    display inline-block\n                    width 30%\n                    vertical-align top\n                .content\n                    display inline-block\n                    width 65%\n                .cd-date\n                    position absolute\n                    width 100%\n                    left 122%\n                    top 6px\n                    font-size 1.5rem\n                    float left\n                    opacity .7\n                    display inline-block\n                    color #7f8c97\n            .timeline-content::before\n                content ''\n                position absolute\n                top 24px\n                left 100%\n                height 0\n                width 0\n                border 7px solid transparent\n                border-right 7px solid white\n                border-color transparent\n                border-left-color white\n        .timeline-block:nth-child(even)\n            .timeline-content\n                float right\n                .cd-date\n                    left auto\n                    text-align right\n                    right 122%\n            .timeline-content::before\n                left auto\n                right 100%\n                border-color transparent\n                border-right-color white\n        .timeline-block:nth-child(even)::after\n            content \"\"\n            display table\n            clear both\n    .version-date::before\n        content ''\n        position absolute\n        top 0\n        left 50%\n        height 100%\n        width 4px\n        margin-left -2px\n        background #fff\n    .version-date::after\n        content ''\n        display table\n        clear both\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/system/version.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"version-update\"},[_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('div',[_c('span',[_vm._v(\"暂无\")])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(this.$store.state.system.loading),expression:\"this.$store.state.system.loading\"}],staticClass:\"version-contain\",attrs:{\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\"}},[_c('el-row',{staticStyle:{\"margin\":\"0\"},attrs:{\"gutter\":24}},[_c('el-col',{staticClass:\"version-info\",attrs:{\"span\":8}},[_c('el-row',{staticStyle:{\"margin\":\"20px 0\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":4}},[_c('p',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"上传APK文件\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18}},[_c('el-upload',{ref:\"upload\",attrs:{\"action\":\"\",\"auto-upload\":false,\"on-change\":_vm.beforeUpload,\"on-remove\":_vm.handleRemove,\"before-remove\":_vm.beforeRemove}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传apk文件\")])],1)],1)],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin\":\"20px 0\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":4}},[_c('p',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"设备\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.versionData.versionTerminal),callback:function ($$v) {_vm.$set(_vm.versionData, \"versionTerminal\", $$v)},expression:\"versionData.versionTerminal\"}},_vm._l((_vm.terminalList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin\":\"20px 0\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":4}},[_c('p',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"版本号\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18}},[_c('el-input',{model:{value:(_vm.versionData.version),callback:function ($$v) {_vm.$set(_vm.versionData, \"version\", $$v)},expression:\"versionData.version\"}})],1)],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin\":\"20px 0\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":4}},[_c('p',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"更新时间\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.versionData.versionUpdateDataTime),callback:function ($$v) {_vm.$set(_vm.versionData, \"versionUpdateDataTime\", $$v)},expression:\"versionData.versionUpdateDataTime\"}})],1)],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin\":\"20px 0\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":4}},[_c('p',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"版本号描述\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.versionData.versionDescription),callback:function ($$v) {_vm.$set(_vm.versionData, \"versionDescription\", $$v)},expression:\"versionData.versionDescription\"}})],1)],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin\":\"20px 0\"},attrs:{\"gutter\":20}},[_c('el-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":20}},[_c('el-button',{staticStyle:{\"outline\":\"none\"},attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":function($event){_vm.versionUpdate()}}},[_vm._v(\"更新版本\")])],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":14,\"offset\":1}},[_c('div',{staticClass:\"version-date\",attrs:{\"id\":\"version-date\"}},_vm._l((_vm.versionTimeLine),function(tmp,index){return _c('div',{key:index,staticClass:\"timeline-block\"},[_c('div',{staticClass:\"timeline-img\"},[_c('i',{staticClass:\"fa fa-clock-o\"})]),_vm._v(\" \"),_c('div',{staticClass:\"timeline-content\"},[_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(\"设备：\")]),_c('span',{staticClass:\"content\"},[_vm._v(_vm._s(tmp.versionTerminal))])]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(\"版本号：\")]),_c('span',{staticClass:\"content\"},[_vm._v(_vm._s(tmp.version))])]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"title\"},[_vm._v(\"版本号ID：\")]),_c('span',{staticClass:\"content\"},[_vm._v(_vm._s(tmp.id))])]),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"title\"},[_vm._v(\"版本更新描述：\")]),_vm._v(\" \"),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.desc(tmp.versionDescription))}})]),_vm._v(\" \"),_c('span',{staticClass:\"cd-date\"},[_vm._v(_vm._s(_vm._f(\"time\")(tmp.versionUpdateDataTime,'long')))])])])}))])],1)],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-9f23718c\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/page/system/version.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}