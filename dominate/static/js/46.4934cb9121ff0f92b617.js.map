{"version":3,"sources":["webpack:///static/js/46.4934cb9121ff0f92b617.js","webpack:///./src/components/book/timer_list.vue","webpack:///src/components/book/timer_list.vue","webpack:///./src/components/book/timer_list.vue?29c1"],"names":["webpackJsonp","4zb5","module","exports","GhL6","__webpack_exports__","__webpack_require__","injectStyle","context","Object","defineProperty","value","vuedraggable","vuedraggable_default","n","timer_list","components","draggable","a","data","checkList","centerDialogVisible","timerList","cloneList","updateData","page","multipleSelection","newDrag","keywords","methods","getTimerList","_this","this","$ajax","$route","params","searchCondition","res","returnCode","toggleRowSelection","_this2","length","$confirm","confirmButtonText","cancelButtonText","type","then","getChapterList","$message","message","catch","showClose","handleSelectionChange","val","handleRowClick","row","$refs","multipleTable","handleClick","$router","push","path","id","handleCurrentChange","bookChangeState","_this3","state","bookCheckStatus","status","bookStatus","bookId","bookAuthorization","msg","getBookList","created","watch","computed","nowTime","time","Date","getTime","beijing","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator-class","_v","title","show-icon","plain","on","click","xs","sm","md","lg","xl","placeholder","nativeOn","keyup","$event","_k","keyCode","key","model","callback","$$v","expression","slot","icon","ref","staticStyle","width","list","tooltip-effect","border","selection-change","prop","label","scopedSlots","_u","fn","scope","_s","bookTitle","align","_f","releaseTime","trigger","placement","command","href","total","pageSize","current-page","Number","page-size","layout","current-change","_e","staticRenderFns","component_normalizer","__vue_styles__","Component"],"mappings":"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","file":"static/js/46.4934cb9121ff0f92b617.js","sourcesContent":["webpackJsonp([46],{\n\n/***/ \"4zb5\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"GhL6\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/_vuedraggable@2.16.0@vuedraggable/dist/vuedraggable.js\nvar vuedraggable = __webpack_require__(\"405r\");\nvar vuedraggable_default = /*#__PURE__*/__webpack_require__.n(vuedraggable);\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=script&index=0!./src/components/book/timer_list.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var timer_list = ({\n  components: {\n    draggable: vuedraggable_default.a\n  },\n  data: function data() {\n    return {\n      checkList: [],\n      centerDialogVisible: false,\n      timerList: [],\n      cloneList: [],\n      updateData: {},\n      page: 1,\n      multipleSelection: [],\n      newDrag: true,\n      keywords: ''\n    };\n  },\n\n  methods: {\n    getTimerList: function getTimerList() {\n      var _this = this;\n\n      this.$ajax('/admin/getAdminChapterTimingRelease', {\n        page: this.$route.params.page,\n        searchCondition: this.keywords\n      }, function (res) {\n        if (res.returnCode === 200) {\n          _this.timerList = res.data;\n        }\n      });\n    },\n\n\n    //      批量删除\n    toggleRowSelection: function toggleRowSelection() {\n      var _this2 = this;\n\n      if (this.multipleSelection.length) {\n        this.$confirm('此操作将永久删除所选章节, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(function () {\n          _this2.getChapterList();\n          _this2.$message({\n            type: 'success',\n            message: '删除成功!'\n          });\n        }).catch(function () {\n          _this2.$message({\n            type: 'info',\n            message: '已取消删除'\n          });\n        });\n      } else {\n        this.$message({ message: '请选取要删除的章节！', type: 'warning', showClose: true });\n      }\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n\n    //      点击行选中\n    handleRowClick: function handleRowClick(row) {\n      this.$refs.multipleTable.toggleRowSelection(row);\n    },\n    handleClick: function handleClick(val, data) {\n      if (val === 'a') {\n        this.$router.push({ path: '/edit_chapter/' + data.id });\n      } else if (val === 'b') {} else if (val === 'c') {}\n    },\n    handleCurrentChange: function handleCurrentChange(page) {\n      this.page = page;\n      this.$router.push({ params: { page: page } });\n    },\n\n\n    //        书籍上架下架\n    bookChangeState: function bookChangeState(val, data) {\n      var _this3 = this;\n\n      var state = data.bookCheckStatus,\n          status = data.bookStatus;\n      if (val === 'a') {\n        //              书籍审核\n        state = 1;\n      } else if (val === 'b') {\n        //              书籍上架\n        if (data.bookCheckStatus === 0) {\n          this.$message({ message: '书籍暂未审核，请先审核通过！', type: 'warning' });\n        } else {\n          state = 2;\n        }\n      } else if (val === 'c') {\n        //              书籍下架\n        if (data.bookCheckStatus <= 1) {\n          this.$message({ message: '书籍已下架！', type: 'warning' });\n        } else {\n          state = 1;\n        }\n      } else if (val === 'd') {\n        status = 1;\n      }\n      this.$ajax('/admin/sysbookupdate', { bookId: data.bookId, bookCheckStatus: state, bookAuthorization: data.bookAuthorization, bookStatus: status }, function (res) {\n        if (res.returnCode === 200) {\n          _this3.$message(res.msg);\n          _this3.getBookList();\n        }\n      });\n    }\n  },\n  created: function created() {\n    this.getTimerList();\n  },\n\n  watch: {\n    $route: function $route() {\n      this.getTimerList();\n    }\n  },\n  computed: {\n    nowTime: function nowTime() {\n      var time = new Date().getTime();\n      this.$ajax('/sys-getNetWorkDateTime', '', function (res) {\n        if (res.returnCode === 200) {\n          time = res.data.beijing;\n        }\n      }, 'get');\n      return time;\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-436132ae\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/book/timer_list.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"admin-book-wrap\"},[_c('el-breadcrumb',{staticClass:\"mbt20\",attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"书籍管理\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"草稿箱列表\")])],1),_vm._v(\" \"),_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('div',[_c('p',[_vm._v(\"\\n        此表是本站全部定时章节，您可通过ID进行批量管理\\n      \")])])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-button',{attrs:{\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":_vm.toggleRowSelection}},[_vm._v(\"批量删除\")])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-col',{attrs:{\"xs\":20,\"sm\":16,\"md\":12,\"lg\":9,\"xl\":6}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入书籍id或者书籍名称\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getTimerList($event)}},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getTimerList},slot:\"append\"})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('div',{staticClass:\"table-wrap\"},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.timerList.list,\"tooltip-effect\":\"dark\",\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"id\",\"width\":\"100\",\"label\":\"章节ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookTitle\",\"label\":\"书名\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            (id:\"+_vm._s(scope.row.bookId)+\")\"+_vm._s(scope.row.bookTitle)+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"chapterTitle\",\"label\":\"章节名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"chapterIsvip\",\"label\":\"VIP状态\",\"width\":\"80\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.chapterIsvip)?_c('span',{staticClass:\"red\"},[_vm._v(\"VIP\")]):_c('span',{staticClass:\"green\"},[_vm._v(\"普通\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"chapterState\",\"width\":\"80\",\"label\":\"审核状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.chapterState)?_c('span',{staticClass:\"red\"},[_vm._v(\"未审核\")]):_c('span',{staticClass:\"green\"},[_vm._v(\"已审核\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\",\"label\":\"发布时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(_vm._f(\"time\")(scope.row.releaseTime,'long'))+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"chapterLength\",\"width\":\"100\",\"align\":\"center\",\"label\":\"字数\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"80\",\"align\":\"center\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-dropdown',{attrs:{\"trigger\":\"click\",\"placement\":\"bottom\"},on:{\"command\":function($event){_vm.handleClick($event,scope.row)}}},[_c('a',{attrs:{\"href\":\"javascript:0;\"}},[_vm._v(\"更多菜单\")]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"a\"}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"command\":\"b\"}},[_vm._v(\"审核\")]),_vm._v(\" \"),_c('el-dropdown-item',{staticClass:\"danger\",attrs:{\"command\":\"c\"}},[_vm._v(\"删除\")])],1)],1)]}}])})],1)],1),_vm._v(\" \"),(_vm.timerList.list && _vm.timerList.total>_vm.timerList.pageSize)?_c('el-pagination',{staticClass:\"mbt20\",attrs:{\"current-page\":Number(_vm.$route.params.page),\"page-size\":_vm.timerList.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.timerList.total},on:{\"current-change\":_vm.handleCurrentChange}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\n// EXTERNAL MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer.js\nvar component_normalizer = __webpack_require__(\"18Nq\");\n\n// CONCATENATED MODULE: ./src/components/book/timer_list.vue\nfunction injectStyle (context) {\n  __webpack_require__(\"4zb5\")\n}\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\n\nvar Component = Object(component_normalizer[\"a\" /* default */])(\n  timer_list,\n  render,\n  staticRenderFns,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var book_timer_list = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/46.4934cb9121ff0f92b617.js","function injectStyle (context) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=styles&index=0!./timer_list.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./timer_list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./timer_list.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-436132ae\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=template&index=0!./timer_list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/book/timer_list.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"admin-book-wrap\">\n    <el-breadcrumb class=\"mbt20\" separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item>书籍管理</el-breadcrumb-item>\n      <el-breadcrumb-item >草稿箱列表</el-breadcrumb-item>\n    </el-breadcrumb>\n    <el-alert\n      title=\"操作说明\"\n      type=\"info\"\n      show-icon>\n      <div>\n        <p>\n          此表是本站全部定时章节，您可通过ID进行批量管理\n        </p>\n      </div>\n    </el-alert>\n    \n    <el-row class=\"mbt20\">\n      <el-button type=\"danger\" plain @click=\"toggleRowSelection\">批量删除</el-button>\n    </el-row>\n    \n    <el-row class=\"mbt20\">\n      <el-col :xs=\"20\" :sm=\"16\" :md=\"12\" :lg=\"9\" :xl=\"6\">\n        <el-input placeholder=\"请输入书籍id或者书籍名称\" v-model=\"keywords\" class=\"input-with-select\" @keyup.enter.native=\"getTimerList\">\n          <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getTimerList\"></el-button>\n        </el-input>\n      </el-col>\n    </el-row>\n    \n    <el-row>\n      <div class=\"table-wrap\">\n        <el-table\n          ref=\"multipleTable\"\n          :data=\"timerList.list\"\n          tooltip-effect=\"dark\"\n          style=\"width: 100%\"\n          border\n          @selection-change=\"handleSelectionChange\">\n          <el-table-column\n            type=\"selection\">\n          </el-table-column>\n          <el-table-column\n            prop=\"id\"\n            width=\"100\"\n            label=\"章节ID\">\n          </el-table-column>\n          <el-table-column\n            prop=\"bookTitle\"\n            label=\"书名\">\n            <template slot-scope=\"scope\">\n              (id:{{scope.row.bookId}}){{scope.row.bookTitle}}\n            </template>\n          </el-table-column>\n          <el-table-column\n            prop=\"chapterTitle\"\n            label=\"章节名\">\n          </el-table-column>\n          \n          <el-table-column\n            prop=\"chapterIsvip\"\n            label=\"VIP状态\"\n            width=\"80\"\n            align=\"center\">\n            <template slot-scope=\"scope\">\n              <span class=\"red\" v-if=\"scope.row.chapterIsvip\">VIP</span>\n              <span v-else class=\"green\">普通</span>\n            </template>\n          </el-table-column>\n          \n          <el-table-column\n            prop=\"chapterState\"\n            width=\"80\"\n            label=\"审核状态\"\n            align=\"center\">\n            <template slot-scope=\"scope\">\n              <span class=\"red\" v-if=\"scope.row.chapterState\">未审核</span>\n              <span v-else class=\"green\">已审核</span>\n            </template>\n          </el-table-column>\n          \n          <el-table-column\n            width=\"140\"\n            label=\"发布时间\">\n            <template slot-scope=\"scope\">\n              {{scope.row.releaseTime | time('long')}}\n            </template>\n          </el-table-column>\n          \n          <el-table-column\n            prop=\"chapterLength\"\n            width=\"100\"\n            align=\"center\"\n            label=\"字数\">\n          </el-table-column>\n          \n          <el-table-column\n            width=\"80\"\n            align=\"center\"\n            label=\"操作\">\n            <template slot-scope=\"scope\">\n              <el-dropdown trigger=\"click\" placement=\"bottom\" @command=\"handleClick($event,scope.row)\">\n                <a href=\"javascript:0;\">更多菜单</a>\n                <el-dropdown-menu slot=\"dropdown\">\n                  <el-dropdown-item command=\"a\">编辑</el-dropdown-item>\n                  <el-dropdown-item command=\"b\">审核</el-dropdown-item>\n                  <el-dropdown-item class=\"danger\" command=\"c\">删除</el-dropdown-item>\n                </el-dropdown-menu>\n              </el-dropdown>\n            </template>\n          </el-table-column>\n        </el-table>\n      \n      </div>\n      <el-pagination\n        v-if=\"timerList.list && timerList.total>timerList.pageSize\"\n        class=\"mbt20\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"Number($route.params.page)\"\n        :page-size=\"timerList.pageSize\"\n        layout=\"total, prev, pager, next, jumper\"\n        :total=\"timerList.total\">\n      </el-pagination>\n    </el-row>\n    \n    <!--书籍封面上传-->\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import draggable from 'vuedraggable'\n  export default{\n    components: {\n      draggable\n    },\n    data() {\n      return {\n        checkList: [],\n        centerDialogVisible: false,\n        timerList: [],\n        cloneList: [],\n        updateData: {},\n        page: 1,\n        multipleSelection: [],\n        newDrag: true,\n        keywords: ''\n      }\n    },\n    methods: {\n      getTimerList() {\n        this.$ajax('/admin/getAdminChapterTimingRelease', {\n          page: this.$route.params.page,\n          searchCondition: this.keywords\n        }, res => {\n          if (res.returnCode === 200) {\n            this.timerList = res.data\n          }\n        })\n      },\n\n//      批量删除\n      toggleRowSelection() {\n        if (this.multipleSelection.length) {\n          this.$confirm('此操作将永久删除所选章节, 是否继续?', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(() => {\n            this.getChapterList()\n            this.$message({\n              type: 'success',\n              message: '删除成功!'\n            })\n          }).catch(() => {\n            this.$message({\n              type: 'info',\n              message: '已取消删除'\n            })\n          })\n        } else {\n          this.$message({ message: '请选取要删除的章节！', type: 'warning', showClose: true })\n        }\n      },\n  \n      handleSelectionChange(val) {\n        this.multipleSelection = val\n      },\n//      点击行选中\n      handleRowClick(row) {\n        this.$refs.multipleTable.toggleRowSelection(row)\n      },\n  \n      handleClick(val, data) {\n        if (val === 'a') {\n          this.$router.push({ path: '/edit_chapter/' + data.id })\n        } else if (val === 'b') {\n  \n        } else if (val === 'c') {\n  \n        }\n      },\n  \n      handleCurrentChange(page) {\n        this.page = page\n        this.$router.push({ params: { page: page }})\n      },\n\n//        书籍上架下架\n      bookChangeState(val, data) {\n        let state = data.bookCheckStatus, status = data.bookStatus\n        if (val === 'a') {\n//              书籍审核\n          state = 1\n        } else if (val === 'b') {\n//              书籍上架\n          if (data.bookCheckStatus === 0) {\n            this.$message({ message: '书籍暂未审核，请先审核通过！', type: 'warning' })\n          } else {\n            state = 2\n          }\n        } else if (val === 'c') {\n//              书籍下架\n          if (data.bookCheckStatus <= 1) {\n            this.$message({ message: '书籍已下架！', type: 'warning' })\n          } else {\n            state = 1\n          }\n        } else if (val === 'd') {\n          status = 1\n        }\n        this.$ajax('/admin/sysbookupdate', { bookId: data.bookId, bookCheckStatus: state, bookAuthorization: data.bookAuthorization, bookStatus: status }, res => {\n          if (res.returnCode === 200) {\n            this.$message(res.msg)\n            this.getBookList()\n          }\n        })\n      }\n    },\n    created() {\n      this.getTimerList()\n    },\n    watch: {\n      $route: function() {\n        this.getTimerList()\n      }\n    },\n    computed: {\n      nowTime: function() {\n        let time = new Date().getTime()\n        this.$ajax('/sys-getNetWorkDateTime', '', res => {\n          if (res.returnCode === 200) {\n            time = res.data.beijing\n          }\n        }, 'get')\n        return time\n      }\n    }\n  }\n</script>\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  .cover\n    width 100%\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/book/timer_list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"admin-book-wrap\"},[_c('el-breadcrumb',{staticClass:\"mbt20\",attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"书籍管理\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"草稿箱列表\")])],1),_vm._v(\" \"),_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('div',[_c('p',[_vm._v(\"\\n        此表是本站全部定时章节，您可通过ID进行批量管理\\n      \")])])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-button',{attrs:{\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":_vm.toggleRowSelection}},[_vm._v(\"批量删除\")])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-col',{attrs:{\"xs\":20,\"sm\":16,\"md\":12,\"lg\":9,\"xl\":6}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入书籍id或者书籍名称\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getTimerList($event)}},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getTimerList},slot:\"append\"})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('div',{staticClass:\"table-wrap\"},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.timerList.list,\"tooltip-effect\":\"dark\",\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"id\",\"width\":\"100\",\"label\":\"章节ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookTitle\",\"label\":\"书名\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            (id:\"+_vm._s(scope.row.bookId)+\")\"+_vm._s(scope.row.bookTitle)+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"chapterTitle\",\"label\":\"章节名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"chapterIsvip\",\"label\":\"VIP状态\",\"width\":\"80\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.chapterIsvip)?_c('span',{staticClass:\"red\"},[_vm._v(\"VIP\")]):_c('span',{staticClass:\"green\"},[_vm._v(\"普通\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"chapterState\",\"width\":\"80\",\"label\":\"审核状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.chapterState)?_c('span',{staticClass:\"red\"},[_vm._v(\"未审核\")]):_c('span',{staticClass:\"green\"},[_vm._v(\"已审核\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\",\"label\":\"发布时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(_vm._f(\"time\")(scope.row.releaseTime,'long'))+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"chapterLength\",\"width\":\"100\",\"align\":\"center\",\"label\":\"字数\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"80\",\"align\":\"center\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-dropdown',{attrs:{\"trigger\":\"click\",\"placement\":\"bottom\"},on:{\"command\":function($event){_vm.handleClick($event,scope.row)}}},[_c('a',{attrs:{\"href\":\"javascript:0;\"}},[_vm._v(\"更多菜单\")]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"a\"}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"command\":\"b\"}},[_vm._v(\"审核\")]),_vm._v(\" \"),_c('el-dropdown-item',{staticClass:\"danger\",attrs:{\"command\":\"c\"}},[_vm._v(\"删除\")])],1)],1)]}}])})],1)],1),_vm._v(\" \"),(_vm.timerList.list && _vm.timerList.total>_vm.timerList.pageSize)?_c('el-pagination',{staticClass:\"mbt20\",attrs:{\"current-page\":Number(_vm.$route.params.page),\"page-size\":_vm.timerList.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.timerList.total},on:{\"current-change\":_vm.handleCurrentChange}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-436132ae\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/book/timer_list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}