{"version":3,"sources":["webpack:///static/js/56.5d59e54ef3ddee69c48d.js","webpack:///./src/components/book/all_chapter_list.vue","webpack:///src/components/book/all_chapter_list.vue","webpack:///./src/components/book/all_chapter_list.vue?35ab"],"names":["webpackJsonp","4qUY","module","exports","cW/P","__webpack_exports__","__webpack_require__","injectStyle","context","Object","defineProperty","value","all_chapter_list","data","checkList","centerDialogVisible","draftList","cloneList","updateData","page","multipleSelection","newDrag","keywords","methods","getAllChapterList","_this","this","$ajax","$route","params","searchCondition","res","returnCode","toggleRowSelection","_this2","length","cid","forEach","item","push","id","$confirm","confirmButtonText","cancelButtonText","type","then","chapterid","toString","$message","message","catch","showClose","handleSelectionChange","val","handleRowClick","row","$refs","multipleTable","handleClick","$router","path","handleCurrentChange","created","watch","computed","nowTime","time","Date","getTime","beijing","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator-class","_v","title","show-icon","plain","on","click","xs","sm","md","lg","xl","placeholder","nativeOn","keyup","$event","_k","keyCode","key","model","callback","$$v","expression","slot","icon","ref","staticStyle","width","border","list","tooltip-effect","selection-change","prop","label","scopedSlots","_u","fn","scope","_s","bookId","bookTitle","align","_f","releaseTime","$store","state","userInfo","adminRolemenuanduserrole","updates","trigger","placement","command","href","_e","total","pageSize","current-page","Number","page-size","layout","current-change","staticRenderFns","component_normalizer","__vue_styles__","Component"],"mappings":"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","file":"static/js/56.5d59e54ef3ddee69c48d.js","sourcesContent":["webpackJsonp([56],{\n\n/***/ \"4qUY\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"cW/P\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=script&index=0!./src/components/book/all_chapter_list.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var all_chapter_list = ({\n  data: function data() {\n    return {\n      checkList: [],\n      centerDialogVisible: false,\n      draftList: [],\n      cloneList: [],\n      updateData: {},\n      page: 1,\n      multipleSelection: [],\n      newDrag: true,\n      keywords: ''\n    };\n  },\n\n  methods: {\n    getAllChapterList: function getAllChapterList() {\n      var _this = this;\n\n      this.$ajax('/admin/getAdminChapterList', {\n        page: this.$route.params.page,\n        searchCondition: this.keywords\n      }, function (res) {\n        if (res.returnCode === 200) {\n          _this.draftList = res.data;\n        }\n      });\n    },\n\n\n    //      批量删除\n    toggleRowSelection: function toggleRowSelection() {\n      var _this2 = this;\n\n      if (this.multipleSelection.length) {\n        var cid = [];\n        this.multipleSelection.forEach(function (item) {\n          cid.push(item.id);\n        });\n        this.$confirm('此操作将永久删除所选' + cid.length + '个章节, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(function () {\n          _this2.$ajax('/chapter-deletechapter', {\n            chapterid: cid.toString()\n          }, function (res) {\n            if (res.returnCode === 200) {\n              _this2.getAllChapterList();\n              _this2.$message({\n                type: 'success',\n                message: '删除成功!'\n              });\n            }\n          });\n        }).catch(function () {\n          _this2.$message({\n            type: 'info',\n            message: '已取消删除'\n          });\n        });\n      } else {\n        this.$message({ message: '请选取要删除的章节！', type: 'warning', showClose: true });\n      }\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n\n    //      点击行选中\n    handleRowClick: function handleRowClick(row) {\n      this.$refs.multipleTable.toggleRowSelection(row);\n    },\n    handleClick: function handleClick(val, data) {\n      if (val === 'a') {\n        this.$router.push({ path: '/edit_chapter/' + data.id });\n      } else if (val === 'b') {}\n    },\n    handleCurrentChange: function handleCurrentChange(page) {\n      this.page = page;\n      this.$router.push({ params: { page: page } });\n    }\n  },\n  created: function created() {\n    this.getAllChapterList();\n  },\n\n  watch: {\n    $route: function $route() {\n      this.getAllChapterList();\n    }\n  },\n  computed: {\n    nowTime: function nowTime() {\n      var time = new Date().getTime();\n      this.$ajax('/sys-getNetWorkDateTime', '', function (res) {\n        if (res.returnCode === 200) {\n          time = res.data.beijing;\n        }\n      }, 'get');\n      return time;\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-98451d8c\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/book/all_chapter_list.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"admin-book-wrap\"},[_c('el-breadcrumb',{staticClass:\"mbt20\",attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"书籍管理\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"全站章节列表\")])],1),_vm._v(\" \"),_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('div',[_c('p',[_vm._v(\"\\n        此表是本站全部发布章节，您可通过ID进行批量管理\\n      \")])])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-button',{attrs:{\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":_vm.toggleRowSelection}},[_vm._v(\"批量删除\")])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-col',{attrs:{\"xs\":20,\"sm\":16,\"md\":12,\"lg\":9,\"xl\":6}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入书籍id、书名或章节名\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getAllChapterList($event)}},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getAllChapterList},slot:\"append\"})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"border\":\"\",\"data\":_vm.draftList.list,\"tooltip-effect\":\"dark\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"章节ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookTitle\",\"label\":\"书名\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          (id:\"+_vm._s(scope.row.bookId)+\")\"+_vm._s(scope.row.bookTitle)+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"chapterTitle\",\"label\":\"章节名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"chapterIsvip\",\"label\":\"VIP状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.chapterIsvip)?_c('span',{staticClass:\"red\"},[_vm._v(\"VIP\")]):_c('span',{staticClass:\"green\"},[_vm._v(\"普通\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"chapterState\",\"label\":\"审核状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.chapterState)?_c('span',{staticClass:\"red\"},[_vm._v(\"未审核\")]):_c('span',{staticClass:\"green\"},[_vm._v(\"已审核\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"发布时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(_vm._f(\"time\")(scope.row.releaseTime,'long'))+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"chapterLength\",\"align\":\"center\",\"label\":\"字数\"}}),_vm._v(\" \"),(_vm.$store.state.userInfo && _vm.$store.state.userInfo.adminRolemenuanduserrole.updates)?_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-dropdown',{attrs:{\"trigger\":\"click\",\"placement\":\"bottom\"},on:{\"command\":function($event){_vm.handleClick($event,scope.row)}}},[_c('a',{attrs:{\"href\":\"javascript:0;\"}},[_vm._v(\"更多\")]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"a\"}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"command\":\"b\"}},[_vm._v(\"审核\")])],1)],1)]}}])}):_vm._e()],1),_vm._v(\" \"),(_vm.draftList.list && _vm.draftList.total>_vm.draftList.pageSize)?_c('el-pagination',{staticClass:\"mbt20\",attrs:{\"current-page\":Number(_vm.$route.params.page),\"page-size\":_vm.draftList.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.draftList.total},on:{\"current-change\":_vm.handleCurrentChange}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\n// EXTERNAL MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer.js\nvar component_normalizer = __webpack_require__(\"18Nq\");\n\n// CONCATENATED MODULE: ./src/components/book/all_chapter_list.vue\nfunction injectStyle (context) {\n  __webpack_require__(\"4qUY\")\n}\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\n\nvar Component = Object(component_normalizer[\"a\" /* default */])(\n  all_chapter_list,\n  render,\n  staticRenderFns,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var book_all_chapter_list = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/56.5d59e54ef3ddee69c48d.js","function injectStyle (context) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=styles&index=0!./all_chapter_list.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./all_chapter_list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./all_chapter_list.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-98451d8c\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=template&index=0!./all_chapter_list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/book/all_chapter_list.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"admin-book-wrap\">\n    <el-breadcrumb class=\"mbt20\" separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item>书籍管理</el-breadcrumb-item>\n      <el-breadcrumb-item >全站章节列表</el-breadcrumb-item>\n    </el-breadcrumb>\n    <el-alert\n      title=\"操作说明\"\n      type=\"info\"\n      show-icon>\n      <div>\n        <p>\n          此表是本站全部发布章节，您可通过ID进行批量管理\n        </p>\n      </div>\n    </el-alert>\n    \n    <el-row class=\"mbt20\">\n      <el-button type=\"danger\" plain @click=\"toggleRowSelection\">批量删除</el-button>\n    </el-row>\n    \n    <el-row class=\"mbt20\">\n      <el-col :xs=\"20\" :sm=\"16\" :md=\"12\" :lg=\"9\" :xl=\"6\">\n        <el-input placeholder=\"请输入书籍id、书名或章节名\" v-model=\"keywords\" class=\"input-with-select\" @keyup.enter.native=\"getAllChapterList\">\n          <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getAllChapterList\"></el-button>\n        </el-input>\n      </el-col>\n    </el-row>\n    \n    <el-row>\n      <!--<div class=\"table-wrap\">-->\n      <el-table\n        ref=\"multipleTable\"\n        border\n        :data=\"draftList.list\"\n        tooltip-effect=\"dark\"\n        style=\"width: 100%\"\n        @selection-change=\"handleSelectionChange\">\n        <el-table-column\n          type=\"selection\">\n        </el-table-column>\n        <el-table-column\n          prop=\"id\"\n          label=\"章节ID\">\n        </el-table-column>\n        <el-table-column\n          prop=\"bookTitle\"\n          label=\"书名\">\n          <template slot-scope=\"scope\">\n            (id:{{scope.row.bookId}}){{scope.row.bookTitle}}\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"chapterTitle\"\n          label=\"章节名\">\n        </el-table-column>\n        \n        <el-table-column\n          prop=\"chapterIsvip\"\n          label=\"VIP状态\"\n          align=\"center\">\n          <template slot-scope=\"scope\">\n            <span class=\"red\" v-if=\"scope.row.chapterIsvip\">VIP</span>\n            <span v-else class=\"green\">普通</span>\n          </template>\n        </el-table-column>\n        \n        <el-table-column\n          prop=\"chapterState\"\n          label=\"审核状态\"\n          align=\"center\">\n          <template slot-scope=\"scope\">\n            <span class=\"red\" v-if=\"scope.row.chapterState\">未审核</span>\n            <span v-else class=\"green\">已审核</span>\n          </template>\n        </el-table-column>\n        \n        <el-table-column\n          label=\"发布时间\">\n          <template slot-scope=\"scope\">\n            {{scope.row.releaseTime | time('long')}}\n          </template>\n        </el-table-column>\n        \n        <el-table-column\n          prop=\"chapterLength\"\n          align=\"center\"\n          label=\"字数\">\n        </el-table-column>\n        \n        <el-table-column\n          v-if=\"$store.state.userInfo && $store.state.userInfo.adminRolemenuanduserrole.updates\"\n          align=\"center\"\n          label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-dropdown trigger=\"click\" placement=\"bottom\" @command=\"handleClick($event,scope.row)\">\n              <a href=\"javascript:0;\">更多</a>\n              <el-dropdown-menu slot=\"dropdown\">\n                <el-dropdown-item command=\"a\">编辑</el-dropdown-item>\n                <el-dropdown-item command=\"b\">审核</el-dropdown-item>\n              </el-dropdown-menu>\n            </el-dropdown>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!--</div>-->\n      <el-pagination\n        v-if=\"draftList.list && draftList.total>draftList.pageSize\"\n        class=\"mbt20\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"Number($route.params.page)\"\n        :page-size=\"draftList.pageSize\"\n        layout=\"total, prev, pager, next, jumper\"\n        :total=\"draftList.total\">\n      </el-pagination>\n    </el-row>\n    \n    <!--书籍封面上传-->\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  export default{\n  \n    data() {\n      return {\n        checkList: [],\n        centerDialogVisible: false,\n        draftList: [],\n        cloneList: [],\n        updateData: {},\n        page: 1,\n        multipleSelection: [],\n        newDrag: true,\n        keywords: ''\n      }\n    },\n    methods: {\n      getAllChapterList() {\n        this.$ajax('/admin/getAdminChapterList', {\n          page: this.$route.params.page,\n          searchCondition: this.keywords\n        }, res => {\n          if (res.returnCode === 200) {\n            this.draftList = res.data\n          }\n        })\n      },\n\n//      批量删除\n      toggleRowSelection() {\n        if (this.multipleSelection.length) {\n          const cid = []\n          this.multipleSelection.forEach((item) => {\n            cid.push(item.id)\n          })\n          this.$confirm('此操作将永久删除所选' + cid.length + '个章节, 是否继续?', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(() => {\n            this.$ajax('/chapter-deletechapter', {\n              chapterid: cid.toString()\n            }, res => {\n              if (res.returnCode === 200) {\n                this.getAllChapterList()\n                this.$message({\n                  type: 'success',\n                  message: '删除成功!'\n                })\n              }\n            })\n          }).catch(() => {\n            this.$message({\n              type: 'info',\n              message: '已取消删除'\n            })\n          })\n        } else {\n          this.$message({ message: '请选取要删除的章节！', type: 'warning', showClose: true })\n        }\n      },\n  \n      handleSelectionChange(val) {\n        this.multipleSelection = val\n      },\n//      点击行选中\n      handleRowClick(row) {\n        this.$refs.multipleTable.toggleRowSelection(row)\n      },\n  \n      handleClick(val, data) {\n        if (val === 'a') {\n          this.$router.push({ path: '/edit_chapter/' + data.id })\n        } else if (val === 'b') {\n  \n        }\n      },\n  \n      handleCurrentChange(page) {\n        this.page = page\n        this.$router.push({ params: { page: page }})\n      }\n    },\n    created() {\n      this.getAllChapterList()\n    },\n    watch: {\n      $route: function() {\n        this.getAllChapterList()\n      }\n    },\n    computed: {\n      nowTime: function() {\n        let time = new Date().getTime()\n        this.$ajax('/sys-getNetWorkDateTime', '', res => {\n          if (res.returnCode === 200) {\n            time = res.data.beijing\n          }\n        }, 'get')\n        return time\n      }\n    }\n  }\n</script>\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  .cover\n    width 100%\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/book/all_chapter_list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"admin-book-wrap\"},[_c('el-breadcrumb',{staticClass:\"mbt20\",attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"书籍管理\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"全站章节列表\")])],1),_vm._v(\" \"),_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('div',[_c('p',[_vm._v(\"\\n        此表是本站全部发布章节，您可通过ID进行批量管理\\n      \")])])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-button',{attrs:{\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":_vm.toggleRowSelection}},[_vm._v(\"批量删除\")])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-col',{attrs:{\"xs\":20,\"sm\":16,\"md\":12,\"lg\":9,\"xl\":6}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入书籍id、书名或章节名\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getAllChapterList($event)}},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getAllChapterList},slot:\"append\"})],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"border\":\"\",\"data\":_vm.draftList.list,\"tooltip-effect\":\"dark\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"章节ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookTitle\",\"label\":\"书名\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          (id:\"+_vm._s(scope.row.bookId)+\")\"+_vm._s(scope.row.bookTitle)+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"chapterTitle\",\"label\":\"章节名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"chapterIsvip\",\"label\":\"VIP状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.chapterIsvip)?_c('span',{staticClass:\"red\"},[_vm._v(\"VIP\")]):_c('span',{staticClass:\"green\"},[_vm._v(\"普通\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"chapterState\",\"label\":\"审核状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.chapterState)?_c('span',{staticClass:\"red\"},[_vm._v(\"未审核\")]):_c('span',{staticClass:\"green\"},[_vm._v(\"已审核\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"发布时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(_vm._f(\"time\")(scope.row.releaseTime,'long'))+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"chapterLength\",\"align\":\"center\",\"label\":\"字数\"}}),_vm._v(\" \"),(_vm.$store.state.userInfo && _vm.$store.state.userInfo.adminRolemenuanduserrole.updates)?_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-dropdown',{attrs:{\"trigger\":\"click\",\"placement\":\"bottom\"},on:{\"command\":function($event){_vm.handleClick($event,scope.row)}}},[_c('a',{attrs:{\"href\":\"javascript:0;\"}},[_vm._v(\"更多\")]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"a\"}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"command\":\"b\"}},[_vm._v(\"审核\")])],1)],1)]}}])}):_vm._e()],1),_vm._v(\" \"),(_vm.draftList.list && _vm.draftList.total>_vm.draftList.pageSize)?_c('el-pagination',{staticClass:\"mbt20\",attrs:{\"current-page\":Number(_vm.$route.params.page),\"page-size\":_vm.draftList.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.draftList.total},on:{\"current-change\":_vm.handleCurrentChange}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-98451d8c\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/book/all_chapter_list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}