{"version":3,"sources":["webpack:///static/js/58.a4b9b5a518566c5501a6.js","webpack:///./src/components/book/book_chapter_list.vue","webpack:///src/components/book/book_chapter_list.vue","webpack:///./src/components/book/book_chapter_list.vue?a339"],"names":["webpackJsonp","N8tl","module","__webpack_exports__","__webpack_require__","injectStyle","context","Object","defineProperty","value","stringify","stringify_default","n","vuedraggable","vuedraggable_default","book_chapter_list","components","draggable","a","data","checkList","centerDialogVisible","chapterList","cloneList","updateData","page","multipleSelection","newDrag","bookInfo","$routeParams","methods","getChapterList","_this","this","$ajax","$route","params","bid","res","arr","returnCode","reverse","forEach","item","resultList","length","concat","getBookInfo","_this2","bookid","dragState","evt","val","draggedContext","moveState","index","volumeId","futureIndex","whetherPublic","$message","message","type","showClose","dragStart","JSON","parse","oldIndex","dragEnd","_this3","oldNum","newNum","newIndex","$myLoad","startNum","chapterOrder","endNum","bookId","volumeid","startChapterid","id","$loading","close","duration","toggleRowSelection","_this4","idList","check","push","$confirm","confirmButtonText","cancelButtonText","then","chapterid","toString","catch","selected","$set","selectAll","event","_this5","handleSelectionChange","handleRowClick","row","$refs","multipleTable","handleClick","$router","path","handleCurrentChange","bookChangeState","_this6","state","bookCheckStatus","status","bookStatus","bookAuthorization","msg","getBookList","created","watch","computed","nowTime","time","Date","getTime","beijing","authority","$store","userInfo","adminRolemenuanduserrole","filters","checkState","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator-class","_v","to","title","show-icon","_s","bookName","name","_e","plain","on","click","border","cellspacing","cellpadding","width","change","align","options","element","move","start","update","model","callback","$$v","expression","_l","$index","key","$event","volumeName","chapterTitle","releaseTime","chapterState","_f","chapterLength","target","current-page","page-size","layout","total","current-change","staticRenderFns","component_normalizer","__vue_styles__","Component","Rq2q","exports"],"mappings":"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","file":"static/js/58.a4b9b5a518566c5501a6.js","sourcesContent":["webpackJsonp([58],{\n\n/***/ \"N8tl\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/json/stringify.js\nvar stringify = __webpack_require__(\"3cXf\");\nvar stringify_default = /*#__PURE__*/__webpack_require__.n(stringify);\n\n// EXTERNAL MODULE: ./node_modules/_vuedraggable@2.16.0@vuedraggable/dist/vuedraggable.js\nvar vuedraggable = __webpack_require__(\"405r\");\nvar vuedraggable_default = /*#__PURE__*/__webpack_require__.n(vuedraggable);\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=script&index=0!./src/components/book/book_chapter_list.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var book_chapter_list = ({\n\n  components: { draggable: vuedraggable_default.a },\n\n  data: function data() {\n    return {\n      checkList: [],\n      centerDialogVisible: false,\n      chapterList: [],\n      cloneList: [],\n      updateData: {},\n      page: 1,\n      multipleSelection: [],\n      newDrag: true,\n      bookInfo: {},\n      $routeParams: ''\n    };\n  },\n\n\n  methods: {\n    getChapterList: function getChapterList() {\n      var _this = this;\n\n      this.$ajax('/books-adminChapterList/' + this.$route.params.bid, '', function (res) {\n        var arr = [];\n        if (res.returnCode === 200) {\n          res.data.reverse().forEach(function (item) {\n            if (item.resultList.length > 0) {\n              arr = arr.concat(item.resultList.reverse());\n            }\n          });\n          _this.chapterList = arr.reverse();\n        }\n      }, 'get');\n    },\n    getBookInfo: function getBookInfo() {\n      var _this2 = this;\n\n      this.$ajax('/book-showBookInfo', { bookid: this.$route.params.bid }, function (res) {\n        if (res.returnCode === 200) {\n          _this2.bookInfo = res.data;\n        }\n      });\n    },\n    dragState: function dragState(evt) {\n      var val = evt.draggedContext;\n      // console.log(val)\n      var moveState = this.cloneList[val.index].volumeId === this.cloneList[val.futureIndex].volumeId && !this.cloneList[val.index].whetherPublic;\n      if (!moveState) {\n        if (this.newDrag) {\n          if (!this.cloneList[val.index].whetherPublic) {\n            this.$message({ message: '不同分卷不可调整顺序！', type: 'warning', showClose: true });\n          }\n          this.newDrag = false;\n        }\n      }\n      return moveState;\n    },\n\n\n    // 拖拽开始\n    dragStart: function dragStart(evt) {\n      this.cloneList = JSON.parse(stringify_default()(this.chapterList));\n      this.newDrag = true;\n      if (this.cloneList[evt.oldIndex].whetherPublic) {\n        this.$message({ message: '草稿箱内容不可调序', type: 'warning', showClose: true });\n        return false;\n      }\n    },\n    dragEnd: function dragEnd(evt) {\n      var _this3 = this;\n\n      var oldNum = this.cloneList[evt.oldIndex];\n      var newNum = this.cloneList[evt.newIndex];\n      this.$myLoad();\n      this.$ajax('/sys-chapteOrderUpdate', {\n        startNum: oldNum.chapterOrder,\n        endNum: newNum.chapterOrder,\n        bookid: oldNum.bookId,\n        volumeid: oldNum.volumeId,\n        startChapterid: oldNum.id\n      }, function (res) {\n        _this3.$loading().close();\n        if (res.returnCode === 200) {\n          _this3.getChapterList();\n          _this3.$message({ message: '调整成功', type: 'success', duration: 2000, showClose: true });\n        }\n      });\n    },\n\n\n    // 批量删除\n    toggleRowSelection: function toggleRowSelection() {\n      var _this4 = this;\n\n      var idList = [];\n      this.chapterList.forEach(function (item) {\n        if (item.check) {\n          idList.push(item.id);\n        }\n      });\n      if (idList.length) {\n        this.$confirm('此操作将永久删除所选的 ' + idList.length + ' 个章节, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(function () {\n          _this4.$ajax('/admin/deletechapter', {\n            chapterid: idList.toString()\n          }, function (res) {\n            if (res.returnCode === 200) {\n              _this4.$message({ message: '删除成功', type: 'success' });\n              _this4.getChapterList();\n            }\n          });\n        }).catch(function () {\n          _this4.$message({\n            type: 'info',\n            message: '已取消删除'\n          });\n        });\n      } else {\n        this.$message({ message: '请选取要删除的章节！', type: 'warning', showClose: true });\n      }\n    },\n    selected: function selected(index) {\n      var val = this.chapterList[index];\n      if (val.check) {\n        this.$set(val, 'check', false);\n      } else {\n        this.$set(val, 'check', true);\n      }\n    },\n    selectAll: function selectAll(event) {\n      var _this5 = this;\n\n      if (event) {\n        this.chapterList.forEach(function (item) {\n          _this5.$set(item, 'check', true);\n        });\n      } else {\n        this.chapterList.forEach(function (item) {\n          _this5.$set(item, 'check', false);\n        });\n      }\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n\n\n    // 点击行选中\n    handleRowClick: function handleRowClick(row) {\n      this.$refs.multipleTable.toggleRowSelection(row);\n    },\n    handleClick: function handleClick(val, data) {\n      if (val === 'a') {\n        this.$router.push({ path: '/edit_chapter/' + data.id });\n      } else if (val === 'b') {}\n    },\n    handleCurrentChange: function handleCurrentChange(page) {\n      this.page = page;\n      this.$router.push({ params: { page: page } });\n    },\n\n\n    // 书籍上架下架\n    bookChangeState: function bookChangeState(val, data) {\n      var _this6 = this;\n\n      var state = data.bookCheckStatus,\n          status = data.bookStatus;\n      if (val === 'a') {\n        // 书籍审核\n        state = 1;\n      } else if (val === 'b') {\n        // 书籍上架\n        if (data.bookCheckStatus === 0) {\n          this.$message({ message: '书籍暂未审核，请先审核通过！', type: 'warning' });\n        } else {\n          state = 2;\n        }\n      } else if (val === 'c') {\n        // 书籍下架\n        if (data.bookCheckStatus <= 1) {\n          this.$message({ message: '书籍已下架！', type: 'warning' });\n        } else {\n          state = 1;\n        }\n      } else if (val === 'd') {\n        status = 1;\n      }\n      this.$ajax('/admin/sysbookupdate', {\n        bookId: data.bookId,\n        bookCheckStatus: state,\n        bookAuthorization: data.bookAuthorization,\n        bookStatus: status\n      }, function (res) {\n        if (res.returnCode === 200) {\n          _this6.$message(res.msg);\n          _this6.getBookList();\n        }\n      });\n    }\n  },\n\n  created: function created() {\n    this.getBookInfo();\n    this.getChapterList();\n  },\n\n\n  watch: {\n    $route: function $route() {\n      this.getChapterList();\n    }\n  },\n\n  computed: {\n    nowTime: function nowTime() {\n      var time = new Date().getTime();\n      this.$ajax('/sys-getNetWorkDateTime', '', function (res) {\n        if (res.returnCode === 200) {\n          time = res.data.beijing;\n        }\n      }, 'get');\n      return time;\n    },\n    authority: function authority() {\n      return this.$store.state.userInfo.adminRolemenuanduserrole ? this.$store.state.userInfo.adminRolemenuanduserrole : {};\n    }\n  },\n\n  filters: {\n    checkState: function checkState(val) {\n      //          for(let k=0,len=this.checkList.length;k<len;k++){\n      //            if(val==this.checkList[i]){\n      //                return true\n      //            }\n      //          }\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-436b8fd8\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/book/book_chapter_list.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"admin-book-wrap\"},[_c('el-breadcrumb',{staticClass:\"mbt20\",attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"书籍管理\")]),_vm._v(\" \"),_c('el-breadcrumb-item',{attrs:{\"to\":\"/book/list\"}},[_vm._v(\"书籍列表\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"章节列表\")])],1),_vm._v(\" \"),_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('div',[_c('p',[_vm._v(\"此表为 \"),_c('span',{staticClass:\"blue\"},[_vm._v(\"《\"+_vm._s(_vm.bookInfo.bookName)+\"》\")]),_vm._v(\"的全部章节列表\")]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n                操作：通过拖拽可以直接进行卷内章节调序，不同分卷之间章节不可调序；需要修改分卷名或调整分卷顺序请进入\\n                \"),(_vm.authority.adds)?_c('router-link',{staticClass:\"red\",attrs:{\"to\":{name:'bookVolumeList'}}},[_vm._v(\"分卷管理\")]):_vm._e()],1),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"red\"},[_vm._v(\"注意事项：\")]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-edit danger\"}),_vm._v(\"表示草稿,草稿箱内容不可调序；\\n                \"),_c('i',{staticClass:\"el-icon-time danger\"}),_vm._v(\"表示定时发布，超过当前服务器时间的章节内容会被自动发布；也可以直接\\n                \"),(_vm.authority.adds)?_c('router-link',{staticClass:\"red\",attrs:{\"to\":'/add_new_chapter/'+_vm.$route.params.bid}},[_vm._v(\"新建章节\")]):_vm._e()],1)])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[(_vm.authority.deletes)?_c('el-button',{attrs:{\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":_vm.toggleRowSelection}},[_vm._v(\"批量删除\")]):_vm._e()],1),_vm._v(\" \"),_c('el-row',[_c('div',{staticClass:\"table-wrap\"},[_c('table',{staticClass:\"chapter-list\",attrs:{\"border\":\"0\",\"cellspacing\":\"10\",\"cellpadding\":\"0\",\"width\":\"100%\"}},[_c('thead',[_c('tr',[_c('th',[_c('el-checkbox',{on:{\"change\":_vm.selectAll}})],1),_vm._v(\" \"),_c('th',[_vm._v(\"ID\")]),_vm._v(\" \"),_c('th',[_vm._v(\"分卷\")]),_vm._v(\" \"),_c('th',{attrs:{\"align\":\"left\"}},[_vm._v(\"章节名\")]),_vm._v(\" \"),_c('th',[_vm._v(\"VIP状态\")]),_vm._v(\" \"),_c('th',[_vm._v(\"全部\")]),_vm._v(\" \"),_c('th',[_vm._v(\"发布时间\")]),_vm._v(\" \"),_c('th',[_vm._v(\"字数\")]),_vm._v(\" \"),_c('th',[_vm._v(\"操作\")])])]),_vm._v(\" \"),_c('draggable',{attrs:{\"options\":{draggable:'.drag-item'},\"element\":\"tbody\",\"move\":_vm.dragState},on:{\"start\":_vm.dragStart,\"update\":_vm.dragEnd},model:{value:(_vm.chapterList),callback:function ($$v) {_vm.chapterList=$$v},expression:\"chapterList\"}},_vm._l((_vm.chapterList),function(item,$index){return _c('tr',{key:item.id,staticClass:\"drag-item\",on:{\"click\":function($event){_vm.selected($index)}}},[_c('td',[_c('el-checkbox',{model:{value:(item.check),callback:function ($$v) {_vm.$set(item, \"check\", $$v)},expression:\"item.check\"}})],1),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.id))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.volumeName))]),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"left\"}},[_vm._v(\"\\n                            \"+_vm._s(item.chapterTitle)+\"\\n                            \"),(item.whetherPublic)?_c('i',{staticClass:\"el-icon-edit danger\"}):(_vm.nowTime<item.releaseTime)?_c('i',{staticClass:\"el-icon-time danger\"}):_vm._e()]),_vm._v(\" \"),_c('td',[(item.chapterIsvip)?_c('span',{staticClass:\"danger\"},[_vm._v(\"VIP\")]):_c('span',{staticClass:\"safe\"},[_vm._v(\"普通\")])]),_vm._v(\" \"),_c('td',[(!item.chapterState)?_c('span',{staticClass:\"safe\"},[_vm._v(\"已审核\")]):_c('span',{staticClass:\"danger\"},[_vm._v(\"未审核\")])]),_vm._v(\" \"),_c('td',[_vm._v(\"\\n                            \"+_vm._s(_vm._f(\"time\")(item.releaseTime,'long'))+\"\\n                        \")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.chapterLength))]),_vm._v(\" \"),_c('td',[_c('router-link',{staticClass:\"blue\",attrs:{\"target\":\"_blank\",\"to\":'/edit_chapter/'+item.id}},[_vm._v(\"编辑\")])],1)])}))],1)]),_vm._v(\" \"),(_vm.chapterList.length)?_c('el-pagination',{staticClass:\"mbt20\",attrs:{\"current-page\":_vm.page,\"page-size\":100,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.chapterList.length},on:{\"current-change\":_vm.handleCurrentChange}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\n// EXTERNAL MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer.js\nvar component_normalizer = __webpack_require__(\"18Nq\");\n\n// CONCATENATED MODULE: ./src/components/book/book_chapter_list.vue\nfunction injectStyle (context) {\n  __webpack_require__(\"Rq2q\")\n}\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\n\nvar Component = Object(component_normalizer[\"a\" /* default */])(\n  book_chapter_list,\n  render,\n  staticRenderFns,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var book_book_chapter_list = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"Rq2q\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/58.a4b9b5a518566c5501a6.js","function injectStyle (context) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=styles&index=0!./book_chapter_list.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./book_chapter_list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./book_chapter_list.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-436b8fd8\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=template&index=0!./book_chapter_list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/book/book_chapter_list.vue\n// module id = null\n// module chunks = ","<template>\n<div class=\"admin-book-wrap\">\n    <el-breadcrumb class=\"mbt20\" separator-class=\"el-icon-arrow-right\">\n        <el-breadcrumb-item>书籍管理</el-breadcrumb-item>\n        <el-breadcrumb-item to=\"/book/list\">书籍列表</el-breadcrumb-item>\n        <el-breadcrumb-item >章节列表</el-breadcrumb-item>\n    </el-breadcrumb>\n    \n    <el-alert title=\"操作说明\" type=\"info\" show-icon>\n        <div>\n            <p>此表为 <span class=\"blue\">《{{bookInfo.bookName}}》</span>的全部章节列表</p>\n            <p>\n                操作：通过拖拽可以直接进行卷内章节调序，不同分卷之间章节不可调序；需要修改分卷名或调整分卷顺序请进入\n                <router-link v-if=\"authority.adds\" class=\"red\" :to=\"{name:'bookVolumeList'}\">分卷管理</router-link>\n            </p>\n            <p>\n                <span class=\"red\">注意事项：</span>\n                <i class=\"el-icon-edit danger\"></i>表示草稿,草稿箱内容不可调序；\n                <i class=\"el-icon-time danger\"></i>表示定时发布，超过当前服务器时间的章节内容会被自动发布；也可以直接\n                <router-link v-if=\"authority.adds\" class=\"red\" :to=\"'/add_new_chapter/'+$route.params.bid\">新建章节</router-link>\n            </p>\n        </div>\n    </el-alert>\n\n    <el-row class=\"mbt20\">\n        <el-button v-if=\"authority.deletes\" type=\"danger\" plain @click=\"toggleRowSelection\">批量删除</el-button>\n    </el-row>\n\n    <el-row>\n        <div class=\"table-wrap\">\n            <table class=\"chapter-list\" border=\"0\" cellspacing=\"10\" cellpadding=\"0\" width=\"100%\">\n                <thead>\n                    <tr>\n                        <th><el-checkbox @change=\"selectAll\"></el-checkbox></th>\n                        <th>ID</th>\n                        <th>分卷</th>\n                        <th align=\"left\">章节名</th>\n                        <th>VIP状态</th>\n                        <th>全部</th>\n                        <th>发布时间</th>\n                        <th>字数</th>\n                        <th>操作</th>\n                    </tr>\n                </thead>\n                <draggable v-model=\"chapterList\" :options=\"{draggable:'.drag-item'}\" element=\"tbody\" :move=\"dragState\" @start=\"dragStart\" @update=\"dragEnd\">\n                    <tr class=\"drag-item\" v-for=\"(item,$index) in chapterList\" @click=\"selected($index)\" :key=\"item.id\">\n                        <td>\n                            <el-checkbox v-model=\"item.check\"></el-checkbox>\n                        </td>\n                        <td>{{item.id}}</td>\n                        <td>{{item.volumeName}}</td>\n                        <td align=\"left\">\n                            {{item.chapterTitle}}\n                            <i v-if=\"item.whetherPublic\" class=\"el-icon-edit danger\"></i>\n                            <i v-else-if=\"nowTime<item.releaseTime\" class=\"el-icon-time danger\"></i>\n                        </td>\n                        <td>\n                            <span v-if=\"item.chapterIsvip\" class=\"danger\">VIP</span>\n                            <span v-else class=\"safe\">普通</span>\n                        </td>\n                        <td>\n                            <span v-if=\"!item.chapterState\" class=\"safe\">已审核</span>\n                            <span v-else class=\"danger\">未审核</span>\n                        </td>\n                        <td>\n                            {{ item.releaseTime | time('long') }}\n                        </td>\n                        <td>{{item.chapterLength}}</td>\n                        <td>\n                            <router-link target=\"_blank\" class=\"blue\" :to=\"'/edit_chapter/'+item.id\">编辑</router-link>\n                        </td>\n                    </tr>\n                </draggable>\n            </table>\n        </div>\n        <el-pagination\n            v-if=\"chapterList.length\"\n            class=\"mbt20\"\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"page\"\n            :page-size=\"100\"\n            layout=\"total, prev, pager, next, jumper\"\n            :total=\"chapterList.length\">\n        </el-pagination>\n    </el-row>\n</div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport draggable from 'vuedraggable'\nexport default{\n\n  components: { draggable },\n\n  data() {\n    return {\n      checkList: [],\n      centerDialogVisible: false,\n      chapterList: [],\n      cloneList: [],\n      updateData: {},\n      page: 1,\n      multipleSelection: [],\n      newDrag: true,\n      bookInfo: {},\n      $routeParams: ''\n    }\n  },\n\n  methods: {\n\n    getChapterList() {\n      this.$ajax('/books-adminChapterList/' + this.$route.params.bid, '', res => {\n        let arr = []\n        if (res.returnCode === 200) {\n          res.data.reverse().forEach((item) => {\n            if (item.resultList.length > 0) {\n              arr = arr.concat(item.resultList.reverse())\n            }\n          })\n          this.chapterList = arr.reverse()\n        }\n      }, 'get')\n    },\n\n    getBookInfo() {\n      this.$ajax('/book-showBookInfo', { bookid: this.$route.params.bid }, res => {\n        if (res.returnCode === 200) {\n          this.bookInfo = res.data\n        }\n      })\n    },\n\n    dragState(evt) {\n      const val = evt.draggedContext\n            // console.log(val)\n      const moveState = this.cloneList[val.index].volumeId === this.cloneList[val.futureIndex].volumeId && !this.cloneList[val.index].whetherPublic\n      if (!moveState) {\n        if (this.newDrag) {\n          if (!this.cloneList[val.index].whetherPublic) {\n            this.$message({ message: '不同分卷不可调整顺序！', type: 'warning', showClose: true })\n          }\n          this.newDrag = false\n        }\n      }\n      return moveState\n    },\n\n        // 拖拽开始\n    dragStart(evt) {\n      this.cloneList = JSON.parse(JSON.stringify(this.chapterList))\n      this.newDrag = true\n      if (this.cloneList[evt.oldIndex].whetherPublic) {\n        this.$message({ message: '草稿箱内容不可调序', type: 'warning', showClose: true })\n        return false\n      }\n    },\n\n    dragEnd(evt) {\n      const oldNum = this.cloneList[evt.oldIndex]\n      const newNum = this.cloneList[evt.newIndex]\n      this.$myLoad()\n      this.$ajax('/sys-chapteOrderUpdate', {\n        startNum: oldNum.chapterOrder,\n        endNum: newNum.chapterOrder,\n        bookid: oldNum.bookId,\n        volumeid: oldNum.volumeId,\n        startChapterid: oldNum.id\n      }, res => {\n        this.$loading().close()\n        if (res.returnCode === 200) {\n          this.getChapterList()\n          this.$message({ message: '调整成功', type: 'success', duration: 2000, showClose: true })\n        }\n      })\n    },\n\n        // 批量删除\n    toggleRowSelection() {\n      const idList = []\n      this.chapterList.forEach((item) => {\n        if (item.check) {\n          idList.push(item.id)\n        }\n      })\n      if (idList.length) {\n        this.$confirm('此操作将永久删除所选的 ' + idList.length + ' 个章节, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$ajax('/admin/deletechapter', {\n            chapterid: idList.toString()\n          }, res => {\n            if (res.returnCode === 200) {\n              this.$message({ message: '删除成功', type: 'success' })\n              this.getChapterList()\n            }\n          })\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          })\n        })\n      } else {\n        this.$message({ message: '请选取要删除的章节！', type: 'warning', showClose: true })\n      }\n    },\n\n    selected(index) {\n      const val = this.chapterList[index]\n      if (val.check) {\n        this.$set(val, 'check', false)\n      } else {\n        this.$set(val, 'check', true)\n      }\n    },\n\n    selectAll(event) {\n      if (event) {\n        this.chapterList.forEach((item) => {\n          this.$set(item, 'check', true)\n        })\n      } else {\n        this.chapterList.forEach((item) => {\n          this.$set(item, 'check', false)\n        })\n      }\n    },\n\n    handleSelectionChange(val) {\n      this.multipleSelection = val\n    },\n\n        // 点击行选中\n    handleRowClick(row) {\n      this.$refs.multipleTable.toggleRowSelection(row)\n    },\n\n    handleClick(val, data) {\n      if (val === 'a') {\n        this.$router.push({ path: '/edit_chapter/' + data.id })\n      } else if (val === 'b') { }\n    },\n\n    handleCurrentChange(page) {\n      this.page = page\n      this.$router.push({ params: { page: page }})\n    },\n\n        // 书籍上架下架\n    bookChangeState(val, data) {\n      let state = data.bookCheckStatus, status = data.bookStatus\n      if (val === 'a') {\n                // 书籍审核\n        state = 1\n      } else if (val === 'b') {\n                // 书籍上架\n        if (data.bookCheckStatus === 0) {\n          this.$message({ message: '书籍暂未审核，请先审核通过！', type: 'warning' })\n        } else {\n          state = 2\n        }\n      } else if (val === 'c') {\n                // 书籍下架\n        if (data.bookCheckStatus <= 1) {\n          this.$message({ message: '书籍已下架！', type: 'warning' })\n        } else {\n          state = 1\n        }\n      } else if (val === 'd') {\n        status = 1\n      }\n      this.$ajax('/admin/sysbookupdate', {\n        bookId: data.bookId,\n        bookCheckStatus: state,\n        bookAuthorization: data.bookAuthorization,\n        bookStatus: status\n      }, res => {\n        if (res.returnCode === 200) {\n          this.$message(res.msg)\n          this.getBookList()\n        }\n      })\n    }\n\n  },\n\n  created() {\n    this.getBookInfo()\n    this.getChapterList()\n  },\n\n  watch: {\n    $route: function() {\n      this.getChapterList()\n    }\n  },\n\n  computed: {\n    nowTime: function() {\n      let time = new Date().getTime()\n      this.$ajax('/sys-getNetWorkDateTime', '', res => {\n        if (res.returnCode === 200) {\n          time = res.data.beijing\n        }\n      }, 'get')\n      return time\n    },\n    authority: function() {\n      return this.$store.state.userInfo.adminRolemenuanduserrole ? this.$store.state.userInfo.adminRolemenuanduserrole : {}\n    }\n  },\n\n  filters: {\n    checkState: function(val) {\n//          for(let k=0,len=this.checkList.length;k<len;k++){\n//            if(val==this.checkList[i]){\n//                return true\n//            }\n//          }\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n    .cover\n        width 100%\n    .drag-item:hover\n        background #fafafa\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/book/book_chapter_list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"admin-book-wrap\"},[_c('el-breadcrumb',{staticClass:\"mbt20\",attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"书籍管理\")]),_vm._v(\" \"),_c('el-breadcrumb-item',{attrs:{\"to\":\"/book/list\"}},[_vm._v(\"书籍列表\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"章节列表\")])],1),_vm._v(\" \"),_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('div',[_c('p',[_vm._v(\"此表为 \"),_c('span',{staticClass:\"blue\"},[_vm._v(\"《\"+_vm._s(_vm.bookInfo.bookName)+\"》\")]),_vm._v(\"的全部章节列表\")]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n                操作：通过拖拽可以直接进行卷内章节调序，不同分卷之间章节不可调序；需要修改分卷名或调整分卷顺序请进入\\n                \"),(_vm.authority.adds)?_c('router-link',{staticClass:\"red\",attrs:{\"to\":{name:'bookVolumeList'}}},[_vm._v(\"分卷管理\")]):_vm._e()],1),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"red\"},[_vm._v(\"注意事项：\")]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-edit danger\"}),_vm._v(\"表示草稿,草稿箱内容不可调序；\\n                \"),_c('i',{staticClass:\"el-icon-time danger\"}),_vm._v(\"表示定时发布，超过当前服务器时间的章节内容会被自动发布；也可以直接\\n                \"),(_vm.authority.adds)?_c('router-link',{staticClass:\"red\",attrs:{\"to\":'/add_new_chapter/'+_vm.$route.params.bid}},[_vm._v(\"新建章节\")]):_vm._e()],1)])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[(_vm.authority.deletes)?_c('el-button',{attrs:{\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":_vm.toggleRowSelection}},[_vm._v(\"批量删除\")]):_vm._e()],1),_vm._v(\" \"),_c('el-row',[_c('div',{staticClass:\"table-wrap\"},[_c('table',{staticClass:\"chapter-list\",attrs:{\"border\":\"0\",\"cellspacing\":\"10\",\"cellpadding\":\"0\",\"width\":\"100%\"}},[_c('thead',[_c('tr',[_c('th',[_c('el-checkbox',{on:{\"change\":_vm.selectAll}})],1),_vm._v(\" \"),_c('th',[_vm._v(\"ID\")]),_vm._v(\" \"),_c('th',[_vm._v(\"分卷\")]),_vm._v(\" \"),_c('th',{attrs:{\"align\":\"left\"}},[_vm._v(\"章节名\")]),_vm._v(\" \"),_c('th',[_vm._v(\"VIP状态\")]),_vm._v(\" \"),_c('th',[_vm._v(\"全部\")]),_vm._v(\" \"),_c('th',[_vm._v(\"发布时间\")]),_vm._v(\" \"),_c('th',[_vm._v(\"字数\")]),_vm._v(\" \"),_c('th',[_vm._v(\"操作\")])])]),_vm._v(\" \"),_c('draggable',{attrs:{\"options\":{draggable:'.drag-item'},\"element\":\"tbody\",\"move\":_vm.dragState},on:{\"start\":_vm.dragStart,\"update\":_vm.dragEnd},model:{value:(_vm.chapterList),callback:function ($$v) {_vm.chapterList=$$v},expression:\"chapterList\"}},_vm._l((_vm.chapterList),function(item,$index){return _c('tr',{key:item.id,staticClass:\"drag-item\",on:{\"click\":function($event){_vm.selected($index)}}},[_c('td',[_c('el-checkbox',{model:{value:(item.check),callback:function ($$v) {_vm.$set(item, \"check\", $$v)},expression:\"item.check\"}})],1),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.id))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.volumeName))]),_vm._v(\" \"),_c('td',{attrs:{\"align\":\"left\"}},[_vm._v(\"\\n                            \"+_vm._s(item.chapterTitle)+\"\\n                            \"),(item.whetherPublic)?_c('i',{staticClass:\"el-icon-edit danger\"}):(_vm.nowTime<item.releaseTime)?_c('i',{staticClass:\"el-icon-time danger\"}):_vm._e()]),_vm._v(\" \"),_c('td',[(item.chapterIsvip)?_c('span',{staticClass:\"danger\"},[_vm._v(\"VIP\")]):_c('span',{staticClass:\"safe\"},[_vm._v(\"普通\")])]),_vm._v(\" \"),_c('td',[(!item.chapterState)?_c('span',{staticClass:\"safe\"},[_vm._v(\"已审核\")]):_c('span',{staticClass:\"danger\"},[_vm._v(\"未审核\")])]),_vm._v(\" \"),_c('td',[_vm._v(\"\\n                            \"+_vm._s(_vm._f(\"time\")(item.releaseTime,'long'))+\"\\n                        \")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.chapterLength))]),_vm._v(\" \"),_c('td',[_c('router-link',{staticClass:\"blue\",attrs:{\"target\":\"_blank\",\"to\":'/edit_chapter/'+item.id}},[_vm._v(\"编辑\")])],1)])}))],1)]),_vm._v(\" \"),(_vm.chapterList.length)?_c('el-pagination',{staticClass:\"mbt20\",attrs:{\"current-page\":_vm.page,\"page-size\":100,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.chapterList.length},on:{\"current-change\":_vm.handleCurrentChange}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-436b8fd8\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/book/book_chapter_list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}