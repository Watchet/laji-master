webpackJsonp([10],{"2sKd":function(e,t,a){"use strict";function r(e){a("QhRe")}Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{fold:!1,filterForm:{rechargeType:"",client:"",isOK:""},searchForm:{},defaultValue:null,pickerOptions:{shortcuts:[{text:"本月",onClick:function(e){var t=new Date,a=new Date;a.setDate(1),e.$emit("pick",[a,t])}}],disabledDate:function(e){return e.getTime()>Date.now()}},chargeCommentList:{},keywords:"",selectType:"userName",multipleSelection:[],userInfo:{},date:""}},methods:{getChargeStatisticList:function(){var e=this;if(this.searchForm={},this.searchForm.page=this.$route.params.page,this.$route.params.uid&&(this.searchForm.userId=this.$route.params.uid),this.selectType&&this.keywords){if("userId"===this.selectType&&!Number(this.keywords))return this.$message({message:"ID必需为数字",type:"warning"}),!1;this.searchForm[this.selectType]=this.keywords}for(var t in this.filterForm)""!==this.filterForm[t]&&(this.searchForm[t]=this.filterForm[t]);this.date&&(this.searchForm.startdate=this.date[0]+" 00:00:00",this.searchForm.enddate=this.date[1]+" 23:59:59"),this.$ajax("/sys-RechargeRecordStatistics",this.searchForm,function(t){200===t.returnCode?e.chargeCommentList=t.data:t.data||(e.chargeCommentList={})})},searchReplyCom:function(){1==this.$route.params.page?this.getChargeStatisticList():this.$router.push({params:{page:1}})},handleCurrentChange:function(e){this.$router.push({params:{page:e}})},getUserInfo:function(){var e=this;this.$route.params.uid&&this.$ajax("/person-SimplifyUserInfo",{puserid:this.$route.params.uid},function(t){200===t.returnCode&&(e.userInfo=t.data)})}},created:function(){"staUserCharge"===this.$route.name&&(this.date=[this.$formTime(new Date((new Date).setDate(1)),"sort"),this.$formTime(new Date,"sort")]),this.getChargeStatisticList(),this.getUserInfo()},watch:{$route:function(){this.getChargeStatisticList()},date:function(e,t){""!==t&&this.getChargeStatisticList()},filterForm:{handler:function(){this.getChargeStatisticList()},deep:!0}},filters:{type:function(e){var t="";switch(e){case 110:t="支付宝";break;case 111:t="微信";break;case 112:t="IOS";break;default:t="其他"}return t}}},l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"reply-comment-wrap"},[a("el-alert",{attrs:{title:"操作说明",type:"info","show-icon":""}},[a("div",[a("p",[e._v("\n        此表为\n        "),a("span",{staticClass:"red"},[e._v(e._s("staUserCharge"==e.$route.name?e.userInfo.pseudonym:"全站"))]),e._v("\n        的辣椒打赏统计，您可以通过相应类型进行精确搜索，更多搜索条件可以直接 "),a("a",{attrs:{href:"javascript:0;"},on:{click:function(t){e.fold?e.fold=!1:e.fold=!0}}},[e._v(e._s(e.fold?"收起":"展开"))]),e._v(" 查看\n      ")])])]),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.fold,expression:"fold"}],staticClass:"mbt20 fitler-search"},[a("div",[e._v("\n      支付类型：\n      "),a("el-radio-group",{model:{value:e.filterForm.rechargeType,callback:function(t){e.$set(e.filterForm,"rechargeType",t)},expression:"filterForm.rechargeType"}},[a("el-radio-button",{attrs:{label:""}},[e._v("全部")]),e._v(" "),a("el-radio-button",{attrs:{label:"110"}},[e._v("支付宝")]),e._v(" "),a("el-radio-button",{attrs:{label:"111"}},[e._v("微信")]),e._v(" "),a("el-radio-button",{attrs:{label:"112"}},[e._v("IOS")])],1)],1),e._v(" "),a("div",[e._v("\n      终  端：\n      "),a("el-radio-group",{model:{value:e.filterForm.client,callback:function(t){e.$set(e.filterForm,"client",t)},expression:"filterForm.client"}},[a("el-radio-button",{attrs:{label:""}},[e._v("全部")]),e._v(" "),a("el-radio-button",{attrs:{label:"PC"}},[e._v("PC")]),e._v(" "),a("el-radio-button",{attrs:{label:"安卓"}},[e._v("Android")]),e._v(" "),a("el-radio-button",{attrs:{label:"苹果支付"}},[e._v("IOS")])],1)],1),e._v(" "),a("div",[e._v("\n      状  态：\n      "),a("el-radio-group",{model:{value:e.filterForm.isOK,callback:function(t){e.$set(e.filterForm,"isOK",t)},expression:"filterForm.isOK"}},[a("el-radio-button",{attrs:{label:""}},[e._v("全部")]),e._v(" "),a("el-radio-button",{attrs:{label:"1"}},[e._v("成功")]),e._v(" "),a("el-radio-button",{attrs:{label:"0"}},[e._v("失败")])],1)],1)]),e._v(" "),a("el-row",{staticClass:"mbt20"},[a("el-col",[a("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),e._v(" "),a("el-row",{staticClass:"mbt20"},[a("el-col",{attrs:{xs:20,sm:16,md:12,lg:9,xl:6}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.searchReplyCom(t):null}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}},["staUserCharge"==e.$route.name?a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.selectType,callback:function(t){e.selectType=t},expression:"selectType"}},[a("el-option",{attrs:{label:"订单号",value:"orderNo"}})],1):a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.selectType,callback:function(t){e.selectType=t},expression:"selectType"}},[a("el-option",{attrs:{label:"订单号",value:"orderNo"}}),e._v(" "),a("el-option",{attrs:{label:"用户名",value:"userName"}}),e._v(" "),a("el-option",{attrs:{label:"用户ID",value:"userId"}})],1),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchReplyCom},slot:"append"})],1)],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.chargeCommentList.list,border:""}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userId",width:"70",align:"center",label:"用户ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"80",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(e._f("type")(t.row.rechargeType))+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"money",align:"center",label:"金额",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderNo",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{width:"60",align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isOK?a("span",{staticClass:"green"},[e._v("成功")]):a("span",{staticClass:"red"},[e._v("失败")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"client",width:"60",align:"center",label:"终端"}}),e._v(" "),a("el-table-column",{attrs:{prop:"replyCommentsContent",width:"145",align:"center",label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("time")(t.row.dateTimes,"long")))])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"mbt20",attrs:{background:"","current-page":e.chargeCommentList.pageNum,"page-size":e.chargeCommentList.pageSize,layout:"total, prev, pager, next, jumper",total:e.chargeCommentList.total},on:{"current-change":e.handleCurrentChange}})],1)},o=[],i=a("18Nq"),n=r,c=Object(i.a)(s,l,o,!1,n,null,null);t.default=c.exports},QhRe:function(e,t){}});
//# sourceMappingURL=10.5c4a7e926ac226e67abd.js.map