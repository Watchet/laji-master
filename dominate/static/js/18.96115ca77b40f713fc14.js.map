{"version":3,"sources":["webpack:///static/js/18.96115ca77b40f713fc14.js","webpack:///./src/page/extend/extendLink.vue","webpack:///src/page/extend/extendLink.vue","webpack:///./src/page/extend/extendLink.vue?2cd3"],"names":["webpackJsonp","OFbv","module","exports","RXwa","__webpack_exports__","__webpack_require__","injectStyle","context","Object","defineProperty","value","extendLink","data","dialogVisible","dialogVisibleTable","searchInput","extendLinkParams","page","channelId","updateParams","chapterName","recordList","mounted","this","$store","dispatch","methods","openDialog","row","newMediaId","openDialogTable","arr","handleCurrentChange","$router","push","params","computed","extendLinkObj","state","census","filters","extendTime","toString","slice","computedTotal","length","n","i","totalCount","watch","$route","val","render","_vm","_h","$createElement","_c","_self","attrs","separator-class","to","path","_v","staticClass","placeholder","model","callback","$$v","expression","type","icon","staticStyle","width","list","border","label","scopedSlots","_u","key","fn","scope","_s","newMediaName","url","effect","content","placement","directives","name","rawName","_f","addTime","bookId","bookName","infoTotal","align","size","on","click","$event","show","current-page","pageNo","page-size","pageSize","layout","total","current-change","title","visible","update:visible","$set","_l","item","index","id","text-align","stripe","date","prop","staticRenderFns","component_normalizer","__vue_styles__","Component"],"mappings":"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","file":"static/js/18.96115ca77b40f713fc14.js","sourcesContent":["webpackJsonp([18],{\n\n/***/ \"OFbv\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"RXwa\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=script&index=0!./src/page/extend/extendLink.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var extendLink = ({\n    data: function data() {\n        return {\n            dialogVisible: false,\n            dialogVisibleTable: false,\n            searchInput: '',\n            extendLinkParams: {\n                page: 1,\n                channelId: 'LGDMT20180627'\n            },\n            updateParams: {\n                channelId: '',\n                chapterName: ''\n            },\n            recordList: []\n        };\n    },\n    mounted: function mounted() {\n        this.$store.dispatch('census/getExtensionLink', this.extendLinkParams);\n    },\n\n\n    methods: {\n        openDialog: function openDialog(row) {\n            this.updateParams.channelId = row.newMediaId;\n            this.updateParams.chapterName = row.chapterName;\n            this.dialogVisible = true;\n        },\n        openDialogTable: function openDialogTable(arr) {\n            this.recordList = arr;\n            this.dialogVisibleTable = true;\n        },\n        handleCurrentChange: function handleCurrentChange(page) {\n            this.$router.push({ params: { page: page } });\n        }\n    },\n\n    computed: {\n        extendLinkObj: function extendLinkObj() {\n            return this.$store.state.census.extendLinkObj;\n        }\n    },\n\n    filters: {\n        extendTime: function extendTime(value) {\n            if (!value) return '';\n            return value = value.toString().slice(0, 4) + '-' + value.toString().slice(4, 6) + '-' + value.toString().slice(6);\n        },\n        computedTotal: function computedTotal(value) {\n            if (value.length == 0) return 0;\n            var n = 0;\n            for (var i = 0; i < value.length; i++) {\n                n += value[i].totalCount;\n            }\n            return n;\n        }\n    },\n\n    watch: {\n        $route: function $route(val) {\n            this.extendLinkParams.page = val.params.page;\n            this.$store.dispatch('census/getExtensionLink', this.extendLinkParams);\n        }\n    }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-33e0a58a\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/page/extend/extendLink.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/bookdistribution' }}},[_vm._v(\"小说分销平台\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"推广链接\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"extend-search\"},[_c('div',{staticClass:\"search\"},[_c('el-input',{attrs:{\"placeholder\":\"小说或派单渠道名称\"},model:{value:(_vm.searchInput),callback:function ($$v) {_vm.searchInput=$$v},expression:\"searchInput\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"}})],1)]),_vm._v(\" \"),_c('el-table',{staticClass:\"extend-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.extendLinkObj.list,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"推广链接\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{staticClass:\"extend-media-name\"},[_vm._v(_vm._s(scope.row.newMediaName))]),_vm._v(\" \"),_c('p',{staticClass:\"extend-url\"},[_c('span',[_vm._v(_vm._s(scope.row.url))]),_vm._v(\" \"),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"复制链接\",\"placement\":\"top\"}},[_c('i',{directives:[{name:\"clipboard\",rawName:\"v-clipboard\",value:(scope.row.url),expression:\"scope.row.url\"}],staticClass:\"fa fa-copy\"})])],1),_vm._v(\" \"),_c('p',{staticClass:\"extend-time\"},[_vm._v(\"创建时间：\"+_vm._s(_vm._f(\"extendTime\")(scope.row.addTime)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"入口页面\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{staticClass:\"extend-book-name\"},[_c('router-link',{attrs:{\"to\":'/extend/chapterList/'+scope.row.bookId}},[_vm._v(_vm._s(scope.row.bookName))])],1),_vm._v(\" \"),_c('p',{staticClass:\"extend-chapter\"},[_vm._v(_vm._s(scope.row.chapterName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"原文点击次数\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"computedTotal\")(scope.row.infoTotal)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"访问记录\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"primary\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.openDialogTable(scope.row.infoTotal)}}},[_vm._v(\"详情\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"more-btn\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){scope.row.show = !scope.row.show}}},[_vm._v(\"\\r\\n                    更多 \"),_c('i',{staticClass:\"fa fa-caret-down\"}),_vm._v(\" \"),_c('el-collapse-transition',[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.show),expression:\"scope.row.show\"}],staticClass:\"tool-list\"},[_c('li',[_c('a',{on:{\"click\":function($event){_vm.openDialog(scope.row)}}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" 修改链接\")])]),_vm._v(\" \"),_c('li',[_c('a',[_c('i',{staticClass:\"fa fa-trash-o\"}),_vm._v(\" 删除\")])])])])],1)]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"current-page\":_vm.extendLinkObj.pageNo,\"page-size\":_vm.extendLinkObj.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.extendLinkObj.totalCount},on:{\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),_c('el-dialog',{staticClass:\"dialog\",attrs:{\"title\":\"修改推广链接属性\",\"visible\":_vm.dialogVisible,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"dialog-item\"},[_c('p',[_vm._v(\"入口页面\")]),_vm._v(\" \"),_c('span',[_vm._v(\"小说阅读页\")])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-item\"},[_c('p',[_vm._v(\"渠道名称\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.updateParams.channelId),callback:function ($$v) {_vm.$set(_vm.updateParams, \"channelId\", $$v)},expression:\"updateParams.channelId\"}},_vm._l((this.$store.state.census.spreadNameList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-item\"},[_c('p',[_vm._v(\"阅读原文章节\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.updateParams.chapterName))])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-tool\",staticStyle:{\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"保存修改\")])],1)]),_vm._v(\" \"),_c('el-dialog',{staticClass:\"dialog-table\",attrs:{\"title\":\"访问记录\",\"visible\":_vm.dialogVisibleTable,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.dialogVisibleTable=$event}}},[_c('el-table',{attrs:{\"data\":_vm.recordList,\"stripe\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"日期\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"extendTime\")(scope.row.date)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ipCount\",\"label\":\"IP点击数\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"totalCount\",\"label\":\"总数量\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\n// EXTERNAL MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer.js\nvar component_normalizer = __webpack_require__(\"18Nq\");\n\n// CONCATENATED MODULE: ./src/page/extend/extendLink.vue\nfunction injectStyle (context) {\n  __webpack_require__(\"OFbv\")\n}\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\n\nvar Component = Object(component_normalizer[\"a\" /* default */])(\n  extendLink,\n  render,\n  staticRenderFns,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var extend_extendLink = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/18.96115ca77b40f713fc14.js","function injectStyle (context) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=styles&index=0!./extendLink.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./extendLink.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./extendLink.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-33e0a58a\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=template&index=0!./extendLink.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/extend/extendLink.vue\n// module id = null\n// module chunks = ","<template>\r\n<div>\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n        <el-breadcrumb-item :to=\"{ path: '/bookdistribution' }\">小说分销平台</el-breadcrumb-item>\r\n        <el-breadcrumb-item>推广链接</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <div class=\"extend-search\">\r\n        <div class=\"search\">\r\n            <el-input v-model=\"searchInput\" placeholder=\"小说或派单渠道名称\"></el-input>\r\n            <el-button type=\"primary\" icon=\"el-icon-search\"></el-button>\r\n        </div>\r\n    </div>\r\n\r\n    <el-table class=\"extend-table\" :data=\"extendLinkObj.list\" border style=\"width: 100%\">\r\n        <el-table-column label=\"推广链接\">\r\n            <template slot-scope=\"scope\">\r\n                <p class=\"extend-media-name\">{{scope.row.newMediaName}}</p>\r\n                <p class=\"extend-url\">\r\n                    <span>{{scope.row.url}}</span>\r\n                    <el-tooltip effect=\"dark\" content=\"复制链接\" placement=\"top\">\r\n                        <i class=\"fa fa-copy\" v-clipboard=\"scope.row.url\"></i>\r\n                    </el-tooltip>\r\n                </p>\r\n                <p class=\"extend-time\">创建时间：{{scope.row.addTime | extendTime()}}</p>\r\n            </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"入口页面\">\r\n            <template slot-scope=\"scope\">\r\n                <p class=\"extend-book-name\"><router-link :to=\"'/extend/chapterList/'+scope.row.bookId\">{{scope.row.bookName}}</router-link></p>\r\n                <p class=\"extend-chapter\">{{scope.row.chapterName}}</p>\r\n            </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"原文点击次数\" width=\"150\">\r\n            <template slot-scope=\"scope\">\r\n                <span>{{scope.row.infoTotal | computedTotal()}}</span>\r\n            </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"访问记录\" width=\"150\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n                <el-button class=\"primary\" size=\"mini\" @click=\"openDialogTable(scope.row.infoTotal)\">详情</el-button>\r\n            </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"操作\" width=\"200\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n                <el-button class=\"more-btn\" size=\"mini\" @click=\"scope.row.show = !scope.row.show\">\r\n                    更多 <i class=\"fa fa-caret-down\"></i>\r\n                    <el-collapse-transition>\r\n                        <ul class=\"tool-list\" v-show=\"scope.row.show\">\r\n                            <li><a @click=\"openDialog(scope.row)\"><i class=\"fa fa-edit\"></i> 修改链接</a></li>\r\n                            <li><a><i class=\"fa fa-trash-o\"></i> 删除</a></li>\r\n                        </ul>\r\n                    </el-collapse-transition>\r\n                </el-button>\r\n            </template>\r\n        </el-table-column>\r\n    </el-table>\r\n\r\n    <el-pagination\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"extendLinkObj.pageNo\"\r\n        :page-size=\"extendLinkObj.pageSize\"\r\n        layout=\"total, prev, pager, next, jumper\"\r\n        :total=\"extendLinkObj.totalCount\">\r\n    </el-pagination>\r\n\r\n    <el-dialog class=\"dialog\" title=\"修改推广链接属性\" :visible.sync=\"dialogVisible\" width=\"600px\">\r\n        <div class=\"dialog-item\">\r\n            <p>入口页面</p>\r\n            <span>小说阅读页</span>\r\n        </div>\r\n        <div class=\"dialog-item\">\r\n            <p>渠道名称</p>\r\n            <el-select v-model=\"updateParams.channelId\" placeholder=\"请选择\">\r\n                <el-option v-for=\"(item, index) in this.$store.state.census.spreadNameList\" :key=\"index\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n            </el-select>\r\n        </div>\r\n        <div class=\"dialog-item\">\r\n            <p>阅读原文章节</p>\r\n            <span>{{updateParams.chapterName}}</span>\r\n        </div>\r\n        <div class=\"dialog-tool\" style=\"text-align: right;\">\r\n            <el-button type=\"primary\">保存修改</el-button>\r\n        </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog class=\"dialog-table\" title=\"访问记录\" :visible.sync=\"dialogVisibleTable\" width=\"600px\">\r\n        <el-table :data=\"recordList\" stripe border>\r\n            <el-table-column label=\"日期\">\r\n                <template slot-scope=\"scope\">\r\n                    <span>{{scope.row.date | extendTime()}}</span>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"ipCount\" label=\"IP点击数\"></el-table-column>\r\n            <el-table-column prop=\"totalCount\" label=\"总数量\"></el-table-column>\r\n        </el-table>\r\n    </el-dialog>\r\n</div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nexport default {\r\n    data() {\r\n        return {\r\n            dialogVisible: false,\r\n            dialogVisibleTable: false,\r\n            searchInput: '',\r\n            extendLinkParams: {\r\n                page: 1,\r\n                channelId: 'LGDMT20180627'\r\n            },\r\n            updateParams: {\r\n                channelId: '',\r\n                chapterName: '',\r\n            },\r\n            recordList: []\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        this.$store.dispatch('census/getExtensionLink', this.extendLinkParams)\r\n    },\r\n\r\n    methods: {\r\n        openDialog(row) {\r\n            this.updateParams.channelId = row.newMediaId\r\n            this.updateParams.chapterName = row.chapterName\r\n            this.dialogVisible = true\r\n        },\r\n\r\n        openDialogTable(arr) {\r\n            this.recordList = arr\r\n            this.dialogVisibleTable = true\r\n        },\r\n\r\n        handleCurrentChange(page) {\r\n            this.$router.push({ params: { page: page }})\r\n        },\r\n        \r\n    },\r\n\r\n    computed: {\r\n        extendLinkObj() {\r\n            return this.$store.state.census.extendLinkObj\r\n        }\r\n    },\r\n\r\n    filters: {\r\n        extendTime: (value) => {\r\n            if (!value) return ''\r\n            return value = value.toString().slice(0, 4) + '-' + value.toString().slice(4, 6) + '-' + value.toString().slice(6)\r\n        },\r\n        computedTotal: (value) => {\r\n            if(value.length == 0) return 0\r\n            var n = 0\r\n            for(var i=0; i<value.length; i++) {\r\n                n += value[i].totalCount\r\n            }\r\n            return n\r\n        }\r\n    },\r\n\r\n    watch: {\r\n        $route: function(val) {\r\n            this.extendLinkParams.page = val.params.page\r\n            this.$store.dispatch('census/getExtensionLink', this.extendLinkParams)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scope>\r\n.extend-search::after\r\n    display block\r\n    content ''\r\n    clear both\r\n.extend-search\r\n    margin 20px 0\r\n    .search\r\n        float right\r\n        .el-input\r\n            width 160px\r\n.extend-table\r\n    margin-bottom 20px\r\n    overflow visible\r\n    font-size 14px\r\n    .el-table__body-wrapper\r\n        overflow visible\r\n    .extend-url\r\n        color #337ab7\r\n        i\r\n            color #393939\r\n            cursor pointer\r\n    .extend-time\r\n        color #777\r\n        font-size 13px\r\n    .extend-book-name\r\n        color #337ab7\r\n        cursor pointer\r\n    .extend-book-name:hover\r\n        text-decoration underline\r\n    .cell\r\n        overflow visible\r\n        .more-btn\r\n            position relative\r\n            background #87b87f\r\n            outline none\r\n            color #fff\r\n            ul.tool-list\r\n                position absolute\r\n                z-index 100\r\n                top 29px\r\n                left -60px\r\n                padding 5px 0\r\n                min-width 160px\r\n                background #fff\r\n                text-align left\r\n                box-shadow 0 2px 4px rgba(0,0,0,.2)\r\n                a\r\n                    display block\r\n                    color #333\r\n                    padding 5px 11px\r\n                    white-space nowrap\r\n                    font-size 14px\r\n                    font-weight 400\r\n                    i\r\n                        width 12px\r\n                        text-align center\r\n                a:hover\r\n                    background #4f99c6\r\n                    color #fff\r\n.dialog\r\n    .dialog-item\r\n        width 100%\r\n        margin-bottom 20px\r\n        height 40px\r\n        line-height 40px\r\n        p\r\n            float left\r\n            width 25%\r\n            padding 0 15px\r\n            box-sizing border-box\r\n            text-align right\r\n\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/extend/extendLink.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/bookdistribution' }}},[_vm._v(\"小说分销平台\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"推广链接\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"extend-search\"},[_c('div',{staticClass:\"search\"},[_c('el-input',{attrs:{\"placeholder\":\"小说或派单渠道名称\"},model:{value:(_vm.searchInput),callback:function ($$v) {_vm.searchInput=$$v},expression:\"searchInput\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"}})],1)]),_vm._v(\" \"),_c('el-table',{staticClass:\"extend-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.extendLinkObj.list,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"推广链接\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{staticClass:\"extend-media-name\"},[_vm._v(_vm._s(scope.row.newMediaName))]),_vm._v(\" \"),_c('p',{staticClass:\"extend-url\"},[_c('span',[_vm._v(_vm._s(scope.row.url))]),_vm._v(\" \"),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"复制链接\",\"placement\":\"top\"}},[_c('i',{directives:[{name:\"clipboard\",rawName:\"v-clipboard\",value:(scope.row.url),expression:\"scope.row.url\"}],staticClass:\"fa fa-copy\"})])],1),_vm._v(\" \"),_c('p',{staticClass:\"extend-time\"},[_vm._v(\"创建时间：\"+_vm._s(_vm._f(\"extendTime\")(scope.row.addTime)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"入口页面\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{staticClass:\"extend-book-name\"},[_c('router-link',{attrs:{\"to\":'/extend/chapterList/'+scope.row.bookId}},[_vm._v(_vm._s(scope.row.bookName))])],1),_vm._v(\" \"),_c('p',{staticClass:\"extend-chapter\"},[_vm._v(_vm._s(scope.row.chapterName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"原文点击次数\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"computedTotal\")(scope.row.infoTotal)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"访问记录\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"primary\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.openDialogTable(scope.row.infoTotal)}}},[_vm._v(\"详情\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"more-btn\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){scope.row.show = !scope.row.show}}},[_vm._v(\"\\r\\n                    更多 \"),_c('i',{staticClass:\"fa fa-caret-down\"}),_vm._v(\" \"),_c('el-collapse-transition',[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.show),expression:\"scope.row.show\"}],staticClass:\"tool-list\"},[_c('li',[_c('a',{on:{\"click\":function($event){_vm.openDialog(scope.row)}}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" 修改链接\")])]),_vm._v(\" \"),_c('li',[_c('a',[_c('i',{staticClass:\"fa fa-trash-o\"}),_vm._v(\" 删除\")])])])])],1)]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"current-page\":_vm.extendLinkObj.pageNo,\"page-size\":_vm.extendLinkObj.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.extendLinkObj.totalCount},on:{\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),_c('el-dialog',{staticClass:\"dialog\",attrs:{\"title\":\"修改推广链接属性\",\"visible\":_vm.dialogVisible,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"dialog-item\"},[_c('p',[_vm._v(\"入口页面\")]),_vm._v(\" \"),_c('span',[_vm._v(\"小说阅读页\")])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-item\"},[_c('p',[_vm._v(\"渠道名称\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.updateParams.channelId),callback:function ($$v) {_vm.$set(_vm.updateParams, \"channelId\", $$v)},expression:\"updateParams.channelId\"}},_vm._l((this.$store.state.census.spreadNameList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-item\"},[_c('p',[_vm._v(\"阅读原文章节\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.updateParams.chapterName))])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-tool\",staticStyle:{\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"保存修改\")])],1)]),_vm._v(\" \"),_c('el-dialog',{staticClass:\"dialog-table\",attrs:{\"title\":\"访问记录\",\"visible\":_vm.dialogVisibleTable,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.dialogVisibleTable=$event}}},[_c('el-table',{attrs:{\"data\":_vm.recordList,\"stripe\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"日期\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"extendTime\")(scope.row.date)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ipCount\",\"label\":\"IP点击数\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"totalCount\",\"label\":\"总数量\"}})],1)],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-33e0a58a\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/page/extend/extendLink.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}