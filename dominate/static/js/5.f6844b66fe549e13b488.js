webpackJsonp([5],{HlXq:function(e,t,r){"use strict";function i(e){r("VkQR")}Object.defineProperty(t,"__esModule",{value:!0});var o={data:function(){return{ruleForm:{adminName:"",title:"",menuId:"",delivery:!1,type:[],order:1,content:""},editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{color:[]},{background:[]}],[{align:[]}],["clean"],["link","image"]]},keyboard:{bindings:{tab:{key:9,handler:function(e){}},custom:{key:"B",shiftKey:!0,handler:function(e,t){}}}}},editKey:null,layedit:null,rules:{menuId:{required:!0,message:"请选取类型",trigger:"blur"},title:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,message:"长度不可少于3个字符",trigger:"blur"}],adminName:[{required:!0,message:"请填写发布人",trigger:"blur"}],type:[{type:"array",required:!0,message:"请至少选择一个活动性质",trigger:"change"}],content:[{required:!0,message:"请填写活动形式",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){var r="/admin/addPublishanotice";if("sysEditNotice"===t.$route.name&&(r="/admin/updatePublishanotice"),!e)return t.$message({message:"请完善信息后提交！",type:"warning"}),!1;t.$ajax(r,t.ruleForm,function(e){200===e.returnCode&&(t.$message({message:e.msg,type:"success"}),"sysEditNotice"===t.$route.name&&t.getNoticeById())})})},getNoticeById:function(){var e=this;this.$ajax("/admin/sys-getNoticeById",{noticeid:this.$route.params.id},function(t){200===t.returnCode&&(delete t.data.releaseDate,e.ruleForm=t.data)},"get")},resetForm:function(){this.getNoticeById()},onEditorChange:function(e,t,r){},onEditorReady:function(e){}},created:function(){"sysEditNotice"===this.$route.name&&this.getNoticeById()}},n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sys-notice-wrap"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:"/system/notice"}},[e._v("新闻公告")]),e._v(" "),r("el-breadcrumb-item",[e._v(e._s("sysEditNotice"==e.$route.name?"编辑公告":"新增公告"))])],1),e._v(" "),r("el-alert",{attrs:{title:"操作说明",type:"info","show-icon":""}},[r("div",[e._v("\n      可根据需求添加相应类型的公告通知\n    ")])]),e._v(" "),r("el-row",{staticClass:"mbt20"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"所属类型",prop:"region"}},[r("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.ruleForm.menuId,callback:function(t){e.$set(e.ruleForm,"menuId",t)},expression:"ruleForm.menuId"}},[r("el-option",{attrs:{label:"首页公告",value:1}}),e._v(" "),r("el-option",{attrs:{label:"滚动公告",value:2}}),e._v(" "),r("el-option",{attrs:{label:"福利公告",value:3}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"标    题",prop:"title"}},[r("el-input",{model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"发布人",prop:"adminName"}},[r("el-input",{model:{value:e.ruleForm.adminName,callback:function(t){e.$set(e.ruleForm,"adminName",t)},expression:"ruleForm.adminName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"内容详情",prop:"content"}},[r("pre",[e._v("         "),r("quill-editor",{ref:"myTextEditor",attrs:{options:e.editorOption},on:{change:function(t){e.onEditorChange(t)},ready:function(t){e.onEditorReady(t)}},model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}},[e._v("\n         ")]),e._v("\n       ")],1)]),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")])],1)],1)],1)],1)},l=[],a=r("18Nq"),s=i,u=Object(a.a)(o,n,l,!1,s,null,null);t.default=u.exports},VkQR:function(e,t){}});
//# sourceMappingURL=5.f6844b66fe549e13b488.js.map