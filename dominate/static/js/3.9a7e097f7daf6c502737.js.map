{"version":3,"sources":["webpack:///static/js/3.9a7e097f7daf6c502737.js","webpack:///./src/components/MounthComponent.vue","webpack:///./src/components/statistics/monthly.vue","webpack:///src/components/MounthComponent.vue","webpack:///./src/components/MounthComponent.vue?70f4","webpack:///src/components/statistics/monthly.vue","webpack:///./src/components/statistics/monthly.vue?5a1b"],"names":["webpackJsonp","3InB","module","exports","XGY8","__webpack_exports__","__webpack_require__","injectStyle","context","monthly_injectStyle","Object","defineProperty","value","stringify","stringify_default","n","MounthComponent","title","data","rowNum","colNum","tableArr","tableTitle","copyContent","date","created","time","Date","year","getFullYear","month","getMonth","this","methods","sendFather","type","$emit","repeat","createTable","arr","Array","r","c","submitData","_this","length","sendObj","list","i","obj","bookid","bookName","authorid","authorName","thirdPart","checkworkattendance","startdate","enddate","$store","dispatch","then","res","$message","message","watch","val","a","replace","split","shift","render","_vm","_h","$createElement","_c","_self","staticClass","_v","on","click","$event","staticStyle","width","attrs","value-format","placeholder","model","callback","$$v","expression","size","disabled","plain","icon","circle","round","resize","_l","item","index","key","$set","row","rowIndex","col","colIndex","staticRenderFns","component_normalizer","__vue_styles__","Component","components_MounthComponent","monthly","components","dialogVisible","searchForm","defaultValue","pickerOptions","disabledDate","getTime","now","reportCommentList","keywords","selectType","multipleSelection","userInfo","setTime","isOpenEdit","dateObj","starttime","endtime","getPublishTime","getUserInfo","getReportStatisticList","url","page","$route","params","aid","Number","name","$ajax","returnCode","searchReplyCom","$router","push","handleCurrentChange","_this2","puserid","excelProgress","$myLoad","progressEnd","file","msg","$loading","close","_this3","setPublishTime","_this4","oneKeyMonthly","_this5","getDate","editMonthly","bid","computed","isAuthor","old","state","monthly_render","show-icon","_s","pseudonym","to","userId","_e","xs","sm","md","lg","xl","nativeOn","keyup","_k","keyCode","slot","label","display","show-file-list","on-progress","on-success","on-error","action","ref","border","prop","scopedSlots","_u","fn","scope","_f","dataTime","align","href","directives","rawName","total","pageSize","background","current-page","pageNum","page-size","layout","current-change","fromChild","monthly_staticRenderFns","monthly___vue_styles__","monthly_Component","oq4m"],"mappings":"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","file":"static/js/3.9a7e097f7daf6c502737.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ \"3InB\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"XGY8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/json/stringify.js\nvar stringify = __webpack_require__(\"3cXf\");\nvar stringify_default = /*#__PURE__*/__webpack_require__.n(stringify);\n\n// EXTERNAL MODULE: ./node_modules/_querystring-es3@0.2.1@querystring-es3/index.js\nvar _querystring_es3_0_2_1_querystring_es3 = __webpack_require__(\"Umb+\");\nvar _querystring_es3_0_2_1_querystring_es3_default = /*#__PURE__*/__webpack_require__.n(_querystring_es3_0_2_1_querystring_es3);\n\n// EXTERNAL MODULE: ./node_modules/_axios@0.16.2@axios/index.js\nvar _axios_0_16_2_axios = __webpack_require__(\"BMa3\");\nvar _axios_0_16_2_axios_default = /*#__PURE__*/__webpack_require__.n(_axios_0_16_2_axios);\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=script&index=0!./src/components/MounthComponent.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var MounthComponent = ({\n\n  title: '表格编辑器',\n\n  data: function data() {\n    return {\n      rowNum: 6,\n      colNum: 6,\n      tableArr: [],\n      tableTitle: ['书籍编号', '书籍名称', '作者编号', '作者名称', '第三方', '考勤'],\n      copyContent: '',\n      date: ''\n    };\n  },\n\n  created: function created() {\n    // this.createTable()\n    var time = new Date();\n    var year = time.getFullYear();\n    var month = time.getMonth();\n    this.date = year + '-' + month;\n  },\n  methods: {\n    sendFather: function sendFather(type) {\n      if (type === 'close') {\n        this.$emit('fromChild', false, 'close');\n      } else {\n        this.$emit('fromChild', false, 'succ');\n      }\n      this.tableArr = [];\n      this.copyContent = '';\n    },\n    repeat: function repeat() {\n      this.rowNum = 6;\n      this.colNum = 6;\n      this.tableArr = [];\n      this.copyContent = '';\n    },\n    createTable: function createTable() {\n      var arr = new Array();\n      for (var r = 0; r < this.rowNum; r++) {\n        arr[r] = new Array();\n        for (var c = 0; c < this.colNum; c++) {\n          arr[r][c] = '';\n        }\n      }\n      this.tableArr = arr;\n    },\n    submitData: function submitData() {\n      var _this = this;\n\n      if (this.date !== '') {\n        if (this.tableArr.length != 0) {\n          var arr = this.tableArr;\n          var sendObj = {};\n          var list = [];\n          for (var i = 0; i < arr.length; i++) {\n            var obj = new Object();\n            obj.bookid = arr[i][0] ? arr[i][0] : '';\n            obj.bookName = arr[i][1] ? arr[i][1] : '';\n            obj.authorid = arr[i][2] ? arr[i][2] : '';\n            obj.authorName = arr[i][3] ? arr[i][3] : '';\n            obj.thirdPart = arr[i][4] ? arr[i][4] : 0;\n            obj.checkworkattendance = arr[i][5] ? arr[i][5] : 0;\n            list[i] = obj;\n          }\n          sendObj.data = new Object();\n          sendObj.data.list = list;\n          sendObj.data = stringify_default()(sendObj.data);\n          sendObj.startdate = this.date + '-01 00:00:00';\n          sendObj.enddate = this.date + '-31 23:59:59';\n          this.$store.dispatch('generateMonthlyreport', sendObj).then(function (res) {\n            _this.$message({ message: '操作成功', type: 'success' });\n            _this.sendFather('succ');\n          });\n        } else this.$message({ message: '请编辑表格', type: 'warning' });\n      } else this.$message({ message: '请选择时间', type: 'warning' });\n    }\n  },\n\n  watch: {\n    'copyContent': function copyContent(val) {\n      var a = val.replace(/(^\\s*)|(\\s*$)/g, '');\n      a = a.split('\\n');\n      for (var i = 0; i < a.length; i++) {\n        a[i] = a[i].replace(/\\s+/g, ' ');\n        a[i] = a[i].replace(/(^\\s*)|(\\s*$)/g, '');\n        a[i] = a[i].split(' ');\n      }\n      if (a[0][0] === '书籍编号') {\n        a.shift();\n      }\n      this.tableArr = a;\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-1e8387b9\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/MounthComponent.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mounth-component\"},[_c('div',{staticClass:\"mounth-header\"},[_c('el-row',[_c('h2',[_vm._v(\"表格编辑器\")]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-close\",on:{\"click\":function($event){_vm.sendFather('close')}}})]),_vm._v(\" \"),_c('el-row',{staticClass:\"header-row\"},[_c('el-date-picker',{staticClass:\"fl\",staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"month\",\"value-format\":\"yyyy-MM\",\"placeholder\":\"选择月\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"行数\")]),_vm._v(\" \"),_c('el-input-number',{staticClass:\"row-num\",attrs:{\"size\":\"small\"},model:{value:(_vm.rowNum),callback:function ($$v) {_vm.rowNum=$$v},expression:\"rowNum\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"列数\")]),_vm._v(\" \"),_c('el-input-number',{staticClass:\"col-num\",attrs:{\"size\":\"small\",\"disabled\":true},model:{value:(_vm.colNum),callback:function ($$v) {_vm.colNum=$$v},expression:\"colNum\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"size\":\"small\"},on:{\"click\":function($event){_vm.createTable()}}},[_vm._v(\"生成表格\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\",\"circle\":\"\"},on:{\"click\":function($event){_vm.repeat()}}}),_vm._v(\" \"),_c('el-button',{staticClass:\"submit-btn\",attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":function($event){_vm.submitData()}}},[_vm._v(\"提 交\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-input',{attrs:{\"type\":\"textarea\",\"resize\":\"none\",\"placeholder\":\"复制区域\"},model:{value:(_vm.copyContent),callback:function ($$v) {_vm.copyContent=$$v},expression:\"copyContent\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"mounth-section\"},[_c('el-row',{staticClass:\"table-row\"},_vm._l((_vm.tableTitle),function(item,index){return _c('el-input',{key:index,staticClass:\"table-col\",attrs:{\"disabled\":true},model:{value:(_vm.tableTitle[index]),callback:function ($$v) {_vm.$set(_vm.tableTitle, index, $$v)},expression:\"tableTitle[index]\"}})})),_vm._v(\" \"),_vm._l((_vm.tableArr),function(row,rowIndex){return _c('el-row',{key:rowIndex,staticClass:\"table-row\"},_vm._l((row),function(col,colIndex){return _c('el-input',{key:colIndex,staticClass:\"table-col\",model:{value:(_vm.tableArr[rowIndex][colIndex]),callback:function ($$v) {_vm.$set(_vm.tableArr[rowIndex], colIndex, $$v)},expression:\"tableArr[rowIndex][colIndex]\"}})}))})],2)])}\nvar staticRenderFns = []\n\n// EXTERNAL MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer.js\nvar component_normalizer = __webpack_require__(\"18Nq\");\n\n// CONCATENATED MODULE: ./src/components/MounthComponent.vue\nfunction injectStyle (context) {\n  __webpack_require__(\"oq4m\")\n}\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\n\nvar Component = Object(component_normalizer[\"a\" /* default */])(\n  MounthComponent,\n  render,\n  staticRenderFns,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_MounthComponent = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=script&index=0!./src/components/statistics/monthly.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var monthly = ({\n\n  components: { MounthComponent: components_MounthComponent },\n\n  data: function data() {\n    return {\n      dialogVisible: false,\n      searchForm: {},\n      defaultValue: null,\n      pickerOptions: {\n        disabledDate: function disabledDate(time) {\n          return time.getTime() > Date.now();\n        }\n      },\n      reportCommentList: {},\n      keywords: '',\n      selectType: 'bookName',\n      multipleSelection: [],\n      userInfo: {},\n      date: '',\n      setTime: '',\n      isOpenEdit: false,\n      dateObj: {\n        starttime: '',\n        endtime: ''\n      }\n    };\n  },\n  created: function created() {\n    this.getPublishTime();\n    this.getUserInfo();\n  },\n\n\n  methods: {\n    sendFather: function sendFather(val, type) {\n      if (type === 'succ') {\n        this.getPublishTime();\n        this.getUserInfo();\n      }\n      this.isOpenEdit = val;\n    },\n    getReportStatisticList: function getReportStatisticList() {\n      var _this = this;\n\n      var url = '/admin/getAuthorMonthlyreportAdminList';\n      this.searchForm = {};\n      this.searchForm.page = this.$route.params.page;\n      if (this.$route.params.aid) {\n        this.searchForm.authorid = this.$route.params.aid;\n      }\n      if (this.selectType && this.keywords) {\n        if ((this.selectType === 'bookId' || this.selectType === 'userId') && !Number(this.keywords)) {\n          this.$message({ message: 'ID必需为数字', type: 'warning' });\n          return false;\n        }\n        this.searchForm[this.selectType] = this.keywords;\n      }\n      if (this.date) {\n        this.searchForm.year = this.date.split('-')[0];\n        this.searchForm.month = this.date.split('-')[1];\n      }\n      if (this.$route.name === 'authorMonReport') {\n        url = '/admin/getAuthorMonthlyreportByAuthormon';\n      }\n      this.$ajax(url, this.searchForm, function (res) {\n        if (res.returnCode === 200) {\n          if (_this.$route.name === 'authorMonReport') {\n            _this.$set(_this.reportCommentList, 'list', [res.data]);\n          } else {\n            _this.reportCommentList = res.data;\n          }\n        } else if (!res.data) {\n          _this.reportCommentList = {};\n        }\n      });\n    },\n    searchReplyCom: function searchReplyCom() {\n      if (Number(this.$route.params.page) === 1) {\n        this.getReportStatisticList();\n      } else {\n        this.$router.push({ params: { page: 1 } });\n      }\n    },\n    handleCurrentChange: function handleCurrentChange(page) {\n      this.$router.push({ params: { page: page } });\n    },\n    getUserInfo: function getUserInfo() {\n      var _this2 = this;\n\n      if (this.$route.params.aid) {\n        this.$ajax('/person-SimplifyUserInfo', { puserid: this.$route.params.aid }, function (res) {\n          if (res.returnCode === 200) {\n            _this2.userInfo = res.data;\n          }\n        });\n      }\n    },\n    excelProgress: function excelProgress(res) {\n      this.$myLoad('正在上传中...');\n    },\n    progressEnd: function progressEnd(callback, file) {\n      if (callback.returnCode === 200) {\n        this.$message({ message: callback.msg, type: 'success' });\n      }\n      this.$loading().close();\n    },\n    getPublishTime: function getPublishTime() {\n      var _this3 = this;\n\n      this.$store.dispatch('getDataPosition').then(function (res) {\n        _this3.setTime = res;\n        var time = new Date();\n        var year = time.getFullYear();\n        var month = time.getMonth();\n        _this3.date = year + '-' + month;\n        _this3.getReportStatisticList();\n      });\n    },\n    setPublishTime: function setPublishTime() {\n      var _this4 = this;\n\n      if (this.setTime) {\n        this.$ajax('/sys-setDataPosition', { date: this.setTime }, function (res) {\n          if (res.returnCode === 200) {\n            _this4.$message({ message: res.msg, type: 'success' });\n            _this4.getPublishTime();\n          }\n        }, 'get');\n      } else {\n        this.$message({ message: '请选取月份', type: 'warning' });\n      }\n    },\n    oneKeyMonthly: function oneKeyMonthly() {\n      var _this5 = this;\n\n      if (this.date) {\n        var date = this.date.split('-');\n        var endtime = this.date + '-' + new Date(date[0], date[1], 0).getDate() + ' 23:59:59';\n        var starttime = this.date + '-' + '01 00:00:00';\n        this.$ajax('/generateMonthlyreport', {\n          startdate: starttime,\n          enddate: endtime\n        }, function (res) {\n          if (res.returnCode === 200) {\n            _this5.$message({ message: res.msg, type: 'success' });\n            _this5.getReportStatisticList();\n          }\n        }, 'get');\n      } else {\n        this.$message({ message: '请选取时间', type: 'warning' });\n      }\n    },\n    editMonthly: function editMonthly(row) {\n      if (this.date) {\n        this.$router.push({ name: 'authorEditMonReport', params: { bid: row.bookid, time: this.date } });\n      } else {\n        this.$message({ message: '请选取时间', type: 'warning' });\n      }\n    }\n  },\n\n  computed: {\n    isAuthor: function isAuthor() {\n      return this.$route.name !== 'authorMonReport';\n    }\n  },\n\n  watch: {\n    '$route': function $route() {\n      this.getReportStatisticList();\n    },\n\n    'date': function date(val, old) {\n      if (old !== '') {\n        this.getReportStatisticList();\n      }\n      this.$store.state.date = val;\n    }\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-64e3a098\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/statistics/monthly.vue\nvar monthly_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"reply-comment-wrap\"},[_c('el-alert',{attrs:{\"title\":\"\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('div',[_c('p',[_vm._v(\"\\n                此表为\\n                \"),_c('span',{staticClass:\"red\"},[_vm._v(_vm._s(_vm.$route.params.aid?_vm.userInfo.pseudonym:'全站'))]),_vm._v(\"\\n                的月报列表，您可以通过相应类型进行精确搜索\\n                \"),(_vm.$route.params.aid)?_c('span',[_vm._v(\",您也可以直接\"),_c('router-link',{attrs:{\"to\":'/author/add_monthly/'+_vm.userInfo.userId}},[_vm._v(\"添加月报\")])],1):_vm._e()]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"red\"},[_vm._v(\"说明：\")]),_vm._v(\"每月15号后台会自动生成上一个月的月报，如果出现异常管理员可以进行手动生成；月报会根据最新上传的excel表格里的书单进行生成，请及时更新模板及时更新excel表单\")]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"red\"},[_vm._v(\"ps：\")]),_vm._v(\"发布时间是指全站可以让作者查看最新月报的时间\")])])]),_vm._v(\" \"),(_vm.isAuthor)?_c('el-row',{staticClass:\"mbt20\"},[_vm._v(\"\\n        发布时间：\\n        \"),_c('el-date-picker',{staticClass:\"input-with-select\",staticStyle:{\"width\":\"140px\"},attrs:{\"placeholder\":\"选择月\",\"type\":\"month\",\"value-format\":\"yyyy-MM\"},model:{value:(_vm.setTime),callback:function ($$v) {_vm.setTime=$$v},expression:\"setTime\"}}),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.setPublishTime}},[_vm._v(\"更新\")]),_vm._v(\" \"),(_vm.isAuthor)?_c('el-button',{staticClass:\"fr\",attrs:{\"size\":\"medium\"},on:{\"click\":_vm.oneKeyMonthly}},[_vm._v(\"一键月报\")]):_vm._e()],1):_vm._e(),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-date-picker',{staticClass:\"fl\",staticStyle:{\"width\":\"120px\"},attrs:{\"type\":\"month\",\"value-format\":\"yyyy-MM\",\"placeholder\":\"选择月\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}}),_vm._v(\" \"),(_vm.isAuthor)?_c('el-col',{attrs:{\"xs\":20,\"sm\":16,\"md\":12,\"lg\":9,\"xl\":6}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入内容\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchReplyCom($event)}},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}},[(_vm.$route.name=='authorMonReport')?_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.selectType),callback:function ($$v) {_vm.selectType=$$v},expression:\"selectType\"}},[_c('el-option',{attrs:{\"label\":\"书  名\",\"value\":\"bookName\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"书籍ID\",\"value\":\"bookid\"}})],1):_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.selectType),callback:function ($$v) {_vm.selectType=$$v},expression:\"selectType\"}},[_c('el-option',{attrs:{\"label\":\"书  名\",\"value\":\"bookName\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"作者名\",\"value\":\"authorName\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"作者ID\",\"value\":\"authorid\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"书籍ID\",\"value\":\"bookid\"}})],1),_vm._v(\" \"),_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchReplyCom},slot:\"append\"})],1)],1):_vm._e(),_vm._v(\" \"),(_vm.isAuthor)?_c('el-upload',{staticClass:\"upload-demo fr\",staticStyle:{\"display\":\"inline-block\"},attrs:{\"show-file-list\":false,\"on-progress\":_vm.excelProgress,\"on-success\":_vm.progressEnd,\"on-error\":_vm.progressEnd,\"action\":\"https://www.lajixs.com/api/uploadExcel\"}}):_vm._e(),_vm._v(\" \"),_c('el-button',{staticClass:\"edit-btn fr\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"circle\":\"\"},on:{\"click\":function($event){_vm.isOpenEdit = true}}})],1),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.reportCommentList.list,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookid\",\"label\":\"书籍ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookName\",\"label\":\"书名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookName\",\"label\":\"作者\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.authorName)+\"(id:\"+_vm._s(scope.row.authorid)+\")\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"thirdPart\",\"label\":\"第三方\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"checkworkattendance\",\"label\":\"考勤\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bubscribe\",\"label\":\"订阅\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"pepper\",\"label\":\"打赏\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"millet\",\"label\":\"小米椒\"}}),_vm._v(\" \"),(_vm.isAuthor)?_c('el-table-column',{attrs:{\"prop\":\"replyCommentsContent\",\"label\":\"时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"time\")(scope.row.dataTime,'sort')))])]}}])}):_vm._e(),_vm._v(\" \"),(_vm.isAuthor)?_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":\"javascript:0;\"},on:{\"click\":function($event){_vm.editMonthly(scope.row)}}},[_vm._v(\"编辑\")])]}}])}):_vm._e()],1),_vm._v(\" \"),_c('el-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.reportCommentList.total>_vm.reportCommentList.pageSize),expression:\"reportCommentList.total>reportCommentList.pageSize\"}],staticClass:\"mbt20\",attrs:{\"background\":\"\",\"current-page\":_vm.reportCommentList.pageNum,\"page-size\":_vm.reportCommentList.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.reportCommentList.total},on:{\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOpenEdit),expression:\"isOpenEdit\"}],staticClass:\"shadeFloor\"}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOpenEdit),expression:\"isOpenEdit\"}],staticClass:\"edit-box\"},[_c('mounth-component',{attrs:{\"dateObj\":_vm.dateObj},on:{\"fromChild\":_vm.sendFather}})],1)],1)}\nvar monthly_staticRenderFns = []\n\n// CONCATENATED MODULE: ./src/components/statistics/monthly.vue\nfunction monthly_injectStyle (context) {\n  __webpack_require__(\"3InB\")\n}\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar monthly___vue_template_functional__ = false\n/* styles */\nvar monthly___vue_styles__ = monthly_injectStyle\n/* scopeId */\nvar monthly___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar monthly___vue_module_identifier__ = null\n\nvar monthly_Component = Object(component_normalizer[\"a\" /* default */])(\n  monthly,\n  monthly_render,\n  monthly_staticRenderFns,\n  monthly___vue_template_functional__,\n  monthly___vue_styles__,\n  monthly___vue_scopeId__,\n  monthly___vue_module_identifier__\n)\n\n/* harmony default export */ var statistics_monthly = __webpack_exports__[\"default\"] = (monthly_Component.exports);\n\n\n/***/ }),\n\n/***/ \"oq4m\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/3.9a7e097f7daf6c502737.js","function injectStyle (context) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@14.2.2@vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=styles&index=0!./MounthComponent.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./MounthComponent.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./MounthComponent.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e8387b9\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=template&index=0!./MounthComponent.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MounthComponent.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=styles&index=0!./monthly.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./monthly.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./monthly.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-64e3a098\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=template&index=0!./monthly.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/statistics/monthly.vue\n// module id = null\n// module chunks = ","<template>\r\n<div class=\"mounth-component\">\r\n    <div class=\"mounth-header\">\r\n        <el-row>\r\n            <h2>表格编辑器</h2>\r\n            <i class=\"el-icon-close\" @click=\"sendFather('close')\"></i>\r\n        </el-row>\r\n\r\n        <el-row class=\"header-row\">\r\n            <el-date-picker style=\"width: 200px\" class=\"fl\" v-model=\"date\" type=\"month\" value-format=\"yyyy-MM\" placeholder=\"选择月\"></el-date-picker>\r\n            <span>行数</span>\r\n            <el-input-number size=\"small\" v-model=\"rowNum\" class=\"row-num\"></el-input-number>\r\n            <span>列数</span>\r\n            <el-input-number size=\"small\" v-model=\"colNum\" :disabled=\"true\" class=\"col-num\"></el-input-number>\r\n            <el-button type=\"primary\" plain size=\"small\" @click=\"createTable()\">生成表格</el-button>\r\n            <el-button type=\"primary\" icon=\"el-icon-refresh\" circle @click=\"repeat()\"></el-button>\r\n            <el-button type=\"primary\" round class=\"submit-btn\" @click=\"submitData()\">提 交</el-button>\r\n        </el-row>\r\n\r\n        <el-row>\r\n            <el-input type=\"textarea\" resize=\"none\" placeholder=\"复制区域\" v-model=\"copyContent\"></el-input>\r\n        </el-row>\r\n    </div>\r\n\r\n    <div class=\"mounth-section\">\r\n        <el-row class=\"table-row\">\r\n            <el-input v-for=\"(item, index) in tableTitle\" :key=\"index\" v-model=\"tableTitle[index]\" :disabled=\"true\" class=\"table-col\"></el-input>\r\n        </el-row>\r\n\r\n        <el-row v-for=\"(row, rowIndex) in tableArr\" :key=\"rowIndex\" class=\"table-row\">\r\n            <el-input v-for=\"(col, colIndex) in row\" :key=\"colIndex\" v-model=\"tableArr[rowIndex][colIndex]\" class=\"table-col\"></el-input>\r\n        </el-row>\r\n    </div>\r\n\r\n    <!-- <div class=\"submit-box\">\r\n        <el-row>\r\n            <el-button type=\"primary\" round class=\"submit-btn\" @click=\"submitData()\">提 交</el-button>\r\n        </el-row>\r\n    </div> -->\r\n\r\n</div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport querystring from 'querystring'\r\nimport ax from 'axios'\r\nexport default {\r\n\r\n  title: '表格编辑器',\r\n\r\n  data() {\r\n    return {\r\n      rowNum: 6,\r\n      colNum: 6,\r\n      tableArr: [],\r\n      tableTitle: ['书籍编号', '书籍名称', '作者编号', '作者名称', '第三方', '考勤'],\r\n      copyContent: '',\r\n      date: ''\r\n    }\r\n  },\r\n  created: function() {\r\n        // this.createTable()\r\n    const time = new Date()\r\n    const year = time.getFullYear()\r\n    const month = time.getMonth()\r\n    this.date = year + '-' + month\r\n  },\r\n  methods: {\r\n\r\n    sendFather(type) {\r\n      if (type === 'close') { this.$emit('fromChild', false, 'close') } else { this.$emit('fromChild', false, 'succ') }\r\n      this.tableArr = []\r\n      this.copyContent = ''\r\n    },\r\n\r\n    repeat() {\r\n      this.rowNum = 6\r\n      this.colNum = 6\r\n      this.tableArr = []\r\n      this.copyContent = ''\r\n    },\r\n\r\n    createTable() {\r\n      const arr = new Array()\r\n      for (var r = 0; r < this.rowNum; r++) {\r\n        arr[r] = new Array()\r\n        for (var c = 0; c < this.colNum; c++) {\r\n          arr[r][c] = ''\r\n        }\r\n      }\r\n      this.tableArr = arr\r\n    },\r\n\r\n    submitData() {\r\n      if (this.date !== '') {\r\n        if (this.tableArr.length != 0) {\r\n          const arr = this.tableArr\r\n          const sendObj = {}\r\n          const list = []\r\n          for (var i = 0; i < arr.length; i++) {\r\n            var obj = new Object()\r\n            obj.bookid = arr[i][0] ? arr[i][0] : ''\r\n            obj.bookName = arr[i][1] ? arr[i][1] : ''\r\n            obj.authorid = arr[i][2] ? arr[i][2] : ''\r\n            obj.authorName = arr[i][3] ? arr[i][3] : ''\r\n            obj.thirdPart = arr[i][4] ? arr[i][4] : 0\r\n            obj.checkworkattendance = arr[i][5] ? arr[i][5] : 0\r\n            list[i] = obj\r\n          }\r\n          sendObj.data = new Object()\r\n          sendObj.data.list = list\r\n          sendObj.data = JSON.stringify(sendObj.data)\r\n          sendObj.startdate = this.date + '-01 00:00:00'\r\n          sendObj.enddate = this.date + '-31 23:59:59'\r\n          this.$store.dispatch('generateMonthlyreport', sendObj).then(res => {\r\n            this.$message({ message: '操作成功', type: 'success' })\r\n            this.sendFather('succ')\r\n          })\r\n        } else this.$message({ message: '请编辑表格', type: 'warning' })\r\n      } else this.$message({ message: '请选择时间', type: 'warning' })\r\n    }\r\n\r\n  },\r\n\r\n  watch: {\r\n    'copyContent': function(val) {\r\n      var a = val.replace(/(^\\s*)|(\\s*$)/g, '')\r\n      a = a.split('\\n')\r\n      for (var i = 0; i < a.length; i++) {\r\n        a[i] = a[i].replace(/\\s+/g, ' ')\r\n        a[i] = a[i].replace(/(^\\s*)|(\\s*$)/g, '')\r\n        a[i] = a[i].split(' ')\r\n      }\r\n      if (a[0][0] === '书籍编号') {\r\n        a.shift()\r\n      }\r\n      this.tableArr = a\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scope>\r\n.mounth-component\r\n    padding 20px\r\n    \r\n    .mounth-header\r\n        .el-row\r\n            margin-bottom 10px\r\n            overflow hidden\r\n            h2\r\n                float left\r\n            .el-icon-close\r\n                float right\r\n                line-height 31px\r\n                cursor pointer\r\n        .submit-btn\r\n            float right\r\n            margin-right 30px\r\n\r\n    .mounth-section\r\n        width 100%\r\n        height 70%\r\n        overflow-y scroll\r\n        .table-row\r\n            .table-col\r\n                display inline-block\r\n                width 15%\r\n                height 40px\r\n    // .submit-box\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/MounthComponent.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mounth-component\"},[_c('div',{staticClass:\"mounth-header\"},[_c('el-row',[_c('h2',[_vm._v(\"表格编辑器\")]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-close\",on:{\"click\":function($event){_vm.sendFather('close')}}})]),_vm._v(\" \"),_c('el-row',{staticClass:\"header-row\"},[_c('el-date-picker',{staticClass:\"fl\",staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"month\",\"value-format\":\"yyyy-MM\",\"placeholder\":\"选择月\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"行数\")]),_vm._v(\" \"),_c('el-input-number',{staticClass:\"row-num\",attrs:{\"size\":\"small\"},model:{value:(_vm.rowNum),callback:function ($$v) {_vm.rowNum=$$v},expression:\"rowNum\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"列数\")]),_vm._v(\" \"),_c('el-input-number',{staticClass:\"col-num\",attrs:{\"size\":\"small\",\"disabled\":true},model:{value:(_vm.colNum),callback:function ($$v) {_vm.colNum=$$v},expression:\"colNum\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\",\"size\":\"small\"},on:{\"click\":function($event){_vm.createTable()}}},[_vm._v(\"生成表格\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\",\"circle\":\"\"},on:{\"click\":function($event){_vm.repeat()}}}),_vm._v(\" \"),_c('el-button',{staticClass:\"submit-btn\",attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":function($event){_vm.submitData()}}},[_vm._v(\"提 交\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-input',{attrs:{\"type\":\"textarea\",\"resize\":\"none\",\"placeholder\":\"复制区域\"},model:{value:(_vm.copyContent),callback:function ($$v) {_vm.copyContent=$$v},expression:\"copyContent\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"mounth-section\"},[_c('el-row',{staticClass:\"table-row\"},_vm._l((_vm.tableTitle),function(item,index){return _c('el-input',{key:index,staticClass:\"table-col\",attrs:{\"disabled\":true},model:{value:(_vm.tableTitle[index]),callback:function ($$v) {_vm.$set(_vm.tableTitle, index, $$v)},expression:\"tableTitle[index]\"}})})),_vm._v(\" \"),_vm._l((_vm.tableArr),function(row,rowIndex){return _c('el-row',{key:rowIndex,staticClass:\"table-row\"},_vm._l((row),function(col,colIndex){return _c('el-input',{key:colIndex,staticClass:\"table-col\",model:{value:(_vm.tableArr[rowIndex][colIndex]),callback:function ($$v) {_vm.$set(_vm.tableArr[rowIndex], colIndex, $$v)},expression:\"tableArr[rowIndex][colIndex]\"}})}))})],2)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-1e8387b9\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/MounthComponent.vue\n// module id = null\n// module chunks = ","<template>\n<div class=\"reply-comment-wrap\">\n\n    <el-alert title=\"\" type=\"info\" show-icon>\n        <div>\n            <p>\n                此表为\n                <span class=\"red\">{{$route.params.aid?userInfo.pseudonym:'全站'}}</span>\n                的月报列表，您可以通过相应类型进行精确搜索\n                <span v-if=\"$route.params.aid\">,您也可以直接<router-link :to=\"'/author/add_monthly/'+userInfo.userId\">添加月报</router-link></span>\n            </p>\n            <p><span class=\"red\">说明：</span>每月15号后台会自动生成上一个月的月报，如果出现异常管理员可以进行手动生成；月报会根据最新上传的excel表格里的书单进行生成，请及时更新模板及时更新excel表单</p>\n            <p><span class=\"red\">ps：</span>发布时间是指全站可以让作者查看最新月报的时间</p>\n        </div>\n    </el-alert>\n\n    <el-row v-if=\"isAuthor\" class=\"mbt20\">\n        发布时间：\n        <el-date-picker placeholder=\"选择月\" type=\"month\" value-format=\"yyyy-MM\" v-model=\"setTime\" style=\"width: 140px\" class=\"input-with-select\"></el-date-picker>\n        <el-button @click=\"setPublishTime\">更新</el-button>\n        <el-button v-if=\"isAuthor\" class=\"fr\" size=\"medium\" @click=\"oneKeyMonthly\">一键月报</el-button>\n    </el-row>\n\n    <el-row class=\"mbt20\">\n        <el-date-picker style=\"width: 120px\" class=\"fl\" v-model=\"date\" type=\"month\" value-format=\"yyyy-MM\" placeholder=\"选择月\"></el-date-picker>\n        <el-col v-if=\"isAuthor\" :xs=\"20\" :sm=\"16\" :md=\"12\" :lg=\"9\" :xl=\"6\">\n            <el-input placeholder=\"请输入内容\" v-model=\"keywords\" class=\"input-with-select\" @keyup.enter.native=\"searchReplyCom\">\n                <el-select v-if=\"$route.name=='authorMonReport'\" v-model=\"selectType\" slot=\"prepend\" placeholder=\"请选择\">\n                    <el-option label=\"书  名\" value=\"bookName\"></el-option>\n                    <el-option label=\"书籍ID\" value=\"bookid\"></el-option>\n                </el-select>\n                <el-select v-else v-model=\"selectType\" slot=\"prepend\" placeholder=\"请选择\">\n                    <el-option label=\"书  名\" value=\"bookName\"></el-option>\n                    <el-option label=\"作者名\" value=\"authorName\"></el-option>\n                    <el-option label=\"作者ID\" value=\"authorid\"></el-option>\n                    <el-option label=\"书籍ID\" value=\"bookid\"></el-option>\n                </el-select>\n                <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"searchReplyCom\"></el-button>\n            </el-input>\n        </el-col>\n        <el-upload v-if=\"isAuthor\" style=\"display: inline-block\" class=\"upload-demo fr\" :show-file-list=\"false\" :on-progress=\"excelProgress\" :on-success=\"progressEnd\"\n            :on-error=\"progressEnd\"\n            action=\"https://www.lajixs.com/api/uploadExcel\">\n            <!-- <el-button size=\"medium\" type=\"primary\">上传</el-button> -->\n        </el-upload>\n        <el-button class=\"edit-btn fr\" type=\"primary\" icon=\"el-icon-edit\" circle @click=\"isOpenEdit = true\"></el-button>\n    </el-row>\n    \n    <el-table ref=\"multipleTable\" :data=\"reportCommentList.list\" border style=\"width: 100%\">\n        <el-table-column type=\"selection\"></el-table-column>\n        \n        <el-table-column prop=\"bookid\" label=\"书籍ID\"></el-table-column>\n        \n        <el-table-column prop=\"bookName\" label=\"书名\"></el-table-column>\n    \n        <el-table-column prop=\"bookName\" label=\"作者\">\n            <template slot-scope=\"scope\">{{scope.row.authorName}}(id:{{scope.row.authorid}})</template>\n        </el-table-column>\n      \n        <el-table-column prop=\"thirdPart\" label=\"第三方\"></el-table-column>\n  \n        <el-table-column prop=\"checkworkattendance\" label=\"考勤\"></el-table-column>\n      \n        <el-table-column prop=\"bubscribe\" label=\"订阅\"></el-table-column>\n    \n        <el-table-column prop=\"pepper\" label=\"打赏\"></el-table-column>\n        \n        <el-table-column prop=\"millet\" label=\"小米椒\"></el-table-column>\n        \n        <el-table-column v-if=\"isAuthor\" prop=\"replyCommentsContent\" label=\"时间\">\n            <template slot-scope=\"scope\">\n                <span>{{scope.row.dataTime|time('sort')}}</span>\n            </template>\n        </el-table-column>\n    \n        <el-table-column v-if=\"isAuthor\" align=\"center\" label=\"操作\">\n            <template slot-scope=\"scope\">\n                <a href=\"javascript:0;\" @click=\"editMonthly(scope.row)\">编辑</a>\n            </template>\n        </el-table-column>\n      \n    </el-table>\n\n    <el-pagination\n        class=\"mbt20\"\n        background\n        v-show=\"reportCommentList.total>reportCommentList.pageSize\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"reportCommentList.pageNum\"\n        :page-size=\"reportCommentList.pageSize\"\n        layout=\"total, prev, pager, next, jumper\"\n        :total=\"reportCommentList.total\">\n    </el-pagination>\n\n    <div class=\"shadeFloor\" v-show=\"isOpenEdit\"></div>\n    <div class=\"edit-box\" v-show=\"isOpenEdit\"><mounth-component v-on:fromChild=\"sendFather\" :dateObj=\"dateObj\"></mounth-component></div>\n</div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport MounthComponent from '../MounthComponent'\nexport default{\n\n  components: { MounthComponent },\n\n  data() {\n    return {\n      dialogVisible: false,\n      searchForm: {},\n      defaultValue: null,\n      pickerOptions: {\n        disabledDate(time) {\n          return time.getTime() > Date.now()\n        }\n      },\n      reportCommentList: {},\n      keywords: '',\n      selectType: 'bookName',\n      multipleSelection: [],\n      userInfo: {},\n      date: '',\n      setTime: '',\n      isOpenEdit: false,\n      dateObj: {\n        starttime: '',\n        endtime: ''\n      }\n    }\n  },\n\n  created() {\n    this.getPublishTime()\n    this.getUserInfo()\n  },\n\n  methods: {\n\n    sendFather(val, type) {\n      if (type === 'succ') {\n        this.getPublishTime()\n        this.getUserInfo()\n      }\n      this.isOpenEdit = val\n    },\n    getReportStatisticList() {\n      let url = '/admin/getAuthorMonthlyreportAdminList'\n      this.searchForm = {}\n      this.searchForm.page = this.$route.params.page\n      if (this.$route.params.aid) {\n        this.searchForm.authorid = this.$route.params.aid\n      }\n      if (this.selectType && this.keywords) {\n        if ((this.selectType === 'bookId' || this.selectType === 'userId') && !Number(this.keywords)) {\n          this.$message({ message: 'ID必需为数字', type: 'warning' })\n          return false\n        }\n        this.searchForm[this.selectType] = this.keywords\n      }\n      if (this.date) {\n        this.searchForm.year = this.date.split('-')[0]\n        this.searchForm.month = this.date.split('-')[1]\n      }\n      if (this.$route.name === 'authorMonReport') {\n        url = '/admin/getAuthorMonthlyreportByAuthormon'\n      }\n      this.$ajax(url, this.searchForm, res => {\n        if (res.returnCode === 200) {\n          if (this.$route.name === 'authorMonReport') {\n            this.$set(this.reportCommentList, 'list', [res.data])\n          } else {\n            this.reportCommentList = res.data\n          }\n        } else if (!res.data) {\n          this.reportCommentList = {}\n        }\n      })\n    },\n\n    searchReplyCom() {\n      if (Number(this.$route.params.page) === 1) {\n        this.getReportStatisticList()\n      } else {\n        this.$router.push({ params: { page: 1 }})\n      }\n    },\n\n    handleCurrentChange(page) {\n      this.$router.push({ params: { page: page }})\n    },\n\n    getUserInfo() {\n      if (this.$route.params.aid) {\n        this.$ajax('/person-SimplifyUserInfo', { puserid: this.$route.params.aid }, res => {\n          if (res.returnCode === 200) {\n            this.userInfo = res.data\n          }\n        })\n      }\n    },\n\n    excelProgress(res) {\n      this.$myLoad('正在上传中...')\n    },\n\n    progressEnd(callback, file) {\n      if (callback.returnCode === 200) {\n        this.$message({ message: callback.msg, type: 'success' })\n      }\n      this.$loading().close()\n    },\n\n    getPublishTime() {\n      this.$store.dispatch('getDataPosition').then(res => {\n        this.setTime = res\n        const time = new Date()\n        const year = time.getFullYear()\n        const month = time.getMonth()\n        this.date = year + '-' + month\n        this.getReportStatisticList()\n      })\n    },\n\n    setPublishTime() {\n      if (this.setTime) {\n        this.$ajax('/sys-setDataPosition', { date: this.setTime }, res => {\n          if (res.returnCode === 200) {\n            this.$message({ message: res.msg, type: 'success' })\n            this.getPublishTime()\n          }\n        }, 'get')\n      } else {\n        this.$message({ message: '请选取月份', type: 'warning' })\n      }\n    },\n\n    oneKeyMonthly() {\n      if (this.date) {\n        const date = this.date.split('-')\n        const endtime = this.date + '-' + new Date(date[0], date[1], 0).getDate() + ' 23:59:59'\n        const starttime = this.date + '-' + '01 00:00:00'\n        this.$ajax('/generateMonthlyreport', {\n          startdate: starttime,\n          enddate: endtime\n        }, res => {\n          if (res.returnCode === 200) {\n            this.$message({ message: res.msg, type: 'success' })\n            this.getReportStatisticList()\n          }\n        }, 'get')\n      } else {\n        this.$message({ message: '请选取时间', type: 'warning' })\n      }\n    },\n\n    editMonthly(row) {\n      if (this.date) {\n        this.$router.push({ name: 'authorEditMonReport', params: { bid: row.bookid, time: this.date }})\n      } else {\n        this.$message({ message: '请选取时间', type: 'warning' })\n      }\n    }\n  },\n\n  computed: {\n    isAuthor: function() {\n      return this.$route.name !== 'authorMonReport'\n    }\n  },\n\n  watch: {\n    '$route': function() {\n      this.getReportStatisticList()\n    },\n\n    'date': function(val, old) {\n      if (old !== '') {\n        this.getReportStatisticList()\n      }\n      this.$store.state.date = val\n    }\n  }\n\n}\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n.reply-comment-wrap\n    width 100%\n    height 100%\n    position relative\n    .edit-btn\n        margin-right 20px\n    .shadeFloor\n        width 100%\n        height 100%\n        position fixed\n        top 0\n        left 0\n        right 0\n        bottom 0\n        background #000\n        opacity .7\n        z-index 100\n    .edit-box\n        position fixed\n        width 80%\n        height 80%\n        top 10%\n        left 50%\n        margin-left -40%\n        background #fff\n        z-index 110\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/statistics/monthly.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"reply-comment-wrap\"},[_c('el-alert',{attrs:{\"title\":\"\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('div',[_c('p',[_vm._v(\"\\n                此表为\\n                \"),_c('span',{staticClass:\"red\"},[_vm._v(_vm._s(_vm.$route.params.aid?_vm.userInfo.pseudonym:'全站'))]),_vm._v(\"\\n                的月报列表，您可以通过相应类型进行精确搜索\\n                \"),(_vm.$route.params.aid)?_c('span',[_vm._v(\",您也可以直接\"),_c('router-link',{attrs:{\"to\":'/author/add_monthly/'+_vm.userInfo.userId}},[_vm._v(\"添加月报\")])],1):_vm._e()]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"red\"},[_vm._v(\"说明：\")]),_vm._v(\"每月15号后台会自动生成上一个月的月报，如果出现异常管理员可以进行手动生成；月报会根据最新上传的excel表格里的书单进行生成，请及时更新模板及时更新excel表单\")]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"red\"},[_vm._v(\"ps：\")]),_vm._v(\"发布时间是指全站可以让作者查看最新月报的时间\")])])]),_vm._v(\" \"),(_vm.isAuthor)?_c('el-row',{staticClass:\"mbt20\"},[_vm._v(\"\\n        发布时间：\\n        \"),_c('el-date-picker',{staticClass:\"input-with-select\",staticStyle:{\"width\":\"140px\"},attrs:{\"placeholder\":\"选择月\",\"type\":\"month\",\"value-format\":\"yyyy-MM\"},model:{value:(_vm.setTime),callback:function ($$v) {_vm.setTime=$$v},expression:\"setTime\"}}),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.setPublishTime}},[_vm._v(\"更新\")]),_vm._v(\" \"),(_vm.isAuthor)?_c('el-button',{staticClass:\"fr\",attrs:{\"size\":\"medium\"},on:{\"click\":_vm.oneKeyMonthly}},[_vm._v(\"一键月报\")]):_vm._e()],1):_vm._e(),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-date-picker',{staticClass:\"fl\",staticStyle:{\"width\":\"120px\"},attrs:{\"type\":\"month\",\"value-format\":\"yyyy-MM\",\"placeholder\":\"选择月\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}}),_vm._v(\" \"),(_vm.isAuthor)?_c('el-col',{attrs:{\"xs\":20,\"sm\":16,\"md\":12,\"lg\":9,\"xl\":6}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入内容\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchReplyCom($event)}},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}},[(_vm.$route.name=='authorMonReport')?_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.selectType),callback:function ($$v) {_vm.selectType=$$v},expression:\"selectType\"}},[_c('el-option',{attrs:{\"label\":\"书  名\",\"value\":\"bookName\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"书籍ID\",\"value\":\"bookid\"}})],1):_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.selectType),callback:function ($$v) {_vm.selectType=$$v},expression:\"selectType\"}},[_c('el-option',{attrs:{\"label\":\"书  名\",\"value\":\"bookName\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"作者名\",\"value\":\"authorName\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"作者ID\",\"value\":\"authorid\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"书籍ID\",\"value\":\"bookid\"}})],1),_vm._v(\" \"),_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchReplyCom},slot:\"append\"})],1)],1):_vm._e(),_vm._v(\" \"),(_vm.isAuthor)?_c('el-upload',{staticClass:\"upload-demo fr\",staticStyle:{\"display\":\"inline-block\"},attrs:{\"show-file-list\":false,\"on-progress\":_vm.excelProgress,\"on-success\":_vm.progressEnd,\"on-error\":_vm.progressEnd,\"action\":\"https://www.lajixs.com/api/uploadExcel\"}}):_vm._e(),_vm._v(\" \"),_c('el-button',{staticClass:\"edit-btn fr\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"circle\":\"\"},on:{\"click\":function($event){_vm.isOpenEdit = true}}})],1),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.reportCommentList.list,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookid\",\"label\":\"书籍ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookName\",\"label\":\"书名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookName\",\"label\":\"作者\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.authorName)+\"(id:\"+_vm._s(scope.row.authorid)+\")\")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"thirdPart\",\"label\":\"第三方\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"checkworkattendance\",\"label\":\"考勤\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bubscribe\",\"label\":\"订阅\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"pepper\",\"label\":\"打赏\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"millet\",\"label\":\"小米椒\"}}),_vm._v(\" \"),(_vm.isAuthor)?_c('el-table-column',{attrs:{\"prop\":\"replyCommentsContent\",\"label\":\"时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"time\")(scope.row.dataTime,'sort')))])]}}])}):_vm._e(),_vm._v(\" \"),(_vm.isAuthor)?_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{attrs:{\"href\":\"javascript:0;\"},on:{\"click\":function($event){_vm.editMonthly(scope.row)}}},[_vm._v(\"编辑\")])]}}])}):_vm._e()],1),_vm._v(\" \"),_c('el-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.reportCommentList.total>_vm.reportCommentList.pageSize),expression:\"reportCommentList.total>reportCommentList.pageSize\"}],staticClass:\"mbt20\",attrs:{\"background\":\"\",\"current-page\":_vm.reportCommentList.pageNum,\"page-size\":_vm.reportCommentList.pageSize,\"layout\":\"total, prev, pager, next, jumper\",\"total\":_vm.reportCommentList.total},on:{\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOpenEdit),expression:\"isOpenEdit\"}],staticClass:\"shadeFloor\"}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOpenEdit),expression:\"isOpenEdit\"}],staticClass:\"edit-box\"},[_c('mounth-component',{attrs:{\"dateObj\":_vm.dateObj},on:{\"fromChild\":_vm.sendFather}})],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-64e3a098\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/statistics/monthly.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}