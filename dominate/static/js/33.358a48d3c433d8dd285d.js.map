{"version":3,"sources":["webpack:///static/js/33.358a48d3c433d8dd285d.js","webpack:///./src/components/system/actives.vue","webpack:///./node_modules/_element-ui@2.3.9@element-ui/src/utils/merge.js","webpack:///node_modules/_element-ui@2.3.9@element-ui/packages/form/src/form.vue","webpack:///./node_modules/_element-ui@2.3.9@element-ui/packages/form/src/form.vue?36be","webpack:///./node_modules/_element-ui@2.3.9@element-ui/packages/form/src/form.vue","webpack:///src/components/system/actives.vue","webpack:///./src/components/system/actives.vue?34ac"],"names":["webpackJsonp","kufp","module","exports","wk1I","__webpack_exports__","__webpack_require__","injectStyle","context","Object","defineProperty","value","merge","target","i","j","arguments","length","source","prop","hasOwnProperty","undefined","src_form","name","componentName","provide","elForm","this","props","model","rules","labelPosition","String","labelWidth","labelSuffix","type","default","inline","Boolean","inlineMessage","statusIcon","showMessage","size","disabled","validateOnRuleChange","watch","validate","data","fields","created","_this","$on","field","push","splice","indexOf","methods","resetFields","forEach","resetField","clearValidate","callback","_this2","console","warn","promise","window","Promise","resolve","reject","valid","count","invalidFields","message","validateField","cb","filter","Error","render","_vm","_h","$createElement","_self","_c","staticClass","class","el-form--inline","_t","staticRenderFns","component_normalizer","Component","form_src_form","actives","components","ElForm","custom","currentType","typeList","searchValue","tableList","dialogFormVisible","formValue","restaurant","timeout","dialogImageUrl","dialogVisible","getRecommendList","$ajax","res","returnCode","getActivesRecommend","app","concat","pc","handleClick","val","_this3","$set","showHide","id","$nextTick","handleCommand","e","row","_this4","$message","msg","editActiveRecommend","_this5","subData","diaType","activityImgURL","bookId","detailsImgAndPageURL","onUploading","$loading","lock","text","spinner","background","beforeClose","handlePictureCard","file","filelist","successBack","close","search","actives_render","attrs","title","show-icon","_v","gutter","xs","sm","md","lg","xl","on","click","$event","$clearCache","ref","staticStyle","width","border","select","tooltip-effect","align","label","scopedSlots","_u","key","fn","scope","_s","minWidth","src","alt","trigger","command","href","slot","_f","dateTime","before-close","close-on-press-escape","visible","update:visible","listType","show-file-list","on-change","on-progress","on-success","on-error","action","auto-upload","_e","$$v","expression","actives_staticRenderFns","actives___vue_styles__","actives_Component"],"mappings":"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","file":"static/js/33.358a48d3c433d8dd285d.js","sourcesContent":["webpackJsonp([33],{\n\n/***/ \"kufp\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"wk1I\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/_element-ui@2.3.9@element-ui/src/utils/merge.js\n/* harmony default export */ var merge = (function (target) {\n  for (var i = 1, j = arguments.length; i < j; i++) {\n    var source = arguments[i] || {};\n    for (var prop in source) {\n      if (source.hasOwnProperty(prop)) {\n        var value = source[prop];\n        if (value !== undefined) {\n          target[prop] = value;\n        }\n      }\n    }\n  }\n\n  return target;\n});;\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=script&index=0!./node_modules/_element-ui@2.3.9@element-ui/packages/form/src/form.vue\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var src_form = ({\n  name: 'ElForm',\n\n  componentName: 'ElForm',\n\n  provide: function provide() {\n    return {\n      elForm: this\n    };\n  },\n\n\n  props: {\n    model: Object,\n    rules: Object,\n    labelPosition: String,\n    labelWidth: String,\n    labelSuffix: {\n      type: String,\n      default: ''\n    },\n    inline: Boolean,\n    inlineMessage: Boolean,\n    statusIcon: Boolean,\n    showMessage: {\n      type: Boolean,\n      default: true\n    },\n    size: String,\n    disabled: Boolean,\n    validateOnRuleChange: {\n      type: Boolean,\n      default: true\n    }\n  },\n  watch: {\n    rules: function rules() {\n      if (this.validateOnRuleChange) {\n        this.validate(function () {});\n      }\n    }\n  },\n  data: function data() {\n    return {\n      fields: []\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$on('el.form.addField', function (field) {\n      if (field) {\n        _this.fields.push(field);\n      }\n    });\n    /* istanbul ignore next */\n    this.$on('el.form.removeField', function (field) {\n      if (field.prop) {\n        _this.fields.splice(_this.fields.indexOf(field), 1);\n      }\n    });\n  },\n\n  methods: {\n    resetFields: function resetFields() {\n      if (!this.model) {\n        \"production\" !== 'production' && console.warn('[Element Warn][Form]model is required for resetFields to work.');\n        return;\n      }\n      this.fields.forEach(function (field) {\n        field.resetField();\n      });\n    },\n    clearValidate: function clearValidate() {\n      this.fields.forEach(function (field) {\n        field.clearValidate();\n      });\n    },\n    validate: function validate(callback) {\n      var _this2 = this;\n\n      if (!this.model) {\n        console.warn('[Element Warn][Form]model is required for validate to work!');\n        return;\n      }\n\n      var promise = void 0;\n      // if no callback, return promise\n      if (typeof callback !== 'function' && window.Promise) {\n        promise = new window.Promise(function (resolve, reject) {\n          callback = function callback(valid) {\n            valid ? resolve(valid) : reject(valid);\n          };\n        });\n      }\n\n      var valid = true;\n      var count = 0;\n      // 如果需要验证的fields为空，调用验证时立刻返回callback\n      if (this.fields.length === 0 && callback) {\n        callback(true);\n      }\n      var invalidFields = {};\n      this.fields.forEach(function (field) {\n        field.validate('', function (message, field) {\n          if (message) {\n            valid = false;\n          }\n          invalidFields = merge({}, invalidFields, field);\n          if (typeof callback === 'function' && ++count === _this2.fields.length) {\n            callback(valid, invalidFields);\n          }\n        });\n      });\n\n      if (promise) {\n        return promise;\n      }\n    },\n    validateField: function validateField(prop, cb) {\n      var field = this.fields.filter(function (field) {\n        return field.prop === prop;\n      })[0];\n      if (!field) {\n        throw new Error('must call validateField with valid prop string!');\n      }\n\n      field.validate('', cb);\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-601e747e\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./node_modules/_element-ui@2.3.9@element-ui/packages/form/src/form.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"el-form\",class:[\n  _vm.labelPosition ? 'el-form--label-' + _vm.labelPosition : '',\n  { 'el-form--inline': _vm.inline }\n]},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\n// EXTERNAL MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer.js\nvar component_normalizer = __webpack_require__(\"18Nq\");\n\n// CONCATENATED MODULE: ./node_modules/_element-ui@2.3.9@element-ui/packages/form/src/form.vue\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\n\nvar Component = Object(component_normalizer[\"a\" /* default */])(\n  src_form,\n  render,\n  staticRenderFns,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var form_src_form = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=script&index=0!./src/components/system/actives.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var actives = ({\n  components: { ElForm: form_src_form },\n  data: function data() {\n    return {\n      custom: false,\n      currentType: '',\n      typeList: [],\n      searchValue: '', // 推荐位类型ID\n      tableList: [],\n      dialogFormVisible: false,\n      formValue: {},\n      restaurant: [],\n      timeout: null,\n      dialogImageUrl: '',\n      dialogVisible: false\n    };\n  },\n\n  methods: {\n    getRecommendList: function getRecommendList() {\n      var _this = this;\n\n      this.$ajax('/sys-getRecommendedPosition', {}, function (res) {\n        if (res.returnCode === 200) {\n          _this.typeList = res.data;\n        }\n      });\n    },\n    getActivesRecommend: function getActivesRecommend() {\n      var _this2 = this;\n\n      this.$ajax('/admin/sys-getActivityRecommendedPosition', function (res) {\n        if (res.returnCode === 200) {\n          _this2.tableList = res.data.app.concat(res.data.pc);\n        }\n      });\n    },\n    handleClick: function handleClick(val, type) {\n      var _this3 = this;\n\n      this.formValue = {};\n      this.$set(this.formValue, 'showHide', val.showHide);\n      this.$set(this.formValue, 'id', val.id);\n      this.$set(this.formValue, 'diaType', type);\n      if (type === 'small') {\n        this.$set(this.formValue, 'activityImgURL', '');\n      } else {\n        this.$set(this.formValue, 'detailsImgAndPageURL', '');\n      }\n      this.$nextTick(function () {\n        _this3.dialogFormVisible = true;\n      });\n    },\n    handleCommand: function handleCommand(e, row) {\n      var _this4 = this;\n\n      this.$ajax('/admin/HDupdateActivityRecommendedPosition', {\n        id: row.id,\n        showHide: row.showHide ? 0 : 1\n      }, function (res) {\n        if (res.returnCode === 200) {\n          _this4.$message({ message: res.msg, type: 'success' });\n          _this4.getActivesRecommend();\n        }\n      });\n    },\n\n    //      编辑推荐位信息\n    editActiveRecommend: function editActiveRecommend() {\n      var _this5 = this;\n\n      var subData = function subData() {\n        delete _this5.formValue.diaType;\n        _this5.$ajax('/admin/HDupdateActivityRecommendedPosition', _this5.formValue, function (res) {\n          _this5.dialogFormVisible = false;\n          if (res.returnCode === 200) {\n            _this5.$message({ message: res.msg, type: 'success' });\n            _this5.getActivesRecommend();\n          }\n        });\n      };\n      if (this.formValue.diaType === 'small') {\n        if (!this.formValue.activityImgURL) {\n          this.$message({ message: '请先上传图片', type: 'warning' });\n        } else {\n          subData();\n        }\n      } else {\n        if (!this.custom) {\n          if (this.formValue.detailsImgAndPageURL) {\n            subData();\n          } else {\n            this.$message({ message: '请先上传图片', type: 'warning' });\n          }\n        } else {\n          if (!this.formValue.bookId) {\n            this.$message({ message: '请填写书籍ID', type: 'warning' });\n            return false;\n          }\n          subData();\n        }\n      }\n    },\n    onUploading: function onUploading() {\n      this.$loading({\n        lock: true,\n        text: '图片上传中...',\n        spinner: 'el-icon-loading',\n        background: 'rgba(0, 0, 0, 0.7)'\n      });\n    },\n    beforeClose: function beforeClose() {\n      this.custom = false;\n      this.dialogFormVisible = false;\n    },\n    handlePictureCard: function handlePictureCard(file, filelist) {},\n\n\n    //        上传成功后回调\n    successBack: function successBack(res, file, filelist) {\n      this.$loading().close();\n      if (res.returnCode === 200) {\n        if (this.formValue.diaType === 'small') {\n          this.formValue.activityImgURL = res.data;\n        } else {\n          this.formValue.detailsImgAndPageURL = res.data;\n        }\n        this.$message({ message: '上传成功', type: 'success' });\n      }\n    }\n  },\n  created: function created() {\n    this.getActivesRecommend();\n  },\n\n  watch: {\n    'searchValue': function searchValue() {\n      this.search();\n    }\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-6340bddf\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/system/actives.vue\nvar actives_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-recommend-actives\"},[_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('div',[_c('p',[_vm._v(\"此表为本站活动推荐位，通过编辑即可修改相应的推荐位信息\")]),_vm._v(\" \"),_c('p',{staticClass:\"tip\"},[_c('span',{staticClass:\"red\"},[_vm._v(\"操作提示：\")]),_vm._v(\"\\n        推荐小图为App或网站首页展示\\n      \")])])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\",attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"xs\":18,\"sm\":12,\"md\":9,\"lg\":6,\"xl\":3}}),_vm._v(\" \"),_c('el-button',{staticClass:\"fr\",on:{\"click\":function($event){_vm.$clearCache()}}},[_vm._v(\"清除缓存\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableList,\"border\":\"\",\"select\":\"row\",\"tooltip-effect\":\"dark\"}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"Id\",\"width\":\"34\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"终端\",\"width\":\"50\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(scope.row.type?'PC':'App')+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"小图\",\"align\":\"center\",\"minWidth\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticClass:\"mw-auto\",attrs:{\"src\":scope.row.activityImgURL,\"alt\":\"\"},on:{\"click\":function($event){_vm.handleClick(scope.row,'small')}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"大图\",\"minWidth\":\"400\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"img-wrap\",on:{\"click\":function($event){_vm.handleClick(scope.row,'big')}}},[(!scope.row.bookId)?[_c('img',{staticClass:\"active-big-img mw-auto\",attrs:{\"src\":scope.row.detailsImgAndPageURL,\"alt\":\"\"}})]:_c('span',[_vm._v(_vm._s(scope.row.bookId))])],2)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"详情链接\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-dropdown',{attrs:{\"size\":\"medium\",\"trigger\":\"click\"},on:{\"command\":function($event){_vm.handleCommand($event,scope.row)}}},[_c('a',{staticClass:\"el-dropdown-link\",attrs:{\"href\":\"javascript:0;\"}},[(!scope.row.showHide)?_c('span',{staticClass:\"red\"},[_vm._v(\"显示\")]):_c('span',{staticClass:\"green\"},[_vm._v(\"隐藏\")])]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_vm._v(_vm._s(scope.row.showHide?'显示':'隐藏'))])],1)],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n         \"+_vm._s(_vm._f(\"time\")(scope.row.dateTime,'long'))+\"\\n        \")]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"修改推荐位\",\"width\":\"420px\",\"before-close\":_vm.beforeClose,\"close-on-press-escape\":false,\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png文件，且不超过500kb\")]),_vm._v(\" \"),_c('el-form',[_c('el-form-item',[((_vm.formValue.diaType=='big' && !_vm.custom) || _vm.formValue.diaType=='small')?_c('el-upload',{ref:\"upload\",attrs:{\"name\":\"file\",\"listType\":\"picture\",\"show-file-list\":false,\"on-change\":_vm.handlePictureCard,\"on-progress\":_vm.onUploading,\"on-success\":_vm.successBack,\"on-error\":_vm.successBack,\"action\":\"/api/admin/uploadActivityRecommendedPositionImg\",\"auto-upload\":true}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(_vm._s(_vm.formValue.diaType==='small'?'上传小图':'上传大图'))]),_vm._v(\" \"),(_vm.formValue.diaType=='big' && !_vm.custom)?_c('a',{attrs:{\"href\":\"javascript:0;\"},on:{\"click\":function($event){_vm.custom=true}}},[_vm._v(\"添加书籍ID\")]):_vm._e()],1):_vm._e()],1),_vm._v(\" \"),(_vm.custom)?_c('el-form-item',{attrs:{\"labelWidth\":\"90px\",\"label\":\"添加书籍ID\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.formValue.bookId),callback:function ($$v) {_vm.$set(_vm.formValue, \"bookId\", $$v)},expression:\"formValue.bookId\"}})],1):_vm._e()],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.editActiveRecommend(_vm.formValue.diaType)}}},[_vm._v(\"更新\")])],1)],1)],1)}\nvar actives_staticRenderFns = []\n\n// CONCATENATED MODULE: ./src/components/system/actives.vue\nfunction injectStyle (context) {\n  __webpack_require__(\"kufp\")\n}\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar actives___vue_template_functional__ = false\n/* styles */\nvar actives___vue_styles__ = injectStyle\n/* scopeId */\nvar actives___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar actives___vue_module_identifier__ = null\n\nvar actives_Component = Object(component_normalizer[\"a\" /* default */])(\n  actives,\n  actives_render,\n  actives_staticRenderFns,\n  actives___vue_template_functional__,\n  actives___vue_styles__,\n  actives___vue_scopeId__,\n  actives___vue_module_identifier__\n)\n\n/* harmony default export */ var system_actives = __webpack_exports__[\"default\"] = (actives_Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/33.358a48d3c433d8dd285d.js","function injectStyle (context) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=styles&index=0!./actives.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./actives.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./actives.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6340bddf\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=template&index=0!./actives.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/system/actives.vue\n// module id = null\n// module chunks = ","export default function(target) {\n  for (let i = 1, j = arguments.length; i < j; i++) {\n    let source = arguments[i] || {};\n    for (let prop in source) {\n      if (source.hasOwnProperty(prop)) {\n        let value = source[prop];\n        if (value !== undefined) {\n          target[prop] = value;\n        }\n      }\n    }\n  }\n\n  return target;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/_element-ui@2.3.9@element-ui/src/utils/merge.js","<template>\n  <form class=\"el-form\" :class=\"[\n    labelPosition ? 'el-form--label-' + labelPosition : '',\n    { 'el-form--inline': inline }\n  ]\">\n    <slot></slot>\n  </form>\n</template>\n<script>\n  import objectAssign from 'element-ui/src/utils/merge';\n\n  export default {\n    name: 'ElForm',\n\n    componentName: 'ElForm',\n\n    provide() {\n      return {\n        elForm: this\n      };\n    },\n\n    props: {\n      model: Object,\n      rules: Object,\n      labelPosition: String,\n      labelWidth: String,\n      labelSuffix: {\n        type: String,\n        default: ''\n      },\n      inline: Boolean,\n      inlineMessage: Boolean,\n      statusIcon: Boolean,\n      showMessage: {\n        type: Boolean,\n        default: true\n      },\n      size: String,\n      disabled: Boolean,\n      validateOnRuleChange: {\n        type: Boolean,\n        default: true\n      }\n    },\n    watch: {\n      rules() {\n        if (this.validateOnRuleChange) {\n          this.validate(() => {});\n        }\n      }\n    },\n    data() {\n      return {\n        fields: []\n      };\n    },\n    created() {\n      this.$on('el.form.addField', (field) => {\n        if (field) {\n          this.fields.push(field);\n        }\n      });\n      /* istanbul ignore next */\n      this.$on('el.form.removeField', (field) => {\n        if (field.prop) {\n          this.fields.splice(this.fields.indexOf(field), 1);\n        }\n      });\n    },\n    methods: {\n      resetFields() {\n        if (!this.model) {\n          process.env.NODE_ENV !== 'production' &&\n          console.warn('[Element Warn][Form]model is required for resetFields to work.');\n          return;\n        }\n        this.fields.forEach(field => {\n          field.resetField();\n        });\n      },\n      clearValidate() {\n        this.fields.forEach(field => {\n          field.clearValidate();\n        });\n      },\n      validate(callback) {\n        if (!this.model) {\n          console.warn('[Element Warn][Form]model is required for validate to work!');\n          return;\n        }\n\n        let promise;\n        // if no callback, return promise\n        if (typeof callback !== 'function' && window.Promise) {\n          promise = new window.Promise((resolve, reject) => {\n            callback = function(valid) {\n              valid ? resolve(valid) : reject(valid);\n            };\n          });\n        }\n\n        let valid = true;\n        let count = 0;\n        // 如果需要验证的fields为空，调用验证时立刻返回callback\n        if (this.fields.length === 0 && callback) {\n          callback(true);\n        }\n        let invalidFields = {};\n        this.fields.forEach(field => {\n          field.validate('', (message, field) => {\n            if (message) {\n              valid = false;\n            }\n            invalidFields = objectAssign({}, invalidFields, field);\n            if (typeof callback === 'function' && ++count === this.fields.length) {\n              callback(valid, invalidFields);\n            }\n          });\n        });\n\n        if (promise) {\n          return promise;\n        }\n      },\n      validateField(prop, cb) {\n        let field = this.fields.filter(field => field.prop === prop)[0];\n        if (!field) { throw new Error('must call validateField with valid prop string!'); }\n\n        field.validate('', cb);\n      }\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// node_modules/_element-ui@2.3.9@element-ui/packages/form/src/form.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"el-form\",class:[\n  _vm.labelPosition ? 'el-form--label-' + _vm.labelPosition : '',\n  { 'el-form--inline': _vm.inline }\n]},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-601e747e\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./node_modules/_element-ui@2.3.9@element-ui/packages/form/src/form.vue\n// module id = null\n// module chunks = ","/* script */\nexport * from \"!!babel-loader!../../../../_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./form.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./form.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../_vue-loader@14.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-601e747e\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../_vue-loader@14.2.2@vue-loader/lib/selector?type=template&index=0!./form.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_element-ui@2.3.9@element-ui/packages/form/src/form.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"book-recommend-actives\">\n    <el-alert\n      title=\"操作说明\"\n      type=\"info\"\n      show-icon>\n      <div>\n        <p>此表为本站活动推荐位，通过编辑即可修改相应的推荐位信息</p>\n        <p class=\"tip\">\n          <span class=\"red\">操作提示：</span>\n          推荐小图为App或网站首页展示\n        </p>\n      </div>\n    </el-alert>\n    <el-row :gutter=\"10\" class=\"mbt20\">\n      \n      <el-col :xs=\"18\" :sm=\"12\" :md=\"9\" :lg=\"6\" :xl=\"3\">\n      </el-col>\n      <el-button class=\"fr\" @click=\"$clearCache()\">清除缓存</el-button>\n    </el-row>\n    <el-row >\n      <el-table\n        ref=\"multipleTable\"\n        :data=\"tableList\"\n        border\n        select=\"row\"\n        tooltip-effect=\"dark\"\n        style=\"width: 100%\">\n        <el-table-column\n          type=\"selection\"\n          align=\"center\">\n        </el-table-column>\n        <el-table-column\n          prop=\"id\"\n          label=\"Id\"\n          width=\"34\"\n          align=\"center\"\n        >\n        </el-table-column>\n        <el-table-column\n          prop=\"type\"\n          label=\"终端\"\n          width=\"50\"\n          align=\"center\">\n          <template slot-scope=\"scope\">\n            {{scope.row.type?'PC':'App'}}\n          </template>\n        </el-table-column>\n  \n        <el-table-column\n          label=\"小图\"\n          align=\"center\"\n          minWidth=\"300\"\n        >\n          <template slot-scope=\"scope\">\n            <img class=\"mw-auto\" :src=\"scope.row.activityImgURL\" alt=\"\" @click=\"handleClick(scope.row,'small')\">\n          </template>\n        </el-table-column>\n        \n        <el-table-column\n          label=\"大图\"\n          minWidth=\"400\"\n          align=\"center\"\n        >\n          <template slot-scope=\"scope\">\n            <div class=\"img-wrap\" @click=\"handleClick(scope.row,'big')\">\n              \n               <template v-if=\"!scope.row.bookId\">\n                 <img class=\"active-big-img mw-auto\" :src=\"scope.row.detailsImgAndPageURL\" alt=\"\">\n               </template>\n              <span v-else>{{scope.row.bookId}}</span>\n             \n            </div>\n          </template>\n        </el-table-column>\n        \n        <el-table-column\n          label=\"详情链接\"\n          align=\"center\"\n        >\n          <template slot-scope=\"scope\">\n            <el-dropdown\n              size=\"medium\"\n              @command=\"handleCommand($event,scope.row)\"\n              trigger=\"click\">\n              <a href=\"javascript:0;\" class=\"el-dropdown-link\">\n                <span class=\"red\" v-if=\"!scope.row.showHide\">显示</span>\n                <span class=\"green\" v-else>隐藏</span>\n              </a>\n              <el-dropdown-menu slot=\"dropdown\">\n                <el-dropdown-item >{{scope.row.showHide?'显示':'隐藏'}}</el-dropdown-item>\n              </el-dropdown-menu>\n            </el-dropdown>\n          </template>\n        </el-table-column>\n       \n        <el-table-column\n          align=\"center\"\n          label=\"时间\"\n        >\n          <template slot-scope=\"scope\">\n           {{scope.row.dateTime|time('long')}}\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-row>\n    \n    <el-dialog\n      title=\"修改推荐位\"\n      width=\"420px\"\n      :before-close=\"beforeClose\"\n      :close-on-press-escape=\"false\"\n      :visible.sync=\"dialogFormVisible\">\n      <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\n      <el-form >\n        <el-form-item>\n          <el-upload\n            v-if=\"(formValue.diaType=='big' && !custom) || formValue.diaType=='small'\"\n            ref=\"upload\"\n            name=\"file\"\n            listType=\"picture\"\n            :show-file-list=\"false\"\n            :on-change=\"handlePictureCard\"\n            :on-progress=\"onUploading\"\n            :on-success=\"successBack\"\n            :on-error=\"successBack\"\n            action=\"/api/admin/uploadActivityRecommendedPositionImg\"\n            :auto-upload=\"true\">\n            <el-button slot=\"trigger\" size=\"small\"  type=\"primary\">{{ formValue.diaType==='small'?'上传小图':'上传大图'}}</el-button>\n            <a href=\"javascript:0;\" v-if=\"formValue.diaType=='big' && !custom\" @click=\"custom=true\">添加书籍ID</a>\n          </el-upload>\n        </el-form-item>\n        <el-form-item v-if=\"custom\" labelWidth=\"90px\" label=\"添加书籍ID\">\n          <el-input type=\"text\" v-model=\"formValue.bookId\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"editActiveRecommend(formValue.diaType)\">更新</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import ElForm from '../../../node_modules/element-ui/packages/form/src/form'\nexport default{\n    components: { ElForm },\n    data() {\n      return {\n        custom: false,\n        currentType: '',\n        typeList: [],\n        searchValue: '', // 推荐位类型ID\n        tableList: [],\n        dialogFormVisible: false,\n        formValue: {},\n        restaurant: [],\n        timeout: null,\n        dialogImageUrl: '',\n        dialogVisible: false\n      }\n    },\n    methods: {\n      getRecommendList() {\n        this.$ajax('/sys-getRecommendedPosition', {}, res => {\n          if (res.returnCode === 200) {\n            this.typeList = res.data\n          }\n        })\n      },\n      getActivesRecommend() {\n        this.$ajax('/admin/sys-getActivityRecommendedPosition', res => {\n          if (res.returnCode === 200) {\n            this.tableList = res.data.app.concat(res.data.pc)\n          }\n        })\n      },\n      handleClick(val, type) {\n        this.formValue = {}\n        this.$set(this.formValue, 'showHide', val.showHide)\n        this.$set(this.formValue, 'id', val.id)\n        this.$set(this.formValue, 'diaType', type)\n        if (type === 'small') {\n          this.$set(this.formValue, 'activityImgURL', '')\n        } else {\n          this.$set(this.formValue, 'detailsImgAndPageURL', '')\n        }\n        this.$nextTick(() => {\n          this.dialogFormVisible = true\n        })\n      },\n      handleCommand(e, row) {\n        this.$ajax('/admin/HDupdateActivityRecommendedPosition', {\n          id: row.id,\n          showHide: row.showHide ? 0 : 1\n        }, res => {\n          if (res.returnCode === 200) {\n            this.$message({ message: res.msg, type: 'success' })\n            this.getActivesRecommend()\n          }\n        })\n      },\n//      编辑推荐位信息\n      editActiveRecommend() {\n        const subData = () => {\n          delete this.formValue.diaType\n          this.$ajax('/admin/HDupdateActivityRecommendedPosition', this.formValue, res => {\n            this.dialogFormVisible = false\n            if (res.returnCode === 200) {\n              this.$message({ message: res.msg, type: 'success' })\n              this.getActivesRecommend()\n            }\n          })\n        }\n        if (this.formValue.diaType === 'small') {\n          if (!this.formValue.activityImgURL) {\n            this.$message({ message: '请先上传图片', type: 'warning' })\n          } else {\n            subData()\n          }\n        } else {\n          if (!this.custom) {\n            if (this.formValue.detailsImgAndPageURL) {\n              subData()\n            } else {\n              this.$message({ message: '请先上传图片', type: 'warning' })\n            }\n          } else {\n            if (!this.formValue.bookId) {\n              this.$message({ message: '请填写书籍ID', type: 'warning' })\n              return false\n            }\n            subData()\n          }\n        }\n      },\n      onUploading() {\n        this.$loading({\n          lock: true,\n          text: '图片上传中...',\n          spinner: 'el-icon-loading',\n          background: 'rgba(0, 0, 0, 0.7)'\n        })\n      },\n      beforeClose() {\n        this.custom = false\n        this.dialogFormVisible = false\n      },\n      handlePictureCard(file, filelist) {\n  \n      },\n  \n//        上传成功后回调\n      successBack(res, file, filelist) {\n        this.$loading().close()\n        if (res.returnCode === 200) {\n          if (this.formValue.diaType === 'small') {\n            this.formValue.activityImgURL = res.data\n          } else {\n            this.formValue.detailsImgAndPageURL = res.data\n          }\n          this.$message({ message: '上传成功', type: 'success' })\n        }\n      }\n    },\n    created() {\n      this.getActivesRecommend()\n    },\n    watch: {\n      'searchValue': function() {\n        this.search()\n      }\n    }\n  \n  }\n</script>\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n.book-actives-recommend\n  .el-select\n    width 100%\n  .el-dialog__body\n    padding 10px 20px 30px\n    min-height 100px\n  .el-table\n    .cell\n      .bookCover\n        width 60px\n  .cover-preview\n    text-align center\n    margin-bottom 20px\n    img\n      max-height 100px\n      max-width 100%\n      margin 0 auto\n  .ua-footer\n    padding-top 10px\n    overflow hidden\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/system/actives.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-recommend-actives\"},[_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('div',[_c('p',[_vm._v(\"此表为本站活动推荐位，通过编辑即可修改相应的推荐位信息\")]),_vm._v(\" \"),_c('p',{staticClass:\"tip\"},[_c('span',{staticClass:\"red\"},[_vm._v(\"操作提示：\")]),_vm._v(\"\\n        推荐小图为App或网站首页展示\\n      \")])])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\",attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"xs\":18,\"sm\":12,\"md\":9,\"lg\":6,\"xl\":3}}),_vm._v(\" \"),_c('el-button',{staticClass:\"fr\",on:{\"click\":function($event){_vm.$clearCache()}}},[_vm._v(\"清除缓存\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableList,\"border\":\"\",\"select\":\"row\",\"tooltip-effect\":\"dark\"}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"Id\",\"width\":\"34\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"终端\",\"width\":\"50\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(scope.row.type?'PC':'App')+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"小图\",\"align\":\"center\",\"minWidth\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticClass:\"mw-auto\",attrs:{\"src\":scope.row.activityImgURL,\"alt\":\"\"},on:{\"click\":function($event){_vm.handleClick(scope.row,'small')}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"大图\",\"minWidth\":\"400\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"img-wrap\",on:{\"click\":function($event){_vm.handleClick(scope.row,'big')}}},[(!scope.row.bookId)?[_c('img',{staticClass:\"active-big-img mw-auto\",attrs:{\"src\":scope.row.detailsImgAndPageURL,\"alt\":\"\"}})]:_c('span',[_vm._v(_vm._s(scope.row.bookId))])],2)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"详情链接\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-dropdown',{attrs:{\"size\":\"medium\",\"trigger\":\"click\"},on:{\"command\":function($event){_vm.handleCommand($event,scope.row)}}},[_c('a',{staticClass:\"el-dropdown-link\",attrs:{\"href\":\"javascript:0;\"}},[(!scope.row.showHide)?_c('span',{staticClass:\"red\"},[_vm._v(\"显示\")]):_c('span',{staticClass:\"green\"},[_vm._v(\"隐藏\")])]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_vm._v(_vm._s(scope.row.showHide?'显示':'隐藏'))])],1)],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n         \"+_vm._s(_vm._f(\"time\")(scope.row.dateTime,'long'))+\"\\n        \")]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"修改推荐位\",\"width\":\"420px\",\"before-close\":_vm.beforeClose,\"close-on-press-escape\":false,\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png文件，且不超过500kb\")]),_vm._v(\" \"),_c('el-form',[_c('el-form-item',[((_vm.formValue.diaType=='big' && !_vm.custom) || _vm.formValue.diaType=='small')?_c('el-upload',{ref:\"upload\",attrs:{\"name\":\"file\",\"listType\":\"picture\",\"show-file-list\":false,\"on-change\":_vm.handlePictureCard,\"on-progress\":_vm.onUploading,\"on-success\":_vm.successBack,\"on-error\":_vm.successBack,\"action\":\"/api/admin/uploadActivityRecommendedPositionImg\",\"auto-upload\":true}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(_vm._s(_vm.formValue.diaType==='small'?'上传小图':'上传大图'))]),_vm._v(\" \"),(_vm.formValue.diaType=='big' && !_vm.custom)?_c('a',{attrs:{\"href\":\"javascript:0;\"},on:{\"click\":function($event){_vm.custom=true}}},[_vm._v(\"添加书籍ID\")]):_vm._e()],1):_vm._e()],1),_vm._v(\" \"),(_vm.custom)?_c('el-form-item',{attrs:{\"labelWidth\":\"90px\",\"label\":\"添加书籍ID\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.formValue.bookId),callback:function ($$v) {_vm.$set(_vm.formValue, \"bookId\", $$v)},expression:\"formValue.bookId\"}})],1):_vm._e()],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.editActiveRecommend(_vm.formValue.diaType)}}},[_vm._v(\"更新\")])],1)],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-6340bddf\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/system/actives.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}