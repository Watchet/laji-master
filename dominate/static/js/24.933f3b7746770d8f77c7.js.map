{"version":3,"sources":["webpack:///static/js/24.933f3b7746770d8f77c7.js","webpack:///./src/components/system/recommend.vue","webpack:///src/components/system/recommend.vue","webpack:///./src/components/system/recommend.vue?4e8f"],"names":["webpackJsonp","4Nzc","module","exports","EeEo","__webpack_exports__","__webpack_require__","injectStyle","context","Object","defineProperty","value","recommend","data","loading","currentType","typeList","searchValue","tableList","dialogFormVisible","formValue","completeValue","restaurant","timeout","dialogImageUrl","dialogVisible","bookclassid","methods","getRecommendList","_this","this","$ajax","res","returnCode","search","getBookClass","_this2","bookClassList","_this3","RecommendpositionTypeid","recommendType","reverse","remoteMethod","query","_this4","str","$http","trim","length","keyWord","isHotWorld","startPage","recommendName","indexOf","bookClassificationId","list","forEach","item","bookName","bookId","filter","toLowerCase","handleClick","val","type","$set","bookImage","id","handleSelect","k","bookimg","bookWriterId","editRecommend","_this5","console","log","handlePictureCard","file","url","submitUpload","$refs","upload","submit","successBack","$message","msg","created","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","show-icon","_v","gutter","xs","sm","md","lg","xl","placeholder","filter-method","on","change","model","callback","$$v","expression","_l","index","key","label","click","$event","$clearCache","ref","staticStyle","width","border","select","tooltip-effect","align","prop","scopedSlots","_u","fn","scope","class","row","src","alt","size","_e","close-on-press-escape","visible","update:visible","slot","name","recommendid","show-file-list","on-change","on-success","action","auto-upload","margin-left","label-width","filterable","remote","clearable","remote-method","$index","staticRenderFns","component_normalizer","__vue_styles__","Component"],"mappings":"AAAAA,cAAc,KAERC,OACA,SAAUC,EAAQC,KAMlBC,KACA,SAAUF,EAAQG,EAAqBC,GAE7C,YCZA,SAAAC,GAAAC,GACAF,EAAA,QDYAG,OAAOC,eAAeL,EAAqB,cAAgBM,OAAO,GEiJlE,IAAAC,IACAC,KADA,WAEA,OACAC,SAAA,EACAC,YAAA,GACAC,YACAC,YAAA,GACAC,aACAC,mBAAA,EACAC,aACAC,cAAA,GACAC,cACAC,QAAA,KACAC,eAAA,GACAC,eAAA,EACAC,YAAA,KAIAC,SACAC,iBADA,WACA,GAAAC,GAAAC,IACAA,MAAAC,MAAA,0CAAAC,GACA,MAAAA,EAAAC,aACAJ,EAAAb,SAAAgB,EAAAnB,KACAgB,EAAAZ,YAAA,EACAY,EAAAK,aAIAC,aAVA,WAUA,GAAAC,GAAAN,IACAA,MAAAC,MAAA,sCAAAC,GACA,MAAAA,EAAAC,aACAG,EAAAC,cAAAL,EAAAnB,OAEA,QAEAqB,OAjBA,WAiBA,GAAAI,GAAAR,IACAA,MAAAC,MAAA,qCACAQ,wBAAAT,KAAAd,SAAAc,KAAAb,aAAAuB,eACA,SAAAR,GACA,MAAAA,EAAAC,aACAK,EAAApB,UAAA,IAAAoB,EAAAtB,SAAAsB,EAAArB,aAAAuB,cAAAR,EAAAnB,KAAA4B,UAAAT,EAAAnB,SAIA6B,aA1BA,SA0BAC,GAAA,GAAAC,GAAAd,KACAe,EAAAf,KAAAgB,MAAAC,KAAAJ,EACA,IAAAE,EAAAG,OAAA,GACAlB,KAAAhB,SAAA,CACA,IAAAD,IACAoC,QAAAJ,EACAK,WAAA,EACAC,UAAA,EAEArB,MAAAd,SAAAc,KAAAb,aAAAmC,cAAAC,QAAA,aACAxC,EAAAyC,qBAAAxB,KAAAd,SAAAc,KAAAb,aAAAqC,sBAEAxB,KAAAC,MAAA,iBAAAlB,EAAA,SAAAmB,GACAY,EAAA9B,SAAA,EACA,MAAAkB,EAAAC,aACAD,EAAAnB,KAAA0C,KAAAC,QAAA,SAAAC,GACAA,EAAA9C,MAAA8C,EAAAC,SAAA,KAAAD,EAAAE,OAAA,MAEAf,EAAAtB,WAAAU,EAAAnB,KAAA0C,KAAAK,OAAA,SAAAH,GACA,MAAAA,GAAAC,SAAAG,cACAR,QAAAV,EAAAkB,gBAAA,WAKA/B,MAAAR,eAGAwC,YAtDA,SAsDAC,EAAAC,GACAlC,KAAAd,SAAAc,KAAAb,aAAAqC,oBAEAxB,MAAAV,aAQAU,KAAAmC,KAAAnC,KAAAV,UAAA,OAAA4C,GACAlC,KAAAmC,KAAAnC,KAAAV,UAAA,YAAA2C,EAAAG,WACApC,KAAAmC,KAAAnC,KAAAV,UAAA,KAAA2C,EAAAI,IACArC,KAAAN,eAAA,GACAM,KAAAX,mBAAA,GAEAiD,aAvEA,SAuEAC,GACAvC,KAAAV,UAAAkD,QAAAD,EAAAH,UACApC,KAAAV,UAAAmD,aAAAF,EAAAE,aACAzC,KAAAV,UAAAuC,OAAAU,EAAAV,QAGAa,cA7EA,WA6EA,GAAAC,GAAA3C,IACAA,MAAAV,UAAAuC,OACA7B,KAAAC,MAAA,2CAAAD,KAAAV,UAAA,SAAAY,GACAyC,EAAAtD,mBAAA,EACA,MAAAa,EAAAC,aACAwC,EAAApD,cAAA,GACAoD,EAAArD,aACAqD,EAAAvC,YAIAwC,QAAAC,IAAA7C,KAAAV,YAGAwD,kBA3FA,SA2FAC,GACA/C,KAAAV,UAAA8C,UAAAW,EAAAC,KAGAC,aA/FA,WAgGAjD,KAAAkD,MAAAC,OAAAC,UAGAC,YAnGA,SAmGAnD,EAAA6C,GACA/C,KAAAsD,SAAApD,EAAAqD,KACAvD,KAAAI,SACAJ,KAAAX,mBAAA,IAGAmE,QA5HA,WA8HAxD,KAAAF,qBC5RA2D,EAAA,WAA0B,GAAAC,GAAA1D,KAAa2D,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,OAAiBE,YAAA,mBAA6BF,EAAA,YAAiBG,OAAOC,MAAA,OAAA/B,KAAA,OAAAgC,YAAA,MAA6CL,EAAA,KAAAH,EAAAS,GAAA,gFAAAT,EAAAS,GAAA,KAAAN,EAAA,KAAAA,EAAA,QAAgIE,YAAA,QAAkBL,EAAAS,GAAA,WAAAT,EAAAS,GAAA,4CAAAT,EAAAS,GAAA,KAAAN,EAAA,UAAgGE,YAAA,QAAAC,OAA2BI,OAAA,MAAaP,EAAA,UAAeG,OAAOK,GAAA,GAAAC,GAAA,GAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,KAAsCZ,EAAA,aAAkBG,OAAOU,YAAA,MAAAC,gBAAAjB,EAAAtD,QAA+CwE,IAAKC,OAAAnB,EAAAtD,QAAoB0E,OAAQjG,MAAA6E,EAAA,YAAAqB,SAAA,SAAAC,GAAiDtB,EAAAvE,YAAA6F,GAAoBC,WAAA,gBAA2BvB,EAAAwB,GAAAxB,EAAA,kBAAA/B,EAAAwD,GAA4C,MAAAtB,GAAA,aAAuBuB,IAAAD,EAAAnB,OAAiBqB,MAAA1D,EAAAL,cAAAzC,MAAAsG,SAA4C,GAAAzB,EAAAS,GAAA,KAAAN,EAAA,aAAmCE,YAAA,KAAAa,IAAqBU,MAAA,SAAAC,GAAyB7B,EAAA8B,kBAAoB9B,EAAAS,GAAA,cAAAT,EAAAS,GAAA,KAAAN,EAAA,UAAAA,EAAA,YAA+D4B,IAAA,gBAAAC,aAAiCC,MAAA,QAAe3B,OAAQjF,KAAA2E,EAAAtE,UAAAwG,OAAA,GAAAC,OAAA,MAAAC,iBAAA,UAAyEjC,EAAA,mBAAwBG,OAAO9B,KAAA,YAAA6D,MAAA,YAAqCrC,EAAAS,GAAA,KAAAN,EAAA,mBAAoCG,OAAOgC,KAAA,iBAAAX,MAAA,MAAAM,MAAA,KAAAI,MAAA,YAAqErC,EAAAS,GAAA,KAAAN,EAAA,mBAAoCG,OAAOgC,KAAA,SAAAX,MAAA,MAAAM,MAAA,KAAAI,MAAA,YAA6DrC,EAAAS,GAAA,KAAAN,EAAA,mBAAoCG,OAAOgC,KAAA,WAAAX,MAAA,QAAgC3B,EAAAS,GAAA,KAAAN,EAAA,mBAAoCG,OAAOgC,KAAA,aAAAX,MAAA,QAAkC3B,EAAAS,GAAA,KAAAN,EAAA,mBAAoCG,OAAOgC,KAAA,gBAAAX,MAAA,UAAuC3B,EAAAS,GAAA,KAAAN,EAAA,mBAAoCG,OAAO+B,MAAA,SAAAV,MAAA,QAAgCY,YAAAvC,EAAAwC,KAAsBd,IAAA,UAAAe,GAAA,SAAAC,GAAiC,OAAAvC,EAAA,OAAkBE,YAAA,YAAAsC,MAAA,GAAAD,EAAAE,IAAA5F,eAAA,GAAA0F,EAAAE,IAAA5F,eAAA,GAAA0F,EAAAE,IAAA5F,cAAA,aAAAsD,OAA2IuC,IAAAH,EAAAE,IAAAlE,UAAAoE,IAAAJ,EAAAE,IAAA1E,mBAA2D8B,EAAAS,GAAA,KAAAN,EAAA,mBAAoCG,OAAOqB,MAAA,KAAAM,MAAA,KAAAI,MAAA,UAA2CE,YAAAvC,EAAAwC,KAAsBd,IAAA,UAAAe,GAAA,SAAAC,GAAiC,UAAA1C,EAAAxE,SAAAwE,EAAAvE,aAAAuB,eAAA,GAAAgD,EAAAxE,SAAAwE,EAAAvE,aAAAuB,eAAA,GAAAgD,EAAAxE,SAAAwE,EAAAvE,aAAAuB,cAAAmD,EAAA,UAA0KE,YAAA,SAAmBF,EAAA,aAAkBG,OAAOyC,KAAA,QAAc7B,IAAKU,MAAA,SAAAC,GAAyB7B,EAAA1B,YAAAoE,EAAAE,IAAA,WAAmC5C,EAAAS,GAAA,YAAAT,EAAAgD,KAAAhD,EAAAS,GAAA,KAAAN,EAAA,UAAAA,EAAA,aAAuEG,OAAOyC,KAAA,QAAc7B,IAAKU,MAAA,SAAAC,GAAyB7B,EAAA1B,YAAAoE,EAAAE,IAAA,YAAoC5C,EAAAS,GAAA,oBAA0B,OAAAT,EAAAS,GAAA,KAAAN,EAAA,aAAsCG,OAAOC,MAAA,QAAAP,EAAApE,UAAA4C,KAAA,eAAAyD,MAAA,QAAAgB,yBAAA,EAAAC,QAAAlD,EAAArE,mBAAgIuF,IAAKiC,iBAAA,SAAAtB,GAAkC7B,EAAArE,kBAAAkG,MAA+B1B,EAAA,OAAYE,YAAA,iBAAAC,OAAoC8C,KAAA,OAAaA,KAAA,QAAYpD,EAAAS,GAAA,6BAAAT,EAAAS,GAAA,YAAAT,EAAApE,UAAA4C,KAAA2B,EAAA,OAAwFE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,kBAA4BF,EAAA,OAAYG,OAAOuC,IAAA7C,EAAApE,UAAA8C,UAAAoE,IAAA,QAAwC9C,EAAAS,GAAA,KAAAN,EAAA,aAAgC4B,IAAA,SAAA1B,YAAA,mBAAAC,OAAmD+C,KAAA,OAAAhI,MAAsBiI,YAAAtD,EAAApE,UAAA+C,IAA+B4E,kBAAA,EAAAC,YAAAxD,EAAAZ,kBAAAqE,aAAAzD,EAAAL,YAAA+D,OAAA,6BAAAC,eAAA,KAAkJxD,EAAA,aAAkBG,OAAO8C,KAAA,UAAAL,KAAA,QAAAvE,KAAA,WAAiD4E,KAAA,YAAgBpD,EAAAS,GAAA,UAAAT,EAAAS,GAAA,KAAAN,EAAA,aAA+C6B,aAAa4B,cAAA,QAAqBtD,OAAQyC,KAAA,QAAAvE,KAAA,WAAgC0C,IAAKU,MAAA5B,EAAAT,gBAA0BS,EAAAS,GAAA,kBAAAN,EAAA,WAAyCG,OAAOuD,cAAA,UAAsB1D,EAAA,gBAAqBG,OAAOqB,MAAA,UAAgBxB,EAAA,aAAkBG,OAAOwD,WAAA,GAAAC,OAAA,GAAAC,UAAA,GAAAC,gBAAAjE,EAAA9C,aAAA8D,YAAA,QAAA1F,QAAA0E,EAAA1E,SAAwH4F,IAAKC,OAAAnB,EAAApB,cAA0BwC,OAAQjG,MAAA6E,EAAA,cAAAqB,SAAA,SAAAC,GAAmDtB,EAAAnE,cAAAyF,GAAsBC,WAAA,kBAA6BvB,EAAAwB,GAAAxB,EAAA,oBAAA/B,EAAAiG,GAA+C,MAAA/D,GAAA,aAAuBuB,IAAAzD,EAAAU,GAAA2B,OAAmBqB,MAAA1D,EAAAC,SAAA/C,MAAA8C,SAAsC,GAAA+B,EAAAS,GAAA,KAAAT,EAAApE,UAAAgC,eAAAoC,EAAApE,UAAAgC,cAAAC,QAAA,WAAAsC,EAAA,gBAAsHG,OAAOqB,MAAA,OAAAW,KAAA,mBAAuCnC,EAAA,YAAiBiB,OAAOjG,MAAA6E,EAAApE,UAAA,cAAAyF,SAAA,SAAAC,GAA6DtB,EAAAvB,KAAAuB,EAAApE,UAAA,gBAAA0F,IAA8CC,WAAA,8BAAuC,GAAAvB,EAAAgD,MAAA,GAAAhD,EAAAS,GAAA,aAAAT,EAAApE,UAAA4C,KAAA2B,EAAA,OAAsEE,YAAA,gBAAAC,OAAmC8C,KAAA,UAAgBA,KAAA,WAAejD,EAAA,aAAkBe,IAAIU,MAAA,SAAAC,GAAyB7B,EAAArE,mBAAA,MAAgCqE,EAAAS,GAAA,SAAAT,EAAAS,GAAA,KAAAN,EAAA,aAA8CG,OAAO9B,KAAA,WAAiB0C,IAAKU,MAAA5B,EAAAhB,iBAA2BgB,EAAAS,GAAA,aAAAT,EAAAgD,MAAA,QAChxJmB,KHgUIC,EAAuBtJ,EAAoB,QCtT/CuJ,EAAAtJ,EAMAuJ,EAAArJ,OAAAmJ,EAAA,GACAhJ,EACA2E,EACAoE,GAXA,EAaAE,EATA,KAEA,KAYAxJ,GAAA,QAAAyJ,EAAA","file":"static/js/24.933f3b7746770d8f77c7.js","sourcesContent":["webpackJsonp([24],{\n\n/***/ \"4Nzc\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"EeEo\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=script&index=0!./src/components/system/recommend.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var recommend = ({\n  data: function data() {\n    return {\n      loading: false,\n      currentType: '',\n      typeList: [],\n      searchValue: '', // 推荐位类型ID\n      tableList: [],\n      dialogFormVisible: false,\n      formValue: {},\n      completeValue: '',\n      restaurant: [],\n      timeout: null,\n      dialogImageUrl: '',\n      dialogVisible: false,\n      bookclassid: ''\n      //   bookClassList: ''\n    };\n  },\n\n  methods: {\n    getRecommendList: function getRecommendList() {\n      var _this = this;\n\n      this.$ajax('/sys-getRecommendedPosition', {}, function (res) {\n        if (res.returnCode === 200) {\n          _this.typeList = res.data;\n          _this.searchValue = 0;\n          _this.search();\n        }\n      });\n    },\n    getBookClass: function getBookClass() {\n      var _this2 = this;\n\n      this.$ajax('/ranking-classification', {}, function (res) {\n        if (res.returnCode === 200) {\n          _this2.bookClassList = res.data;\n        }\n      }, 'get');\n    },\n    search: function search() {\n      var _this3 = this;\n\n      this.$ajax('/sys-getRecommendedPositionByType', {\n        RecommendpositionTypeid: this.typeList[this.searchValue].recommendType\n      }, function (res) {\n        if (res.returnCode === 200) {\n          _this3.tableList = _this3.typeList[_this3.searchValue].recommendType === 7 ? res.data.reverse() : res.data;\n        }\n      });\n    },\n    remoteMethod: function remoteMethod(query) {\n      var _this4 = this;\n\n      var str = this.$http.trim(query);\n      if (str.length > 0) {\n        this.loading = true;\n        var data = {\n          keyWord: str,\n          isHotWorld: 1,\n          startPage: 1\n        };\n        if (this.typeList[this.searchValue].recommendName.indexOf('分类推荐') > -1) {\n          data.bookClassificationId = this.typeList[this.searchValue].bookClassificationId;\n        }\n        this.$ajax('/stacks-search', data, function (res) {\n          _this4.loading = false;\n          if (res.returnCode === 200) {\n            res.data.list.forEach(function (item) {\n              item.value = item.bookName + ' (' + item.bookId + ')';\n            });\n            _this4.restaurant = res.data.list.filter(function (item) {\n              return item.bookName.toLowerCase().indexOf(query.toLowerCase()) > -1;\n            });\n          }\n        });\n      } else {\n        this.restaurant = [];\n      }\n    },\n    handleClick: function handleClick(val, type) {\n      var calssid = this.typeList[this.searchValue].bookClassificationId;\n\n      this.formValue = {};\n      //          for(let k=0,len=this.bookClassList.length;k<len;k++){\n      //              if(Number(calssid)===this.bookClassList[k].id){\n      //                console.log(val.recommendName.slice(0,val.recommendName.lastIndexOf(\"-\")) + \"-\" + this.bookClassList[k].classificationName);\n      // //              this.$set(this.formValue,'recommendName',val.recommendName);\n      //                break;\n      //              }\n      //          }\n      this.$set(this.formValue, 'type', type);\n      this.$set(this.formValue, 'bookImage', val.bookImage);\n      this.$set(this.formValue, 'id', val.id);\n      this.dialogImageUrl = '';\n      this.dialogFormVisible = true;\n    },\n    handleSelect: function handleSelect(k) {\n      this.formValue.bookimg = k.bookImage;\n      this.formValue.bookWriterId = k.bookWriterId;\n      this.formValue.bookId = k.bookId;\n    },\n\n    //      编辑推荐位信息\n    editRecommend: function editRecommend() {\n      var _this5 = this;\n\n      if (this.formValue.bookId) {\n        this.$ajax('/admin/updateActivityRecommendedPosition', this.formValue, function (res) {\n          _this5.dialogFormVisible = false;\n          if (res.returnCode === 200) {\n            _this5.completeValue = '';\n            _this5.formValue = {};\n            _this5.search();\n          }\n        });\n      } else {\n        console.log(this.formValue);\n      }\n    },\n    handlePictureCard: function handlePictureCard(file) {\n      this.formValue.bookImage = file.url;\n    },\n\n    //        手动上传图片\n    submitUpload: function submitUpload() {\n      this.$refs.upload.submit();\n    },\n\n    //        上传成功后回调\n    successBack: function successBack(res, file) {\n      this.$message(res.msg);\n      this.search();\n      this.dialogFormVisible = false;\n    }\n  },\n  created: function created() {\n    // this.getBookClass()\n    this.getRecommendList();\n  }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-961f47ae\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/system/recommend.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-recommend\"},[_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('p',[_vm._v(\"\\n      请选取推荐位类型，按类型搜索需要修改的推荐位。图片轮播和右侧小图推荐位需要单独上传图片，请编辑完成后点击换图进行图片更换\\n    \")]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"red\"},[_vm._v(\"特别提示：\")]),_vm._v(\"更换网站分类推荐时请添加当前分类下的书籍，否则将无法添加成功\\n    \")])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\",attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"xs\":18,\"sm\":12,\"md\":9,\"lg\":6,\"xl\":3}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"filter-method\":_vm.search},on:{\"change\":_vm.search},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}},_vm._l((_vm.typeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.recommendName,\"value\":index}})}))],1),_vm._v(\" \"),_c('el-button',{staticClass:\"fr\",on:{\"click\":function($event){_vm.$clearCache()}}},[_vm._v(\"清除缓存\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableList,\"border\":\"\",\"select\":\"row\",\"tooltip-effect\":\"dark\"}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"recommendOrder\",\"label\":\"序列号\",\"width\":\"60\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookId\",\"label\":\"书ID\",\"width\":\"60\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookName\",\"label\":\"书名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"writerName\",\"label\":\"作者\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"recommendName\",\"label\":\"推荐类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"书籍封面\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticClass:\"bookCover\",class:(scope.row.recommendType==5 || scope.row.recommendType==4 || scope.row.recommendType==3)?'mw-auto':'',attrs:{\"src\":scope.row.bookImage,\"alt\":scope.row.bookName}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"80\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.typeList[_vm.searchValue].recommendType==3 || _vm.typeList[_vm.searchValue].recommendType==4 || _vm.typeList[_vm.searchValue].recommendType==5)?_c('el-row',{staticClass:\"mb10\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleClick(scope.row,'pic')}}},[_vm._v(\"换图\")])],1):_vm._e(),_vm._v(\" \"),_c('el-row',[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleClick(scope.row,'edit')}}},[_vm._v(\"编辑\")])],1)]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.formValue.type=='edit'?'修改推荐位':'上传图片',\"width\":\"420px\",\"close-on-press-escape\":false,\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png文件，且不超过500kb\")]),_vm._v(\" \"),(_vm.formValue.type=='pic')?_c('div',{staticClass:\"cover-wrap\"},[_c('div',{staticClass:\"cover-preview\"},[_c('img',{attrs:{\"src\":_vm.formValue.bookImage,\"alt\":\"\"}})]),_vm._v(\" \"),_c('el-upload',{ref:\"upload\",staticClass:\"upload-recommend\",attrs:{\"name\":\"file\",\"data\":{ recommendid:_vm.formValue.id },\"show-file-list\":false,\"on-change\":_vm.handlePictureCard,\"on-success\":_vm.successBack,\"action\":\"/api/admin/updateimgUpload\",\"auto-upload\":false}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"选取文件\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":_vm.submitUpload}},[_vm._v(\"上传图片\")])],1)],1):_c('el-form',{attrs:{\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"书籍名称\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"remote\":\"\",\"clearable\":\"\",\"remote-method\":_vm.remoteMethod,\"placeholder\":\"请输入书名\",\"loading\":_vm.loading},on:{\"change\":_vm.handleSelect},model:{value:(_vm.completeValue),callback:function ($$v) {_vm.completeValue=$$v},expression:\"completeValue\"}},_vm._l((_vm.restaurant),function(item,$index){return _c('el-option',{key:item.id,attrs:{\"label\":item.bookName,\"value\":item}})}))],1),_vm._v(\" \"),(_vm.formValue.recommendName && _vm.formValue.recommendName.indexOf('分类推荐')>-1)?_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"prop\":\"recommendName\"}},[_c('el-input',{model:{value:(_vm.formValue.recommendName),callback:function ($$v) {_vm.$set(_vm.formValue, \"recommendName\", $$v)},expression:\"formValue.recommendName\"}})],1):_vm._e()],1),_vm._v(\" \"),(_vm.formValue.type=='edit')?_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editRecommend}},[_vm._v(\"确 定\")])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\n// EXTERNAL MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer.js\nvar component_normalizer = __webpack_require__(\"18Nq\");\n\n// CONCATENATED MODULE: ./src/components/system/recommend.vue\nfunction injectStyle (context) {\n  __webpack_require__(\"4Nzc\")\n}\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\n\nvar Component = Object(component_normalizer[\"a\" /* default */])(\n  recommend,\n  render,\n  staticRenderFns,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var system_recommend = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/24.933f3b7746770d8f77c7.js","function injectStyle (context) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=styles&index=0!./recommend.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./recommend.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-961f47ae\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=template&index=0!./recommend.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/system/recommend.vue\n// module id = null\n// module chunks = ","<template>\n   <div class=\"book-recommend\">\n     <el-alert\n       title=\"操作说明\"\n       type=\"info\"\n       show-icon>\n       <p>\n         请选取推荐位类型，按类型搜索需要修改的推荐位。图片轮播和右侧小图推荐位需要单独上传图片，请编辑完成后点击换图进行图片更换\n       </p>\n       <p>\n         <span class=\"red\">特别提示：</span>更换网站分类推荐时请添加当前分类下的书籍，否则将无法添加成功\n       </p>\n     </el-alert>\n     <el-row :gutter=\"10\" class=\"mbt20\">\n       <el-col :xs=\"18\" :sm=\"12\" :md=\"9\" :lg=\"6\" :xl=\"3\">\n         <el-select v-model=\"searchValue\" @change=\"search\" placeholder=\"请选择\" :filter-method=\"search\">\n           <el-option\n             v-for=\"(item,index) in typeList\"\n             :key=\"index\"\n             :label=\"item.recommendName\"\n             :value=\"index\">\n           </el-option>\n         </el-select>\n       </el-col>\n       <el-button class=\"fr\" @click=\"$clearCache()\">清除缓存</el-button>\n     </el-row>\n     <el-row >\n       <el-table\n          ref=\"multipleTable\"\n         :data=\"tableList\"\n         border\n         select=\"row\"\n         tooltip-effect=\"dark\"\n         style=\"width: 100%\">\n         \n         <el-table-column\n           type=\"selection\"\n           align=\"center\">\n         </el-table-column>\n         \n         <el-table-column\n          prop=\"recommendOrder\"\n          label=\"序列号\"\n          width=\"60\"\n          align=\"center\"\n         >\n         </el-table-column>\n         \n         <el-table-column\n           prop=\"bookId\"\n           label=\"书ID\"\n           width=\"60\"\n           align=\"center\">\n         </el-table-column>\n         \n         <el-table-column\n           prop=\"bookName\"\n           label=\"书名\"\n          >\n         </el-table-column>\n         \n         <el-table-column\n           prop=\"writerName\"\n           label=\"作者\"\n           >\n         </el-table-column>\n         \n         <el-table-column\n           prop=\"recommendName\"\n           label=\"推荐类型\"\n           >\n         </el-table-column>\n         \n         <el-table-column\n           align=\"center\"\n           label=\"书籍封面\"\n           >\n           <template slot-scope=\"scope\">\n             <img class=\"bookCover\"\n                  :class=\"(scope.row.recommendType==5 || scope.row.recommendType==4 || scope.row.recommendType==3)?'mw-auto':''\"\n                  :src=\"scope.row.bookImage\"\n                  :alt=\"scope.row.bookName\">\n           </template>\n         </el-table-column>\n         \n         <el-table-column\n           label=\"操作\"\n           width=\"80\"\n           align=\"center\">\n           <template slot-scope=\"scope\">\n             <el-row class=\"mb10\" v-if=\"typeList[searchValue].recommendType==3 || typeList[searchValue].recommendType==4 || typeList[searchValue].recommendType==5\">\n               <el-button  size=\"mini\" @click=\"handleClick(scope.row,'pic')\">换图</el-button>\n             </el-row>\n             <el-row >\n               <el-button size=\"mini\" @click=\"handleClick(scope.row,'edit')\" >编辑</el-button>\n             </el-row>\n           </template>\n         </el-table-column>\n       </el-table>\n     </el-row>\n     \n     <el-dialog\n       :title=\"formValue.type=='edit'?'修改推荐位':'上传图片'\"\n       width=\"420px\"\n       :close-on-press-escape=\"false\"\n       :visible.sync=\"dialogFormVisible\">\n       <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\n       <div class=\"cover-wrap\"  v-if=\"formValue.type=='pic'\">\n         <div class=\"cover-preview\">\n           <img :src=\"formValue.bookImage\" alt=\"\">\n         </div>\n         <el-upload\n           class=\"upload-recommend\"\n           ref=\"upload\"\n           name=\"file\"\n           :data=\"{ recommendid:formValue.id }\"\n           :show-file-list=\"false\"\n           :on-change=\"handlePictureCard\"\n           :on-success=\"successBack\"\n           action=\"/api/admin/updateimgUpload\"\n           :auto-upload=\"false\">\n           <el-button slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>\n           <el-button style=\"margin-left: 10px;\" size=\"small\" type=\"success\" @click=\"submitUpload\">上传图片</el-button>\n         </el-upload>\n       </div>\n      \n       <el-form label-width=\"70px\" v-else>\n         <el-form-item label=\"书籍名称\" >\n           <el-select\n             v-model=\"completeValue\"\n             filterable\n             remote\n             clearable\n             @change=\"handleSelect\"\n             :remote-method=\"remoteMethod\"\n             placeholder=\"请输入书名\"\n             :loading=\"loading\">\n             <el-option\n               v-for=\"(item,$index) in restaurant\"\n               :key=\"item.id\"\n               :label=\"item.bookName\"\n               :value=\"item\">\n             </el-option>\n           </el-select>\n         </el-form-item>\n         <el-form-item v-if=\"formValue.recommendName && formValue.recommendName.indexOf('分类推荐')>-1\" label=\"分类名称\" prop=\"recommendName\">\n           <el-input v-model=\"formValue.recommendName\"></el-input>\n         </el-form-item>\n       </el-form>\n       <div v-if=\"formValue.type=='edit'\" slot=\"footer\" class=\"dialog-footer\">\n         <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n         <el-button type=\"primary\" @click=\"editRecommend\">确 定</el-button>\n       </div>\n     </el-dialog>\n   </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n    export default{\n      data() {\n        return {\n          loading: false,\n          currentType: '',\n          typeList: [],\n          searchValue: '', // 推荐位类型ID\n          tableList: [],\n          dialogFormVisible: false,\n          formValue: {},\n          completeValue: '',\n          restaurant: [],\n          timeout: null,\n          dialogImageUrl: '',\n          dialogVisible: false,\n          bookclassid: '',\n        //   bookClassList: ''\n        }\n      },\n      methods: {\n        getRecommendList() {\n          this.$ajax('/sys-getRecommendedPosition', {}, res => {\n            if (res.returnCode === 200) {\n              this.typeList = res.data\n              this.searchValue = 0\n              this.search()\n            }\n          })\n        },\n        getBookClass() {\n          this.$ajax('/ranking-classification', {}, res => {\n            if (res.returnCode === 200) {\n              this.bookClassList = res.data\n            }\n          }, 'get')\n        },\n        search() {\n          this.$ajax('/sys-getRecommendedPositionByType', {\n            RecommendpositionTypeid: this.typeList[this.searchValue].recommendType\n          }, res => {\n            if (res.returnCode === 200) {\n              this.tableList = this.typeList[this.searchValue].recommendType === 7 ? res.data.reverse() : res.data\n            }\n          })\n        },\n        remoteMethod(query) {\n          const str = this.$http.trim(query)\n          if (str.length > 0) {\n            this.loading = true\n            const data = {\n              keyWord: str,\n              isHotWorld: 1,\n              startPage: 1\n            }\n            if (this.typeList[this.searchValue].recommendName.indexOf('分类推荐') > -1) {\n              data.bookClassificationId = this.typeList[this.searchValue].bookClassificationId\n            }\n            this.$ajax('/stacks-search', data, res => {\n              this.loading = false\n              if (res.returnCode === 200) {\n                res.data.list.forEach((item) => {\n                  item.value = item.bookName + ' (' + item.bookId + ')'\n                })\n                this.restaurant = res.data.list.filter(item => {\n                  return item.bookName.toLowerCase()\n                    .indexOf(query.toLowerCase()) > -1\n                })\n              }\n            })\n          } else {\n            this.restaurant = []\n          }\n        },\n        handleClick(val, type) {\n          const calssid = this.typeList[this.searchValue].bookClassificationId\n    \n          this.formValue = {}\n//          for(let k=0,len=this.bookClassList.length;k<len;k++){\n//              if(Number(calssid)===this.bookClassList[k].id){\n//                console.log(val.recommendName.slice(0,val.recommendName.lastIndexOf(\"-\")) + \"-\" + this.bookClassList[k].classificationName);\n// //              this.$set(this.formValue,'recommendName',val.recommendName);\n//                break;\n//              }\n//          }\n          this.$set(this.formValue, 'type', type)\n          this.$set(this.formValue, 'bookImage', val.bookImage)\n          this.$set(this.formValue, 'id', val.id)\n          this.dialogImageUrl = ''\n          this.dialogFormVisible = true\n    },\n        handleSelect(k) {\n          this.formValue.bookimg = k.bookImage\n          this.formValue.bookWriterId = k.bookWriterId\n          this.formValue.bookId = k.bookId\n    },\n//      编辑推荐位信息\n        editRecommend() {\n          if (this.formValue.bookId) {\n            this.$ajax('/admin/updateActivityRecommendedPosition', this.formValue, res => {\n              this.dialogFormVisible = false\n              if (res.returnCode === 200) {\n                this.completeValue = ''\n                this.formValue = {}\n                this.search()\n              }\n            })\n          } else {\n            console.log(this.formValue)\n          }\n        },\n        handlePictureCard(file) {\n          this.formValue.bookImage = file.url\n    },\n//        手动上传图片\n        submitUpload() {\n          this.$refs.upload.submit()\n    },\n//        上传成功后回调\n        successBack(res, file) {\n          this.$message(res.msg)\n          this.search()\n          this.dialogFormVisible = false\n    }\n      },\n  created() {\n        // this.getBookClass()\n        this.getRecommendList()\n      }\n    \n    }\n</script>\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n.book-recommend\n  .el-select\n    width 100%\n  .el-dialog__body\n    padding 10px 20px 30px\n.el-table\n  .cell\n    .bookCover\n      width 60px\n      /*height 140px*/\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/system/recommend.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-recommend\"},[_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('p',[_vm._v(\"\\n      请选取推荐位类型，按类型搜索需要修改的推荐位。图片轮播和右侧小图推荐位需要单独上传图片，请编辑完成后点击换图进行图片更换\\n    \")]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"red\"},[_vm._v(\"特别提示：\")]),_vm._v(\"更换网站分类推荐时请添加当前分类下的书籍，否则将无法添加成功\\n    \")])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\",attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"xs\":18,\"sm\":12,\"md\":9,\"lg\":6,\"xl\":3}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"filter-method\":_vm.search},on:{\"change\":_vm.search},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}},_vm._l((_vm.typeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.recommendName,\"value\":index}})}))],1),_vm._v(\" \"),_c('el-button',{staticClass:\"fr\",on:{\"click\":function($event){_vm.$clearCache()}}},[_vm._v(\"清除缓存\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableList,\"border\":\"\",\"select\":\"row\",\"tooltip-effect\":\"dark\"}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"recommendOrder\",\"label\":\"序列号\",\"width\":\"60\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookId\",\"label\":\"书ID\",\"width\":\"60\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bookName\",\"label\":\"书名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"writerName\",\"label\":\"作者\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"recommendName\",\"label\":\"推荐类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"书籍封面\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticClass:\"bookCover\",class:(scope.row.recommendType==5 || scope.row.recommendType==4 || scope.row.recommendType==3)?'mw-auto':'',attrs:{\"src\":scope.row.bookImage,\"alt\":scope.row.bookName}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"80\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.typeList[_vm.searchValue].recommendType==3 || _vm.typeList[_vm.searchValue].recommendType==4 || _vm.typeList[_vm.searchValue].recommendType==5)?_c('el-row',{staticClass:\"mb10\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleClick(scope.row,'pic')}}},[_vm._v(\"换图\")])],1):_vm._e(),_vm._v(\" \"),_c('el-row',[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.handleClick(scope.row,'edit')}}},[_vm._v(\"编辑\")])],1)]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.formValue.type=='edit'?'修改推荐位':'上传图片',\"width\":\"420px\",\"close-on-press-escape\":false,\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png文件，且不超过500kb\")]),_vm._v(\" \"),(_vm.formValue.type=='pic')?_c('div',{staticClass:\"cover-wrap\"},[_c('div',{staticClass:\"cover-preview\"},[_c('img',{attrs:{\"src\":_vm.formValue.bookImage,\"alt\":\"\"}})]),_vm._v(\" \"),_c('el-upload',{ref:\"upload\",staticClass:\"upload-recommend\",attrs:{\"name\":\"file\",\"data\":{ recommendid:_vm.formValue.id },\"show-file-list\":false,\"on-change\":_vm.handlePictureCard,\"on-success\":_vm.successBack,\"action\":\"/api/admin/updateimgUpload\",\"auto-upload\":false}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"选取文件\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":_vm.submitUpload}},[_vm._v(\"上传图片\")])],1)],1):_c('el-form',{attrs:{\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"书籍名称\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"remote\":\"\",\"clearable\":\"\",\"remote-method\":_vm.remoteMethod,\"placeholder\":\"请输入书名\",\"loading\":_vm.loading},on:{\"change\":_vm.handleSelect},model:{value:(_vm.completeValue),callback:function ($$v) {_vm.completeValue=$$v},expression:\"completeValue\"}},_vm._l((_vm.restaurant),function(item,$index){return _c('el-option',{key:item.id,attrs:{\"label\":item.bookName,\"value\":item}})}))],1),_vm._v(\" \"),(_vm.formValue.recommendName && _vm.formValue.recommendName.indexOf('分类推荐')>-1)?_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"prop\":\"recommendName\"}},[_c('el-input',{model:{value:(_vm.formValue.recommendName),callback:function ($$v) {_vm.$set(_vm.formValue, \"recommendName\", $$v)},expression:\"formValue.recommendName\"}})],1):_vm._e()],1),_vm._v(\" \"),(_vm.formValue.type=='edit')?_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editRecommend}},[_vm._v(\"确 定\")])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-961f47ae\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/system/recommend.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}