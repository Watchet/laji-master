{"version":3,"sources":["webpack:///static/js/29.335bd4155f5739e69fd5.js","webpack:///./src/page/power/admin.vue","webpack:///src/page/power/admin.vue","webpack:///./src/page/power/admin.vue?d22b"],"names":["webpackJsonp","GITK","module","exports","rOYG","__webpack_exports__","__webpack_require__","injectStyle","context","Object","defineProperty","value","stringify","stringify_default","n","admin","data","dialogType","dialogVisible","adminMemberList","keywords","selectType","centerDialogVisible","fileList","file","uploadData","memberInfo","userName","userPassword","droitInfo","shows","deletes","updates","adds","toExamine","menuList","typeList","droitList","methods","getMemberList","_this","this","searchValue","page","$route","params","$ajax","res","returnCode","delMember","row","_this2","$confirm","confirmButtonText","cancelButtonText","type","then","id","userId","$message","message","msg","addAdminMember","formName","_this3","$refs","validate","valid","editDroitInfo","val","_this4","sub","subData","JSON","parse","toString","String","split","$set","editMemberInfo","_this5","$prompt","inputPattern","inputErrorMessage","_ref","catch","getDroitList","_this6","allRoleMenuList","pageChange","$router","push","dialogSync","created","watch","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","show-icon","_v","size","on","click","$event","ref","staticStyle","width","list","border","select","align","prop","label","scopedSlots","_u","key","fn","scope","_s","_f","loginTime","$store","state","userInfo","adminRolemenuanduserrole","href","_e","background","pageSize","layout","total","current-change","visible","update:visible","label-width","model","rules","required","callback","$$v","expression","gutter","span","readonly","placeholder","multiple","_l","item","menuName","staticRenderFns","component_normalizer","__vue_styles__","Component"],"mappings":"AAAAA,cAAc,KAERC,KACA,SAAUC,EAAQC,KAMlBC,KACA,SAAUF,EAAQG,EAAqBC,GAE7C,YCZA,SAAAC,GAAAC,GACAF,EAAA,QDYAG,OAAOC,eAAeL,EAAqB,cAAgBM,OAAO,GAGlE,IAAIC,GAAYN,EAAoB,QAChCO,EAAiCP,EAAoBQ,EAAEF,GEkL3DG,GACAC,KADA,WAEA,OACAC,WAAA,MACAC,eAAA,EACAC,mBACAC,SAAA,GACAC,WAAA,GACAC,qBAAA,EACAC,YACAC,QACAC,cACAC,YACAC,SAAA,GACAC,aAAA,IAEAC,WACAC,MAAA,EACAC,QAAA,EACAC,QAAA,EACAC,KAAA,EACAC,UAAA,EACAC,aAEAC,YACAC,eAGAC,SACAC,cADA,WACA,GAAAC,GAAAC,KACAC,GACAC,KAAAF,KAAAG,OAAAC,OAAAF,KAEAF,MAAAK,MAAA,0BAAAJ,EAAA,SAAAK,GACA,MAAAA,EAAAC,WACAR,EAAArB,gBAAA4B,EAAA/B,KACA+B,EAAA/B,OACAwB,EAAArB,uBAIA8B,UAbA,SAaAC,GAAA,GAAAC,GAAAV,IACAA,MAAAW,SAAA,2BACAC,kBAAA,KACAC,iBAAA,KACAC,KAAA,YACAC,KAAA,WACAL,EAAAL,MAAA,0BAAAW,GAAAP,EAAAQ,QAAA,SAAAX,GACAI,EAAAjC,eAAA,EACA,MAAA6B,EAAAC,aACAG,EAAAZ,gBACAY,EAAAQ,UAAAC,QAAAb,EAAAc,IAAAN,KAAA,kBAKAO,eA5BA,SA4BAC,GAAA,GAAAC,GAAAvB,IACAA,MAAAwB,MAAAF,GAAAG,SAAA,SAAAC,GACA,IAAAA,EASA,QARAH,GAAAlB,MAAA,sBAAAkB,EAAAtC,WAAA,SAAAqB,GACAiB,EAAA9C,eAAA,EACA,MAAA6B,EAAAC,aACAgB,EAAAzB,gBACAyB,EAAAL,UAAAC,QAAAb,EAAAc,IAAAN,KAAA,kBAQAa,cA3CA,SA2CAb,EAAAc,GAAA,GAAAC,GAAA7B,KACA8B,MAAA,EACA,aAAAhB,EAAA,CACA,GAAAiB,GAAAC,KAAAC,MAAA7D,IAAA4B,KAAAZ,WACA2C,GAAArC,SAAAqC,EAAArC,SAAAwC,WACAH,EAAAjB,KAAA,EACAgB,EAAAC,MAEAD,IACAb,OAAAW,EAAAX,OACAH,KAAA,WAAAA,EAAA,IAGAd,MAAAK,MAAA,qCAAAyB,EAAA,SAAAxB,GACA,WAAAQ,IACAe,EAAApD,eAAA,GAEA,MAAA6B,EAAAC,WACA,WAAAO,GACAR,EAAA/B,KAAAmB,SAAAsC,KAAAC,MAAA,IAAAE,OAAA7B,EAAA/B,KAAAmB,SAAA0C,MAAA,WACAP,EAAAzC,UAAAkB,EAAA/B,KACAsD,EAAAQ,KAAAR,EAAAzC,UAAA,WAAAwC,EAAA1C,WAEA2C,EAAAX,UAAAC,QAAAb,EAAAc,IAAAN,KAAA,YAEAR,EAAA/B,MAAA,WAAAuC,IACAe,EAAAzC,UAAAM,gBAIA4C,eAzEA,SAyEA7B,GAAA,GAAA8B,GAAAvC,IACAA,MAAAwC,QAAA,iBACA5B,kBAAA,KACAC,iBAAA,KACA4B,aAAA,oBACAC,kBAAA,0BACA3B,KAAA,SAAA4B,GAAA,GAAAzE,GAAAyE,EAAAzE,KACAqE,GAAAlC,MAAA,0BACAW,GAAAP,EAAAO,GACA7B,aAAAjB,GACA,SAAAoC,GACA,MAAAA,EAAAC,YACAgC,EAAArB,UACAJ,KAAA,UACAK,QAAAb,EAAAc,UAIAwB,MAAA,eAGAC,aA9FA,WA8FA,GAAAC,GAAA9C,IACAA,MAAAK,MAAA,qCAAAC,GACA,MAAAA,EAAAC,aAEAuC,EAAAlD,UAAAU,EAAA/B,KAAAwE,oBAIAC,WAtGA,SAsGA9C,GACAF,KAAAiD,QAAAC,MAAA9C,QAAAF,WAEAiD,WAzGA,SAyGArC,EAAAL,GACAT,KAAAxB,WAAAsC,EACAd,KAAAvB,eAAA,EACA,SAAAqC,IACAd,KAAAqC,KAAArC,KAAAZ,UAAA,WAAAqB,EAAAvB,UACAc,KAAAqC,KAAArC,KAAAZ,UAAA,SAAAqB,EAAAQ,QAEAjB,KAAA6C,eACA7C,KAAA2B,cAAA,SAAAlB,MAIA2C,QAjJA,WAkJApD,KAAAF,iBAEAuD,OACAlD,OAAA,WACAH,KAAAF,mBCzVAwD,EAAA,WAA0B,GAAAC,GAAAvD,KAAawD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,OAAiBE,YAAA,oBAA8BF,EAAA,YAAiBG,OAAOC,MAAA,OAAAhD,KAAA,OAAAiD,YAAA,MAA6CL,EAAA,KAAAH,EAAAS,GAAA,gCAAAT,EAAAS,GAAA,KAAAN,EAAA,KAAAA,EAAA,QAAgFE,YAAA,QAAkBL,EAAAS,GAAA,SAAAT,EAAAS,GAAA,oDAAAT,EAAAS,GAAA,KAAAN,EAAA,UAAsGE,YAAA,UAAoBF,EAAA,aAAkBG,OAAOI,KAAA,UAAgBC,IAAKC,MAAA,SAAAC,GAAyBb,EAAAJ,WAAA,WAAwBI,EAAAS,GAAA,YAAAT,EAAAS,GAAA,KAAAN,EAAA,UAA8CE,YAAA,UAAoBF,EAAA,YAAiBW,IAAA,gBAAAC,aAAiCC,MAAA,QAAeV,OAAQtF,KAAAgF,EAAA7E,gBAAA8F,KAAAC,OAAA,GAAAC,OAAA,SAA4DhB,EAAA,mBAAwBG,OAAO/C,KAAA,YAAA6D,MAAA,YAAqCpB,EAAAS,GAAA,KAAAN,EAAA,mBAAoCG,OAAOe,KAAA,SAAAC,MAAA,KAAAN,MAAA,KAAAI,MAAA,YAA4DpB,EAAAS,GAAA,KAAAN,EAAA,mBAAoCG,OAAOe,KAAA,WAAAC,MAAA,MAAAF,MAAA,YAAkDpB,EAAAS,GAAA,KAAAN,EAAA,mBAAoCG,OAAOe,KAAA,cAAAC,MAAA,QAAoCC,YAAAvB,EAAAwB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAxB,EAAA,QAAAH,EAAAS,GAAAT,EAAA4B,GAAA5B,EAAA6B,GAAA,QAAAF,EAAAzE,IAAA4E,UAAA,mBAAqF9B,EAAAS,GAAA,KAAAN,EAAA,mBAAoCG,OAAOe,KAAA,UAAAC,MAAA,YAAmCtB,EAAAS,GAAA,KAAAN,EAAA,mBAAoCG,OAAOc,MAAA,SAAAE,MAAA,KAAAN,MAAA,MAA2CO,YAAAvB,EAAAwB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAA,EAAAzE,IAAA,UAAAiD,EAAA,QAAyCE,YAAA,QAAkBL,EAAAS,GAAA,QAAAN,EAAA,QAA4BE,YAAA,UAAoBL,EAAAS,GAAA,eAAsBT,EAAAS,GAAA,KAAAT,EAAA+B,OAAAC,MAAAC,UAAAjC,EAAA+B,OAAAC,MAAAC,SAAAC,yBAAAlG,QAAAmE,EAAA,mBAA8HG,OAAOgB,MAAA,KAAAF,MAAA,UAA8BG,YAAAvB,EAAAwB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAxB,EAAA,KAAgBE,YAAA,MAAAM,IAAsBC,MAAA,SAAAC,GAAyBb,EAAAjB,eAAA4C,EAAAzE,SAAgC8C,EAAAS,GAAA,oCAAAN,EAAA,MAAAH,EAAAS,GAAA,KAAAN,EAAA,KAA0EE,YAAA,MAAAM,IAAsBC,MAAA,SAAAC,GAAyBb,EAAAJ,WAAA,OAAA+B,EAAAzE,SAAmC8C,EAAAS,GAAA,kCAAAT,EAAAS,GAAA,KAAAN,EAAA,KAA+DE,YAAA,UAAAC,OAA6B6B,KAAA,iBAAuBxB,IAAKC,MAAA,SAAAC,GAAyBb,EAAA/C,UAAA0E,EAAAzE,SAA2B8C,EAAAS,GAAA,eAAsBT,EAAAoC,MAAA,GAAApC,EAAAS,GAAA,KAAAT,EAAA7E,gBAAA,KAAAgF,EAAA,iBAA0EE,YAAA,QAAAC,OAA2B+B,WAAA,GAAAC,SAAAtC,EAAA7E,gBAAAmH,SAAAC,OAAA,4BAAAC,MAAAxC,EAAA7E,gBAAAqH,OAA+H7B,IAAK8B,iBAAAzC,EAAAP,cAAiCO,EAAAoC,MAAA,GAAApC,EAAAS,GAAA,KAAAN,EAAA,aAA2CE,YAAA,qBAAAC,OAAwCC,MAAA,QAAAP,EAAA/E,WAAA,eAAAyH,QAAA1C,EAAA9E,cAAA8F,MAAA,QAAAhB,EAAA/E,WAAA,iBAAyH0F,IAAKgC,iBAAA,SAAA9B,GAAkCb,EAAA9E,cAAA2F,MAA2B,QAAAb,EAAA/E,WAAAkF,EAAA,WAAyCW,IAAA,YAAAR,OAAuBsC,cAAA,OAAAlC,KAAA,SAAAmC,MAAA7C,EAAAtE,cAA6DyE,EAAA,gBAAqBG,OAAOgB,MAAA,MAAAwB,QAAwBC,UAAA,EAAAnF,QAAA,cAAkCuC,EAAA,YAAiB0C,OAAOlI,MAAAqF,EAAAtE,WAAA,SAAAsH,SAAA,SAAAC,GAAyDjD,EAAAlB,KAAAkB,EAAAtE,WAAA,WAAAuH,IAA0CC,WAAA,0BAAmC,GAAAlD,EAAAS,GAAA,KAAAN,EAAA,gBAAqCG,OAAOwC,QAAUC,UAAA,EAAAnF,QAAA,UAA8B0D,MAAA,UAAkBnB,EAAA,YAAiB0C,OAAOlI,MAAAqF,EAAAtE,WAAA,aAAAsH,SAAA,SAAAC,GAA6DjD,EAAAlB,KAAAkB,EAAAtE,WAAA,eAAAuH,IAA8CC,WAAA,8BAAuC,GAAAlD,EAAAS,GAAA,KAAAN,EAAA,gBAAqCE,YAAA,gBAA0BF,EAAA,aAAkBG,OAAOI,KAAA,UAAgBC,IAAKC,MAAA,SAAAC,GAAyBb,EAAA9E,eAAA,MAA4B8E,EAAAS,GAAA,SAAAT,EAAAS,GAAA,KAAAN,EAAA,aAA8CG,OAAOI,KAAA,SAAAnD,KAAA,WAAiCoD,IAAKC,MAAA,SAAAC,GAAyBb,EAAAlC,eAAA,iBAAkCkC,EAAAS,GAAA,iBAAAT,EAAAoC,KAAApC,EAAAS,GAAA,cAAAT,EAAA/E,WAAAkF,EAAA,WAAuFW,IAAA,gBAAAR,OAA2BsC,cAAA,OAAAlC,KAAA,SAAAmC,MAAA7C,EAAAnE,aAA4DsE,EAAA,UAAeE,YAAA,OAAAC,OAA0B6C,OAAA,MAAahD,EAAA,UAAeG,OAAO8C,KAAA,MAAWjD,EAAA,gBAAqBG,OAAOgB,MAAA,SAAenB,EAAA,YAAiBG,OAAO+C,SAAA,IAAcR,OAAQlI,MAAAqF,EAAAnE,UAAA,SAAAmH,SAAA,SAAAC,GAAwDjD,EAAAlB,KAAAkB,EAAAnE,UAAA,WAAAoH,IAAyCC,WAAA,yBAAkC,OAAAlD,EAAAS,GAAA,KAAAN,EAAA,UAAmCG,OAAO8C,KAAA,MAAWjD,EAAA,gBAAqBG,OAAOgB,MAAA,SAAenB,EAAA,aAAkBG,OAAOgD,YAAA,OAAoBT,OAAQlI,MAAAqF,EAAAnE,UAAA,UAAAmH,SAAA,SAAAC,GAAyDjD,EAAAlB,KAAAkB,EAAAnE,UAAA,YAAAoH,IAA0CC,WAAA,yBAAmC/C,EAAA,aAAkBG,OAAOgB,MAAA,IAAA3G,MAAA,KAAuBqF,EAAAS,GAAA,KAAAN,EAAA,aAA8BG,OAAOgB,MAAA,IAAA3G,MAAA,MAAuB,eAAAqF,EAAAS,GAAA,KAAAN,EAAA,UAA2CE,YAAA,OAAAC,OAA0B6C,OAAA,MAAahD,EAAA,UAAeG,OAAO8C,KAAA,MAAWjD,EAAA,gBAAqBG,OAAOgB,MAAA,SAAenB,EAAA,aAAkBG,OAAOgD,YAAA,OAAoBT,OAAQlI,MAAAqF,EAAAnE,UAAA,KAAAmH,SAAA,SAAAC,GAAoDjD,EAAAlB,KAAAkB,EAAAnE,UAAA,OAAAoH,IAAqCC,WAAA,oBAA8B/C,EAAA,aAAkBG,OAAOgB,MAAA,IAAA3G,MAAA,KAAuBqF,EAAAS,GAAA,KAAAN,EAAA,aAA8BG,OAAOgB,MAAA,IAAA3G,MAAA,MAAuB,WAAAqF,EAAAS,GAAA,KAAAN,EAAA,UAAuCG,OAAO8C,KAAA,MAAWjD,EAAA,gBAAqBG,OAAOgB,MAAA,SAAenB,EAAA,aAAkBG,OAAOgD,YAAA,OAAoBT,OAAQlI,MAAAqF,EAAAnE,UAAA,QAAAmH,SAAA,SAAAC,GAAuDjD,EAAAlB,KAAAkB,EAAAnE,UAAA,UAAAoH,IAAwCC,WAAA,uBAAiC/C,EAAA,aAAkBG,OAAOgB,MAAA,IAAA3G,MAAA,KAAuBqF,EAAAS,GAAA,KAAAN,EAAA,aAA8BG,OAAOgB,MAAA,IAAA3G,MAAA,MAAuB,eAAAqF,EAAAS,GAAA,KAAAN,EAAA,UAA2CE,YAAA,OAAAC,OAA0B6C,OAAA,MAAahD,EAAA,UAAeG,OAAO8C,KAAA,MAAWjD,EAAA,gBAAqBG,OAAOgB,MAAA,SAAenB,EAAA,aAAkBG,OAAOgD,YAAA,OAAoBT,OAAQlI,MAAAqF,EAAAnE,UAAA,MAAAmH,SAAA,SAAAC,GAAqDjD,EAAAlB,KAAAkB,EAAAnE,UAAA,QAAAoH,IAAsCC,WAAA,qBAA+B/C,EAAA,aAAkBG,OAAOgB,MAAA,IAAA3G,MAAA,KAAuBqF,EAAAS,GAAA,KAAAN,EAAA,aAA8BG,OAAOgB,MAAA,IAAA3G,MAAA,MAAuB,WAAAqF,EAAAS,GAAA,KAAAN,EAAA,UAAuCG,OAAO8C,KAAA,MAAWjD,EAAA,gBAAqBG,OAAOgB,MAAA,SAAenB,EAAA,aAAkBG,OAAOgD,YAAA,OAAoBT,OAAQlI,MAAAqF,EAAAnE,UAAA,QAAAmH,SAAA,SAAAC,GAAuDjD,EAAAlB,KAAAkB,EAAAnE,UAAA,UAAAoH,IAAwCC,WAAA,uBAAiC/C,EAAA,aAAkBG,OAAOgB,MAAA,IAAA3G,MAAA,KAAuBqF,EAAAS,GAAA,KAAAN,EAAA,aAA8BG,OAAOgB,MAAA,IAAA3G,MAAA,MAAuB,eAAAqF,EAAAS,GAAA,KAAAN,EAAA,UAA2CE,YAAA,SAAmBF,EAAA,gBAAqBG,OAAOgB,MAAA,SAAenB,EAAA,aAAkBG,OAAOiD,SAAA,GAAAD,YAAA,OAAkCT,OAAQlI,MAAAqF,EAAAnE,UAAA,SAAAmH,SAAA,SAAAC,GAAwDjD,EAAAlB,KAAAkB,EAAAnE,UAAA,WAAAoH,IAAyCC,WAAA,uBAAkClD,EAAAwD,GAAAxD,EAAA,mBAAAyD,GAAuC,MAAAtD,GAAA,aAAuBsB,IAAAgC,EAAAhG,GAAA6C,OAAmBgB,MAAAmC,EAAAC,SAAA/I,MAAA8I,EAAAhG,UAAyC,OAAAuC,EAAAS,GAAA,KAAAN,EAAA,gBAA0CE,YAAA,gBAA0BF,EAAA,aAAkBG,OAAOI,KAAA,UAAgBC,IAAKC,MAAA,SAAAC,GAAyBb,EAAA9E,eAAA,MAA4B8E,EAAAS,GAAA,SAAAT,EAAAS,GAAA,KAAAN,EAAA,aAA8CG,OAAOI,KAAA,SAAAnD,KAAA,WAAiCoD,IAAKC,MAAA,SAAAC,GAAyBb,EAAA5B,cAAA,YAA4B4B,EAAAS,GAAA,iBAAAT,EAAAoC,MAAA,QACvzNuB,KHqYIC,EAAuBtJ,EAAoB,QC3X/CuJ,EAAAtJ,EAMAuJ,EAAArJ,OAAAmJ,EAAA,GACA7I,EACAgF,EACA4D,GAXA,EAaAE,EATA,KAEA,KAYAxJ,GAAA,QAAAyJ,EAAA","file":"static/js/29.335bd4155f5739e69fd5.js","sourcesContent":["webpackJsonp([29],{\n\n/***/ \"GITK\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"rOYG\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/json/stringify.js\nvar stringify = __webpack_require__(\"3cXf\");\nvar stringify_default = /*#__PURE__*/__webpack_require__.n(stringify);\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=script&index=0!./src/page/power/admin.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var admin = ({\n  data: function data() {\n    return {\n      dialogType: 'add',\n      dialogVisible: false,\n      adminMemberList: {},\n      keywords: '',\n      selectType: '',\n      centerDialogVisible: false,\n      fileList: [],\n      file: [],\n      uploadData: {},\n      memberInfo: {\n        userName: '',\n        userPassword: ''\n      },\n      droitInfo: {\n        shows: 1,\n        deletes: 0,\n        updates: 0,\n        adds: 0,\n        toExamine: 1,\n        menuList: []\n      },\n      typeList: [],\n      droitList: []\n    };\n  },\n\n  methods: {\n    getMemberList: function getMemberList() {\n      var _this = this;\n\n      var searchValue = {\n        page: this.$route.params.page\n      };\n      this.$ajax('/admin/getAdminInfoList', searchValue, function (res) {\n        if (res.returnCode === 200) {\n          _this.adminMemberList = res.data;\n        } else if (!res.data) {\n          _this.adminMemberList = {};\n        }\n      });\n    },\n    delMember: function delMember(row) {\n      var _this2 = this;\n\n      this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this2.$ajax('/admin/deleteAdminInfo', { id: row.userId }, function (res) {\n          _this2.dialogVisible = false;\n          if (res.returnCode === 200) {\n            _this2.getMemberList();\n            _this2.$message({ message: res.msg, type: 'success' });\n          }\n        });\n      });\n    },\n    addAdminMember: function addAdminMember(formName) {\n      var _this3 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this3.$ajax('/admin/addAdminInfo', _this3.memberInfo, function (res) {\n            _this3.dialogVisible = false;\n            if (res.returnCode === 200) {\n              _this3.getMemberList();\n              _this3.$message({ message: res.msg, type: 'success' });\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    editDroitInfo: function editDroitInfo(type, val) {\n      var _this4 = this;\n\n      var sub = void 0;\n      if (type === 'edit') {\n        var subData = JSON.parse(stringify_default()(this.droitInfo));\n        subData.menuList = subData.menuList.toString();\n        subData.type = 2;\n        sub = subData;\n      } else {\n        sub = {\n          userId: val.userId,\n          type: type === 'search' ? 1 : 3\n        };\n      }\n      this.$ajax('/admin/getAdminRolemenuanduserrole', sub, function (res) {\n        if (type !== 'search') {\n          _this4.dialogVisible = false;\n        }\n        if (res.returnCode === 200) {\n          if (type === 'search') {\n            res.data.menuList = JSON.parse('[' + String(res.data.menuList.split(',')) + ']');\n            _this4.droitInfo = res.data;\n            _this4.$set(_this4.droitInfo, 'userName', val.userName);\n          } else {\n            _this4.$message({ message: res.msg, type: 'success' });\n          }\n        } else if (!res.data && type === 'search') {\n          _this4.droitInfo.menuList = [];\n        }\n      });\n    },\n    editMemberInfo: function editMemberInfo(row) {\n      var _this5 = this;\n\n      this.$prompt('请输入新密码', '修改密码', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        inputPattern: /[a-zA-Z\\d_]{6,18}/,\n        inputErrorMessage: '密码只能包含数字、字母和_，长度6-18位'\n      }).then(function (_ref) {\n        var value = _ref.value;\n\n        _this5.$ajax('/admin/updateAdminInfo', {\n          id: row.id,\n          userPassword: value\n        }, function (res) {\n          if (res.returnCode === 200) {\n            _this5.$message({\n              type: 'success',\n              message: res.msg\n            });\n          }\n        });\n      }).catch(function () {});\n    },\n    getDroitList: function getDroitList() {\n      var _this6 = this;\n\n      this.$ajax('/admin-RefreshRoleMenu', '', function (res) {\n        if (res.returnCode === 200) {\n          // this.droitList = JSON.parse(sessionStorage.getItem('user_info')).allRoleMenuList\n          _this6.droitList = res.data.allRoleMenuList;\n        }\n      });\n    },\n    pageChange: function pageChange(page) {\n      this.$router.push({ params: { page: page } });\n    },\n    dialogSync: function dialogSync(type, row) {\n      this.dialogType = type;\n      this.dialogVisible = true;\n      if (type === 'edit') {\n        this.$set(this.droitInfo, 'userName', row.userName);\n        this.$set(this.droitInfo, 'userId', row.userId);\n        // console.log(this.droitInfo);\n        this.getDroitList();\n        this.editDroitInfo('search', row);\n      }\n    }\n  },\n  created: function created() {\n    this.getMemberList();\n  },\n\n  watch: {\n    '$route': function $route() {\n      this.getMemberList();\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-c1cf6ab2\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/page/power/admin.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"admin-user-wrap\"},[_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('p',[_vm._v(\"\\n      此表是本站全部管理员信息\\n    \")]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"red\"},[_vm._v(\"ps：\")]),_vm._v(\"添加新用户时第一次设置权限是初始化用户权限，设置用户权限是需要进行第二次操作\\n    \")])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){_vm.dialogSync('add')}}},[_vm._v(\"添加\")])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.adminMemberList.list,\"border\":\"\",\"select\":\"row\"}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userId\",\"label\":\"ID\",\"width\":\"50\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"用户名\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"lastLogTime\",\"label\":\"最近登录\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"time\")(scope.row.loginTime,'long')))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"loginIP\",\"label\":\"最新登录IP\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"状态\",\"width\":\"50\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.userState)?_c('span',{staticClass:\"red\"},[_vm._v(\"锁定\")]):_c('span',{staticClass:\"green\"},[_vm._v(\"正常\")])]}}])}),_vm._v(\" \"),(_vm.$store.state.userInfo && _vm.$store.state.userInfo.adminRolemenuanduserrole.updates)?_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{staticClass:\"btn\",on:{\"click\":function($event){_vm.editMemberInfo(scope.row)}}},[_vm._v(\"\\n            修改密码\\n          \")]),_c('br'),_vm._v(\" \"),_c('a',{staticClass:\"btn\",on:{\"click\":function($event){_vm.dialogSync('edit',scope.row)}}},[_vm._v(\"\\n            权限\\n          \")]),_vm._v(\" \"),_c('a',{staticClass:\"btn red\",attrs:{\"href\":\"javascript:0;\"},on:{\"click\":function($event){_vm.delMember(scope.row)}}},[_vm._v(\"删除\")])]}}])}):_vm._e()],1),_vm._v(\" \"),(_vm.adminMemberList.list)?_c('el-pagination',{staticClass:\"mbt20\",attrs:{\"background\":\"\",\"pageSize\":_vm.adminMemberList.pageSize,\"layout\":\"prev, pager, next, jumper\",\"total\":_vm.adminMemberList.total},on:{\"current-change\":_vm.pageChange}}):_vm._e()],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"dialog-submit-form\",attrs:{\"title\":_vm.dialogType==='add'?'添加新用户':'权限管理',\"visible\":_vm.dialogVisible,\"width\":_vm.dialogType==='add'?'380px':'680px'},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[(_vm.dialogType==='add')?_c('el-form',{ref:\"addMember\",attrs:{\"label-width\":\"80px\",\"size\":\"medium\",\"model\":_vm.memberInfo}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"rules\":[{required:true,message:'请填写用户名'}]}},[_c('el-input',{model:{value:(_vm.memberInfo.userName),callback:function ($$v) {_vm.$set(_vm.memberInfo, \"userName\", $$v)},expression:\"memberInfo.userName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"rules\":[{required:true,message:'请填写密码'}],\"label\":\"密  码\"}},[_c('el-input',{model:{value:(_vm.memberInfo.userPassword),callback:function ($$v) {_vm.$set(_vm.memberInfo, \"userPassword\", $$v)},expression:\"memberInfo.userPassword\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"submit-item\"},[_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.addAdminMember('addMember')}}},[_vm._v(\"添 加\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.dialogType==='edit')?_c('el-form',{ref:\"droitInfoForm\",attrs:{\"label-width\":\"50px\",\"size\":\"medium\",\"model\":_vm.droitInfo}},[_c('el-row',{staticClass:\"mb20\",attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"用 户\"}},[_c('el-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.droitInfo.userName),callback:function ($$v) {_vm.$set(_vm.droitInfo, \"userName\", $$v)},expression:\"droitInfo.userName\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"审 核\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.droitInfo.toExamine),callback:function ($$v) {_vm.$set(_vm.droitInfo, \"toExamine\", $$v)},expression:\"droitInfo.toExamine\"}},[_c('el-option',{attrs:{\"label\":\"否\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"是\",\"value\":1}})],1)],1)],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"mb20\",attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"添 加\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.droitInfo.adds),callback:function ($$v) {_vm.$set(_vm.droitInfo, \"adds\", $$v)},expression:\"droitInfo.adds\"}},[_c('el-option',{attrs:{\"label\":\"否\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"是\",\"value\":1}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"删 除\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.droitInfo.deletes),callback:function ($$v) {_vm.$set(_vm.droitInfo, \"deletes\", $$v)},expression:\"droitInfo.deletes\"}},[_c('el-option',{attrs:{\"label\":\"否\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"是\",\"value\":1}})],1)],1)],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"mb20\",attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"查 看\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.droitInfo.shows),callback:function ($$v) {_vm.$set(_vm.droitInfo, \"shows\", $$v)},expression:\"droitInfo.shows\"}},[_c('el-option',{attrs:{\"label\":\"否\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"是\",\"value\":1}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"修 改\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.droitInfo.updates),callback:function ($$v) {_vm.$set(_vm.droitInfo, \"updates\", $$v)},expression:\"droitInfo.updates\"}},[_c('el-option',{attrs:{\"label\":\"否\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"是\",\"value\":1}})],1)],1)],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"mb20\"},[_c('el-form-item',{attrs:{\"label\":\"菜 单\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.droitInfo.menuList),callback:function ($$v) {_vm.$set(_vm.droitInfo, \"menuList\", $$v)},expression:\"droitInfo.menuList\"}},_vm._l((_vm.droitList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.menuName,\"value\":item.id}})}))],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"submit-item\"},[_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.editDroitInfo('edit')}}},[_vm._v(\"更 新\")])],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\n// EXTERNAL MODULE: ./node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer.js\nvar component_normalizer = __webpack_require__(\"18Nq\");\n\n// CONCATENATED MODULE: ./src/page/power/admin.vue\nfunction injectStyle (context) {\n  __webpack_require__(\"GITK\")\n}\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\n\nvar Component = Object(component_normalizer[\"a\" /* default */])(\n  admin,\n  render,\n  staticRenderFns,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var power_admin = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/29.335bd4155f5739e69fd5.js","function injectStyle (context) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=styles&index=0!./admin.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./admin.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./admin.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c1cf6ab2\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=template&index=0!./admin.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/power/admin.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"admin-user-wrap\">\n    <el-alert\n      title=\"操作说明\"\n      type=\"info\"\n      show-icon>\n      <p>\n        此表是本站全部管理员信息\n      </p>\n      <p>\n        <span class=\"red\">ps：</span>添加新用户时第一次设置权限是初始化用户权限，设置用户权限是需要进行第二次操作\n      </p>\n    </el-alert>\n    \n    <el-row class=\"mbt20\">\n      <el-button size=\"medium\" @click=\"dialogSync('add')\">添加</el-button>\n    </el-row>\n    \n    <el-row class=\"mbt20\">\n      <el-table\n        ref=\"multipleTable\"\n        :data=\"adminMemberList.list\"\n        border\n        select=\"row\"\n        style=\"width: 100%\">\n        <el-table-column\n          type=\"selection\"\n          align=\"center\">\n        </el-table-column>\n        \n        <el-table-column\n          prop=\"userId\"\n          label=\"ID\"\n          width=\"50\"\n          align=\"center\">\n        </el-table-column>\n        <el-table-column\n          prop=\"userName\"\n          label=\"用户名\"\n          align=\"center\">\n        </el-table-column>\n        \n        <el-table-column\n          prop=\"lastLogTime\"\n          label=\"最近登录\"\n        >\n          <template slot-scope=\"scope\">\n            <span>{{scope.row.loginTime | time('long')}}</span>\n          </template>\n        </el-table-column>\n        \n        <el-table-column\n          prop=\"loginIP\"\n          label=\"最新登录IP\"\n        >\n        </el-table-column>\n        \n        <el-table-column\n          align=\"center\"\n          label=\"状态\"\n          width=\"50\"\n        >\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.userState\" class=\"red\">锁定</span>\n            <span v-else class=\"green\">正常</span>\n          </template>\n        </el-table-column>\n       \n        <el-table-column\n          v-if=\"$store.state.userInfo && $store.state.userInfo.adminRolemenuanduserrole.updates\"\n          label=\"操作\"\n          align=\"center\">\n          <template slot-scope=\"scope\">\n            <a class=\"btn\" @click=\"editMemberInfo(scope.row)\">\n              修改密码\n            </a><br>\n            <a class=\"btn\" @click=\"dialogSync('edit',scope.row)\">\n              权限\n            </a>\n            <a href=\"javascript:0;\" @click=\"delMember(scope.row)\" class=\"btn red\">删除</a>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n        v-if=\"adminMemberList.list\"\n        class=\"mbt20\"\n        background\n        @current-change=\"pageChange\"\n        :pageSize=\"adminMemberList.pageSize\"\n        layout=\"prev, pager, next, jumper\"\n        :total=\"adminMemberList.total\">\n      </el-pagination>\n    </el-row>\n    \n    <el-dialog\n      :title=\"dialogType==='add'?'添加新用户':'权限管理'\"\n      class=\"dialog-submit-form\"\n      :visible.sync=\"dialogVisible\"\n      :width=\"dialogType==='add'?'380px':'680px'\">\n      <el-form\n        ref=\"addMember\"\n        v-if=\"dialogType==='add'\"\n        label-width=\"80px\"\n        size=\"medium\"\n        :model=\"memberInfo\">\n        <el-form-item\n          label=\"用户名\"\n          :rules=\"[{required:true,message:'请填写用户名'}]\">\n          <el-input v-model=\"memberInfo.userName\"></el-input>\n        </el-form-item>\n        <el-form-item\n          :rules=\"[{required:true,message:'请填写密码'}]\"\n          label=\"密  码\">\n          <el-input v-model=\"memberInfo.userPassword\"></el-input>\n        </el-form-item>\n        <el-form-item class=\"submit-item\">\n          <el-button size=\"medium\" @click=\"dialogVisible = false\">取 消</el-button>\n          <el-button size=\"medium\" type=\"primary\" @click=\"addAdminMember('addMember')\">添 加</el-button>\n        </el-form-item>\n      </el-form>\n  \n      <el-form v-if=\"dialogType==='edit'\" label-width=\"50px\" ref=\"droitInfoForm\" size=\"medium\" :model=\"droitInfo\">\n        <el-row :gutter=\"10\" class=\"mb20\">\n          <el-col :span=\"12\">\n            <el-form-item label=\"用 户\">\n              <el-input readonly v-model=\"droitInfo.userName\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"审 核\">\n              <el-select v-model=\"droitInfo.toExamine\" placeholder=\"请选择\">\n                <el-option label=\"否\" :value=\"0\"></el-option>\n                <el-option label=\"是\" :value=\"1\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        \n        <el-row :gutter=\"10\" class=\"mb20\">\n          <el-col :span=\"12\">\n            <el-form-item label=\"添 加\">\n              <el-select v-model=\"droitInfo.adds\" placeholder=\"请选择\">\n                <el-option label=\"否\" :value=\"0\"></el-option>\n                <el-option label=\"是\" :value=\"1\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"删 除\">\n              <el-select v-model=\"droitInfo.deletes\" placeholder=\"请选择\">\n                <el-option label=\"否\" :value=\"0\"></el-option>\n                <el-option label=\"是\" :value=\"1\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-row>\n  \n        <el-row :gutter=\"10\" class=\"mb20\">\n          <el-col :span=\"12\">\n            <el-form-item label=\"查 看\">\n              <el-select v-model=\"droitInfo.shows\" placeholder=\"请选择\">\n                <el-option label=\"否\" :value=\"0\"></el-option>\n                <el-option label=\"是\" :value=\"1\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"修 改\">\n              <el-select v-model=\"droitInfo.updates\" placeholder=\"请选择\">\n                <el-option label=\"否\" :value=\"0\"></el-option>\n                <el-option label=\"是\" :value=\"1\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        \n        <el-row class=\"mb20\">\n          <el-form-item label=\"菜 单\">\n            <el-select v-model=\"droitInfo.menuList\" multiple placeholder=\"请选择\">\n                <el-option v-for=\"item in droitList\" :label=\"item.menuName\" :value=\"item.id\" :key=\"item.id\"></el-option>\n            </el-select>\n          </el-form-item>\n        </el-row>\n  \n        <el-form-item class=\"submit-item\">\n            <el-button size=\"medium\" @click=\"dialogVisible = false\">取 消</el-button>\n            <el-button size=\"medium\" type=\"primary\" @click=\"editDroitInfo('edit')\">更 新</el-button>\n        </el-form-item>\n      </el-form>\n      \n    </el-dialog>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  export default{\n    data() {\n      return {\n        dialogType: 'add',\n        dialogVisible: false,\n        adminMemberList: {},\n        keywords: '',\n        selectType: '',\n        centerDialogVisible: false,\n        fileList: [],\n        file: [],\n        uploadData: {},\n        memberInfo: {\n          userName: '',\n          userPassword: ''\n        },\n        droitInfo: {\n          shows: 1,\n          deletes: 0,\n          updates: 0,\n          adds: 0,\n          toExamine: 1,\n          menuList: []\n        },\n        typeList: [],\n        droitList: []\n      }\n    },\n    methods: {\n      getMemberList() {\n        const searchValue = {\n          page: this.$route.params.page\n        }\n        this.$ajax('/admin/getAdminInfoList', searchValue, res => {\n          if (res.returnCode === 200) {\n            this.adminMemberList = res.data\n          } else if (!res.data) {\n            this.adminMemberList = {}\n          }\n        })\n      },\n      delMember(row) {\n        this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$ajax('/admin/deleteAdminInfo', { id: row.userId }, res => {\n            this.dialogVisible = false\n            if (res.returnCode === 200) {\n              this.getMemberList()\n              this.$message({ message: res.msg, type: 'success' })\n            }\n          })\n        })\n      },\n      addAdminMember(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            this.$ajax('/admin/addAdminInfo', this.memberInfo, res => {\n              this.dialogVisible = false\n              if (res.returnCode === 200) {\n                this.getMemberList()\n                this.$message({ message: res.msg, type: 'success' })\n              }\n            })\n          } else {\n            return false\n          }\n        })\n      },\n      editDroitInfo(type, val) {\n        let sub\n        if (type === 'edit') {\n          const subData = JSON.parse(JSON.stringify(this.droitInfo))\n          subData.menuList = subData.menuList.toString()\n          subData.type = 2\n          sub = subData\n        } else {\n          sub = {\n            userId: val.userId,\n            type: type === 'search' ? 1 : 3\n          }\n        }\n        this.$ajax('/admin/getAdminRolemenuanduserrole', sub, res => {\n          if (type !== 'search') {\n            this.dialogVisible = false\n          }\n          if (res.returnCode === 200) {\n            if (type === 'search') {\n              res.data.menuList = JSON.parse('[' + String(res.data.menuList.split(',')) + ']')\n              this.droitInfo = res.data\n              this.$set(this.droitInfo, 'userName', val.userName)\n            } else {\n              this.$message({ message: res.msg, type: 'success' })\n            }\n          } else if (!res.data && type === 'search') {\n            this.droitInfo.menuList = []\n          }\n        })\n      },\n      editMemberInfo(row) {\n        this.$prompt('请输入新密码', '修改密码', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          inputPattern: /[a-zA-Z\\d_]{6,18}/,\n          inputErrorMessage: '密码只能包含数字、字母和_，长度6-18位'\n        }).then(({ value }) => {\n          this.$ajax('/admin/updateAdminInfo', {\n            id: row.id,\n            userPassword: value\n          }, res => {\n            if (res.returnCode === 200) {\n              this.$message({\n                type: 'success',\n                message: res.msg\n              })\n            }\n          })\n        }).catch(() => {\n        })\n      },\n      getDroitList() {\n        this.$ajax('/admin-RefreshRoleMenu', '', res => {\n          if (res.returnCode === 200) {\n            // this.droitList = JSON.parse(sessionStorage.getItem('user_info')).allRoleMenuList\n            this.droitList = res.data.allRoleMenuList\n          }\n        })\n      },\n      pageChange(page) {\n        this.$router.push({ params: { page: page }})\n      },\n      dialogSync(type, row) {\n        this.dialogType = type\n        this.dialogVisible = true\n        if (type === 'edit') {\n          this.$set(this.droitInfo, 'userName', row.userName)\n          this.$set(this.droitInfo, 'userId', row.userId)\n          // console.log(this.droitInfo);\n          this.getDroitList()\n          this.editDroitInfo('search', row)\n        }\n      }\n    },\n    created() {\n      this.getMemberList()\n    },\n    watch: {\n      '$route': function() {\n        this.getMemberList()\n      }\n    }\n  }\n</script>\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  .cover-wrap\n    .avatar\n      width 100%\n      max-width 150px\n      min-width 30px\n      border-radius 50%\n  .avatar-upload\n    .el-dialog__body\n      padding 10px 20px 30px!important\n    .cover-preview\n      .avatar\n        width 200px\n        height 200px\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/power/admin.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"admin-user-wrap\"},[_c('el-alert',{attrs:{\"title\":\"操作说明\",\"type\":\"info\",\"show-icon\":\"\"}},[_c('p',[_vm._v(\"\\n      此表是本站全部管理员信息\\n    \")]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"red\"},[_vm._v(\"ps：\")]),_vm._v(\"添加新用户时第一次设置权限是初始化用户权限，设置用户权限是需要进行第二次操作\\n    \")])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){_vm.dialogSync('add')}}},[_vm._v(\"添加\")])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"mbt20\"},[_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.adminMemberList.list,\"border\":\"\",\"select\":\"row\"}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userId\",\"label\":\"ID\",\"width\":\"50\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"用户名\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"lastLogTime\",\"label\":\"最近登录\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"time\")(scope.row.loginTime,'long')))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"loginIP\",\"label\":\"最新登录IP\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"状态\",\"width\":\"50\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.userState)?_c('span',{staticClass:\"red\"},[_vm._v(\"锁定\")]):_c('span',{staticClass:\"green\"},[_vm._v(\"正常\")])]}}])}),_vm._v(\" \"),(_vm.$store.state.userInfo && _vm.$store.state.userInfo.adminRolemenuanduserrole.updates)?_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{staticClass:\"btn\",on:{\"click\":function($event){_vm.editMemberInfo(scope.row)}}},[_vm._v(\"\\n            修改密码\\n          \")]),_c('br'),_vm._v(\" \"),_c('a',{staticClass:\"btn\",on:{\"click\":function($event){_vm.dialogSync('edit',scope.row)}}},[_vm._v(\"\\n            权限\\n          \")]),_vm._v(\" \"),_c('a',{staticClass:\"btn red\",attrs:{\"href\":\"javascript:0;\"},on:{\"click\":function($event){_vm.delMember(scope.row)}}},[_vm._v(\"删除\")])]}}])}):_vm._e()],1),_vm._v(\" \"),(_vm.adminMemberList.list)?_c('el-pagination',{staticClass:\"mbt20\",attrs:{\"background\":\"\",\"pageSize\":_vm.adminMemberList.pageSize,\"layout\":\"prev, pager, next, jumper\",\"total\":_vm.adminMemberList.total},on:{\"current-change\":_vm.pageChange}}):_vm._e()],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"dialog-submit-form\",attrs:{\"title\":_vm.dialogType==='add'?'添加新用户':'权限管理',\"visible\":_vm.dialogVisible,\"width\":_vm.dialogType==='add'?'380px':'680px'},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[(_vm.dialogType==='add')?_c('el-form',{ref:\"addMember\",attrs:{\"label-width\":\"80px\",\"size\":\"medium\",\"model\":_vm.memberInfo}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"rules\":[{required:true,message:'请填写用户名'}]}},[_c('el-input',{model:{value:(_vm.memberInfo.userName),callback:function ($$v) {_vm.$set(_vm.memberInfo, \"userName\", $$v)},expression:\"memberInfo.userName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"rules\":[{required:true,message:'请填写密码'}],\"label\":\"密  码\"}},[_c('el-input',{model:{value:(_vm.memberInfo.userPassword),callback:function ($$v) {_vm.$set(_vm.memberInfo, \"userPassword\", $$v)},expression:\"memberInfo.userPassword\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"submit-item\"},[_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.addAdminMember('addMember')}}},[_vm._v(\"添 加\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.dialogType==='edit')?_c('el-form',{ref:\"droitInfoForm\",attrs:{\"label-width\":\"50px\",\"size\":\"medium\",\"model\":_vm.droitInfo}},[_c('el-row',{staticClass:\"mb20\",attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"用 户\"}},[_c('el-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.droitInfo.userName),callback:function ($$v) {_vm.$set(_vm.droitInfo, \"userName\", $$v)},expression:\"droitInfo.userName\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"审 核\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.droitInfo.toExamine),callback:function ($$v) {_vm.$set(_vm.droitInfo, \"toExamine\", $$v)},expression:\"droitInfo.toExamine\"}},[_c('el-option',{attrs:{\"label\":\"否\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"是\",\"value\":1}})],1)],1)],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"mb20\",attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"添 加\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.droitInfo.adds),callback:function ($$v) {_vm.$set(_vm.droitInfo, \"adds\", $$v)},expression:\"droitInfo.adds\"}},[_c('el-option',{attrs:{\"label\":\"否\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"是\",\"value\":1}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"删 除\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.droitInfo.deletes),callback:function ($$v) {_vm.$set(_vm.droitInfo, \"deletes\", $$v)},expression:\"droitInfo.deletes\"}},[_c('el-option',{attrs:{\"label\":\"否\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"是\",\"value\":1}})],1)],1)],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"mb20\",attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"查 看\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.droitInfo.shows),callback:function ($$v) {_vm.$set(_vm.droitInfo, \"shows\", $$v)},expression:\"droitInfo.shows\"}},[_c('el-option',{attrs:{\"label\":\"否\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"是\",\"value\":1}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"修 改\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.droitInfo.updates),callback:function ($$v) {_vm.$set(_vm.droitInfo, \"updates\", $$v)},expression:\"droitInfo.updates\"}},[_c('el-option',{attrs:{\"label\":\"否\",\"value\":0}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"是\",\"value\":1}})],1)],1)],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"mb20\"},[_c('el-form-item',{attrs:{\"label\":\"菜 单\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.droitInfo.menuList),callback:function ($$v) {_vm.$set(_vm.droitInfo, \"menuList\", $$v)},expression:\"droitInfo.menuList\"}},_vm._l((_vm.droitList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.menuName,\"value\":item.id}})}))],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"submit-item\"},[_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.editDroitInfo('edit')}}},[_vm._v(\"更 新\")])],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-c1cf6ab2\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/page/power/admin.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}